[33mcommit b7e9da42938d47acd2b17140fecc57676d3fac34[m[33m ([m[1;36mHEAD -> [m[1;32mmaster[m[33m, [m[1;31morigin/master[m[33m)[m
Author: Ziv89 <46285020+Ziv89@users.noreply.github.com>
Date:   Tue Feb 26 16:14:06 2019 +0200

    first commit

[1mdiff --git a/.bazelrc b/.bazelrc[m
[1mnew file mode 100644[m
[1mindex 0000000..59c6b0a[m
[1m--- /dev/null[m
[1m+++ b/.bazelrc[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32m# TODO: Remove incompatability flags[m
[32m+[m[32mbuild --proto_compiler //external:proto_compiler \[m
[32m+[m[32m      --proto_toolchain_for_java //external:proto_java_toolchain \[m
[32m+[m[32m      --incompatible_remove_native_http_archive=false \[m
[32m+[m[32m      --incompatible_remove_native_git_repository=false[m
[32m+[m[32mrun --direct_run[m
[32m+[m[32mtest --test_output=errors[m
[1mdiff --git a/.circleci/bazel.rc b/.circleci/bazel.rc[m
[1mnew file mode 100644[m
[1mindex 0000000..2747195[m
[1m--- /dev/null[m
[1m+++ b/.circleci/bazel.rc[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m# Based on config from github.com/alexeagle/angular-bazel-example[m
[32m+[m
[32m+[m[32m# These options are enabled when running on CI[m
[32m+[m[32m# We do this by copying this file to /etc/bazel.bazelrc at the start of the build.[m
[32m+[m[32m# See remote cache documentation in /docs/BAZEL.md[m
[32m+[m
[32m+[m[32m# Don't be spammy in the logs[m
[32m+[m[32mbuild --noshow_progress[m
[32m+[m
[32m+[m[32m# Don't run manual tests[m
[32m+[m[32mtest --test_tag_filters=-manual[m
[32m+[m
[32m+[m[32m# Print all the options that apply to the build.[m
[32m+[m[32m# This helps us diagnose which options override others[m
[32m+[m[32m# (e.g. /etc/bazel.bazelrc vs. tools/bazel.rc)[m
[32m+[m[32mbuild --announce_rc[m
[32m+[m
[32m+[m[32m# Prevent unstable environment variables from tainting cache keys[m
[32m+[m[32mbuild --experimental_strict_action_env[m
[32m+[m
[32m+[m[32m# Save downloaded repositories such as the go toolchain[m
[32m+[m[32m# This directory can then be included in the CircleCI cache[m
[32m+[m[32m# It should save time running the first build[m
[32m+[m[32mbuild --experimental_repository_cache=/home/circleci/bazel_repository_cache[m
[32m+[m
[32m+[m[32m# Workaround https://github.com/bazelbuild/bazel/issues/3645[m
[32m+[m[32m# Bazel doesn't calculate the memory ceiling correctly when running under Docker.[m
[32m+[m[32m# Limit Bazel to consuming 3072M of RAM[m
[32m+[m[32mbuild --local_resources=3072,1.0,1.0[m
[32m+[m[32m# Also limit Bazel's own JVM heap to stay within our 4G container limit[m
[32m+[m[32mstartup --host_jvm_args=-Xmx2G[m
[1mdiff --git a/.circleci/config.yml b/.circleci/config.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..47c3a11[m
[1m--- /dev/null[m
[1m+++ b/.circleci/config.yml[m
[36m@@ -0,0 +1,79 @@[m
[32m+[m[32m# Based on config from github.com/alexeagle/angular-bazel-example[m
[32m+[m[32mversion: 2[m
[32m+[m
[32m+[m[32m# We use a docker image as the basis for our build, so that all the toolchains we use[m
[32m+[m[32m# are already installed and the build can start running right away. It also guarantees[m
[32m+[m[32m# the environment is portable and reproducible on your local machine.[m
[32m+[m[32mvar_1: &docker_image angular/ngcontainer:0.8.0[m
[32m+[m
[32m+[m[32m# Each job will inherit these defaults[m
[32m+[m[32manchor_1: &job_defaults[m
[32m+[m[32m  working_directory: ~/ng[m
[32m+[m[32m  docker:[m
[32m+[m[32m    - image: *docker_image[m
[32m+[m
[32m+[m[32m# After checkout, rebase on top of master, because we want to test the proposed merge of a[m
[32m+[m[32m# onto the target branch, not just test what's on the user's fork.[m
[32m+[m[32m# Similar to travis behavior, but not quite the same.[m
[32m+[m[32m# See https://discuss.circleci.com/t/1662[m
[32m+[m[32manchor_2: &post_checkout[m
[32m+[m[32m  post: git pull --ff-only origin "refs/pull/${CI_PULL_REQUEST//*pull\//}/merge"[m
[32m+[m
[32m+[m
[32m+[m[32m# These jobs will run in parallel, and report separate statuses to GitHub PRs[m
[32m+[m[32mjobs:[m
[32m+[m[32m  lint:[m
[32m+[m[32m    <<: *job_defaults[m
[32m+[m[32m    steps:[m
[32m+[m[32m      - checkout:[m
[32m+[m[32m          <<: *post_checkout[m
[32m+[m[32m      - restore_cache:[m
[32m+[m[32m          key: "v3-bazel_cache"[m
[32m+[m[32m      - run: sudo apt update && sudo apt -y install yapf3 clang-format python3-pkg-resources libstdc++6[m
[32m+[m[32m      - run: sudo ln -s /usr/bin/yapf3 /usr/bin/yapf[m
[32m+[m[32m      - run: './tools/checkstyle/check-for-missing-targets.sh'[m
[32m+[m[32m      - run: './fix-formatting.sh'[m
[32m+[m
[32m+[m[32m  build:[m
[32m+[m[32m    <<: *job_defaults[m
[32m+[m[32m    steps:[m
[32m+[m[32m      - checkout:[m
[32m+[m[32m          <<: *post_checkout[m
[32m+[m
[32m+[m[32m      - restore_cache:[m
[32m+[m[32m          key: "android_sdk"[m
[32m+[m
[32m+[m[32m      - restore_cache:[m
[32m+[m[32m          key: "v3-bazel_cache"[m
[32m+[m
[32m+[m[32m      - run: sudo apt update && sudo apt -y install libstdc++6[m
[32m+[m[32m      - run: sudo cp .circleci/bazel.rc /etc/bazel.bazelrc[m
[32m+[m[32m      - run: bazel info release[m
[32m+[m[32m      - run: npm install[m
[32m+[m[32m      - run: bash tools/get_android_sdk.sh[m
[32m+[m[32m      - run:[m
[32m+[m[32m          command: ./compile.sh build[m
[32m+[m[32m          environment:[m
[32m+[m[32m            ANDROID_HOME: /home/circleci/android_sdk/[m
[32m+[m[32m      - run:[m
[32m+[m[32m          command: ./compile.sh test[m
[32m+[m[32m          environment:[m
[32m+[m[32m            ANDROID_HOME: /home/circleci/android_sdk/[m
[32m+[m
[32m+[m[32m      - save_cache:[m
[32m+[m[32m          key: "android_sdk"[m
[32m+[m[32m          paths:[m
[32m+[m[32m            - "/home/circleci/android_sdk"[m
[32m+[m[32m          key: "v3-bazel_cache"[m
[32m+[m[32m          paths:[m
[32m+[m[32m            - "/home/circleci/.cache/bazel/"[m
[32m+[m
[32m+[m
[32m+[m[32mworkflows:[m
[32m+[m[32m  version: 2[m
[32m+[m[32m  default_workflow:[m
[32m+[m[32m    jobs:[m
[32m+[m[32m      - lint[m
[32m+[m[32m      - build:[m
[32m+[m[32m          requires:[m
[32m+[m[32m            - lint[m
[1mdiff --git a/.gitignore b/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..1c39104[m
[1m--- /dev/null[m
[1m+++ b/.gitignore[m
[36m@@ -0,0 +1,56 @@[m
[32m+[m[32m# Built application files[m
[32m+[m[32m*.apk[m
[32m+[m[32m*.ap_[m
[32m+[m
[32m+[m[32m# Files for the ART/Dalvik VM[m
[32m+[m[32m*.dex[m
[32m+[m
[32m+[m[32m# Java class files[m
[32m+[m[32m*.class[m
[32m+[m
[32m+[m[32m# Generated files[m
[32m+[m[32mbin/[m
[32m+[m[32mgen/[m
[32m+[m[32mout/[m
[32m+[m[32mpackage-lock.json[m
[32m+[m
[32m+[m[32m# Gradle files[m
[32m+[m[32m.gradle/[m
[32m+[m[32mbuild/[m
[32m+[m[32m**/gradle-build[m
[32m+[m
[32m+[m[32m# Local configuration file (sdk path, etc)[m
[32m+[m[32mlocal.properties[m
[32m+[m
[32m+[m[32m# Proguard folder generated by Eclipse[m
[32m+[m[32mproguard/[m
[32m+[m
[32m+[m[32m# Log Files[m
[32m+[m[32m*.log[m
[32m+[m
[32m+[m[32m# Android Studio Navigation editor temp files[m
[32m+[m[32m.navigation/[m
[32m+[m
[32m+[m[32m# Android Studio captures folder[m
[32m+[m[32mcaptures/[m
[32m+[m
[32m+[m[32m# Intellij[m
[32m+[m[32m**/*.iml[m
[32m+[m[32m.idea/[m
[32m+[m
[32m+[m[32m# Keystore files[m
[32m+[m[32m*.jks[m
[32m+[m
[32m+[m[32m# External native build folder generated in Android Studio 2.2 and later[m
[32m+[m[32m.externalNativeBuild[m
[32m+[m
[32m+[m[32m# Freeline[m
[32m+[m[32mfreeline.py[m
[32m+[m[32mfreeline/[m
[32m+[m[32mfreeline_project_description.json[m
[32m+[m
[32m+[m[32m# Bazel[m
[32m+[m[32mbazel-*[m
[32m+[m
[32m+[m
[32m+[m[32m.project[m
[1mdiff --git a/.travis.yml b/.travis.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..0d92ff1[m
[1m--- /dev/null[m
[1m+++ b/.travis.yml[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32mlanguage: bash[m
[32m+[m[32msudo: required[m
[32m+[m[32menv:[m
[32m+[m[32m  global:[m
[32m+[m[32m    - secure: "fv053wf+Vo/aVdx6qZ+fey8j+ZJnMLgXeaDfVEZJAZmDjs88hkishEfvty6T4xoS6Z1shdwMwDWVLgWlr5+VIXnrRq5MiFlOm0vuU/cknuRIUqlcWNECzYWWOz2Aosa3zLcAroV+ISbouO2MtI90EHsKyAQtgh+LHshG7iQOYKpBGOZDzLoL5d+kbddsBEqHDCd63G3TIgy1wSHG7ZorMoU3/Z2teCMBNVjQ5e40rNPXhgFZ68xdKk8h0Mzs3N+mHzKsOsdNGXIshJTkGfT7Hb4UF7k2TMiAtoirJ/lVX3HuuNuQJ/GerowHLDPP7CiLEdt00WY7CuTAzwqDl68kPQUnVbvUguBUh+x7ekhW0aq8DwA3YUWP1DVXBNROdGXWtFgeBrRGurJPr6/yMRoIaYRgOC7rif5bH8QRVhjJ20YPDJtagfX1CRu7XjaEgYEWi0MdqwhY41d5P+FUhNQ94Y0V4ou+EfVTfaEpKO3xFTe9EBD2uSaYt909hRoL1L4yJjrXv0e8G71cwsRd3U8iXb7IvJY5hR5DByIIDBR84Bh1hS9HX9B1PBsPa2Jn7pK5lWIFu3koPCprqtPySt9FzeWrfvp4A8Q7wv4Xgaex8UtoSHAAhetfu43B3RsqO9KoA3XZl8auzeceO6vEyk+EPpnOHbuqFCVhPPEGBqSHAeI="[m
[32m+[m[32m    - secure: "QjBbqSKpgTCSBcm0pkkBnaT1ul1dHkxXP9k1DfPmHjMdEPB9g3NKQSlm6u0fzf8KXpHQc+FsjsHOcirffiuNz+F6HT7PtQ3f1W2cewjKn11KeoRKEo6hOZA5ZJ2dI1xdludDaKnVRqE69HcWoc2CPTQhOChOjnvr6CJGTG67kjqdZJORlIKiNvoudS2KD6Qg0liWkkQmRaiTufoYNRxOUKgg/3h9puPpl9otJIYD+0NgQ+o2BoVVQWNobKLtOC4AlwS2H3PePyGyCaPl1CCkwTKwp4zk1hosbEZgrFQwxgXfa6yHw4dnhTERlfmE0ZHCvayrCvFyhF/GjCXJWZ8j6NE0imwOsSf/reNA0d/PZk+02Nns/OZYwPrecyN1tbMOeN1EAs2iO6oIktWwpYpCv0lp01kfGHk63gCIOmJ4vZSzl/HU2bAsz3BltRgWtilzkIGy7pi7Z8PK4u9V91vscUzubGhsKIyivmCVrlibwRCM/47GFokeFpIAVRnFZCNPiEDh1jvnYSq3W0OcFnekqfT0yz5eIoE/GY4E/G78GMs3v9pUpLJVY94oWxFqBG8CLXqNYziqTMLKtQq0XDBelIPb1D5TMWUx0avS7nQyaRI4ZDcvwANWrH/qt3Yi+SCx7C7cYpXBtN1qOqimB3dVOa3oeuYIRF7hbW2Ima6NCQw="[m
[32m+[m[32m    - K8S_OPS_REPO_BRANCH=master[m
[32m+[m[32m    - K8S_OPS_REPO_SLUG=hasadna/hasadna-k8s[m
[32m+[m[32m    - DOCKER_IMAGE=uumpa/hasadna-mysadna[m
[32m+[m[32m    - DEPLOY_YAML_UPDATE_FILE=values.auto-updated.yaml[m
[32m+[m[32m    - DEPLOY_VALUES_CHART_NAME=mysadna[m
[32m+[m[32m    - DEPLOY_VALUES_IMAGE_PROP=image[m
[32m+[m[32m    - DEPLOY_COMMIT_MESSAGE="automatic update of mysadna"[m
[32m+[m[32m    - DEPLOY_GIT_EMAIL=mysadna@hasadna.org.il[m
[32m+[m[32m    - DEPLOY_GIT_USER=mysadna-deployer[m
[32m+[m[32m    - SSH_DEPLOY_KEY_OPENSSL_CMD="openssl aes-256-cbc -K $encrypted_ff5d1c5705e0_key -iv $encrypted_ff5d1c5705e0_iv -in mysadna_github_deploy_key.id_rsa.enc -out mysadna_github_deploy_key.id_rsa -d"[m
[32m+[m[32mservices:[m
[32m+[m[32m  - docker[m
[32m+[m[32mscript:[m
[32m+[m[32m  - curl -s https://raw.githubusercontent.com/hasadna/hasadna-k8s/master/apps_travis_script.sh > projects/mysadna/.travis.sh[m
[32m+[m[32m  - cd projects/mysadna && bash .travis.sh script[m
[32m+[m[32mdeploy:[m
[32m+[m[32m  skip_cleanup: true[m
[32m+[m[32m  provider: script[m
[32m+[m[32m  script: bash .travis.sh deploy[m
[32m+[m[32m  on:[m
[32m+[m[32m    branch: master[m
[1mdiff --git a/BUILD b/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md[m
[1mnew file mode 100644[m
[1mindex 0000000..27316f4[m
[1m--- /dev/null[m
[1m+++ b/CONTRIBUTING.md[m
[36m@@ -0,0 +1,65 @@[m
[32m+[m[32m# How to clone repository[m
[32m+[m[32m```[m
[32m+[m[32mgit clone https://github.com/hasadna/hasadna.git[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m# How to start working on new task[m
[32m+[m[32mCheck your status[m
[32m+[m[32m```[m
[32m+[m[32mgit status[m
[32m+[m[32m```[m
[32m+[m[32mIf you see red files, then you need to put them somewhere. Stash might be good place.[m
[32m+[m[32m```[m
[32m+[m[32mgit add -A[m
[32m+[m[32mgit stash[m
[32m+[m[32m```[m
[32m+[m[32mOpen master[m
[32m+[m[32m```[m
[32m+[m[32mgit checkout master[m
[32m+[m[32m```[m
[32m+[m[32mPull fresh updates from github[m
[32m+[m[32m```[m
[32m+[m[32mgit pull origin master[m
[32m+[m[32m```[m
[32m+[m[32mCreate development branch[m
[32m+[m[32m```[m
[32m+[m[32mgit checkout -b my-dev-branch[m
[32m+[m[32m```[m
[32m+[m[32mYou can set your own name instead of `my-dev-branch`[m[41m  [m
[32m+[m
[32m+[m[32mGreat! You're ready to start. Now you can add your own changes to the code.[m
[32m+[m
[32m+[m[32m# How to create Pull Request[m
[32m+[m[32mAdd your changes to index[m
[32m+[m[32m```[m
[32m+[m[32mgit add -A[m
[32m+[m[32m```[m
[32m+[m[32mCheck which files were added to index.[m[41m  [m
[32m+[m[32mThere should be only the files, which you modified,[m[41m  [m
[32m+[m[32mno node_modules, dist, and else autogenerated files.[m[41m  [m
[32m+[m[32mIndex files are highlighted as green.[m
[32m+[m[32m```[m
[32m+[m[32mgit status[m
[32m+[m[32m```[m
[32m+[m[32mCommit your changes[m
[32m+[m[32m```[m
[32m+[m[32mgit commit -m "my awesome update"[m
[32m+[m[32m```[m
[32m+[m[32mNow you can review your own changes[m
[32m+[m[32m```[m
[32m+[m[32mgit show[m
[32m+[m[32m```[m
[32m+[m[32mSend your code to github[m
[32m+[m[32m```[m
[32m+[m[32mgit push origin my-dev-branch[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32mOpen page of your repository on github. You will see an offer to create Pull Request:[m
[32m+[m[32m![Screenshot 1](https://i.imgur.com/ChTkwOt.png)[m
[32m+[m
[32m+[m[32mNow you can write nice title, ask someone to review, and add some description.[m[41m  [m
[32m+[m[32mIt's last chance to check your code before creating PR :)[m
[32m+[m[32m![Screenshot 2](https://i.imgur.com/lIvipvz.png)[m
[32m+[m
[32m+[m[32mWhen PR is created, don't forget to send a link to slack:[m
[32m+[m[32m![Screenshot 3](https://i.imgur.com/eA1zFQt.png)[m
[1mdiff --git a/NOMENCLATURE.md b/NOMENCLATURE.md[m
[1mnew file mode 100644[m
[1mindex 0000000..9b46bbe[m
[1m--- /dev/null[m
[1m+++ b/NOMENCLATURE.md[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m# Our nomenclature[m
[32m+[m[32mThis is a guideline on how we name things, in addition to the per-language usual style guide.[m
[32m+[m[32mThese are in lowerCamelCase, but hold for other_styles as well.[m
[32m+[m
[32m+[m[32m* absFilename - absolute folder + filename[m
[32m+[m[32m* relFilename - relative folder + filename[m
[32m+[m[32m* filename - just filename[m
[32m+[m[32m* absPath - absolute folder[m
[32m+[m[32m* relPath - relative folder[m
[1mdiff --git a/README.md b/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..7516581[m
[1m--- /dev/null[m
[1m+++ b/README.md[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32m# Hasadna monorepo[m
[32m+[m
[32m+[m[32m[![CircleCI](https://circleci.com/gh/hasadna/hasadna.svg?style=svg)](https://circleci.com/gh/hasadna/hasadna)[m
[32m+[m
[32m+[m[32m## Installation[m
[32m+[m[32mInstall [Bazel](https://docs.bazel.build/versions/master/install.html). That's it![m
[32m+[m
[32m+[m[32m## Build & Test[m
[32m+[m[32m* Build everything: `./compile.sh build`[m
[32m+[m[32m* Run all tests: `./compile.sh test`[m
[32m+[m
[32m+[m[32m## About monorepos[m
[32m+[m[32mA monorepo is a software development approach where all code is stored in a single repository. Some things are easier to do in a monorepo, such as sharing a proto file across front-end and backend, some things are harder, such as per-repo control over collaborators, email notifications, commit history etc.[m
[32m+[m
[32m+[m[32mSome monorepo etiquette:[m
[32m+[m[32m1. Don't store large files in the repo (>500kb), or many small files. Until we figure out a way to deal with them, you can store them in a different repo.[m
[32m+[m[32m2. If you use code belonging to another project, talk to the people of that project about it. If you don't, they might accidentally break your code.[m
[32m+[m[32m3. If you change code common to multiple projects, do it thoughfully.[m
[32m+[m[32m4. Kindly provide a LICENSE file for your project.[m
[32m+[m
[32m+[m[32mSome good reads about the monorepo approach:[m
[32m+[m[32m* [trunkbaseddevelopment.com/monorepos](https://trunkbaseddevelopment.com/monorepos/)[m
[32m+[m[32m* [Why Google stores billions of lines of code in a single repository](https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext)[m
[32m+[m
[32m+[m[32m## Platforms[m
[32m+[m[32mWhile Bazel supports Linux, Mac and Windows, this repo supports Linux and Mac.[m
[32m+[m[32mIf you're on Windows 10, you can use [Windows Subsystem for Linux (WSL)](https://docs.microsoft.com/ru-ru/windows/wsl/about).[m
[32m+[m[32mIt gives you a Linux environment, without the overhead of a virtual machine.[m
[32m+[m
[32m+[m[32m#### Installing Windows Subsystem for Linux:[m
[32m+[m[32mPlease follow the [guide](https://docs.microsoft.com/ru-ru/windows/wsl/install-win10).[m
[32m+[m[32mNote: You may have to do a Windows upgrade. If you need it, it will ask for it at the beginning of the installation.[m
[32m+[m
[32m+[m[32m## Contributing[m
[32m+[m[32mYou're welcome to contribute and in doing so, learn these technologies.[m
[32m+[m[32mYou can have a look at the issues list, or at the project [milestones](docs/milestones.md).[m
[32m+[m
[32m+[m
[32m+[m[32mHappy coding![m
[1mdiff --git a/WORKSPACE b/WORKSPACE[m
[1mnew file mode 100644[m
[1mindex 0000000..e1be9d5[m
[1m--- /dev/null[m
[1m+++ b/WORKSPACE[m
[36m@@ -0,0 +1,174 @@[m
[32m+[m[32mload("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")[m
[32m+[m[32mload("@bazel_tools//tools/build_defs/repo:http.bzl", "http_file")[m
[32m+[m[32mload("@bazel_tools//tools/build_defs/repo:http.bzl", "http_jar")[m
[32m+[m
[32m+[m[32mload("//third_party/maven:workspace.bzl", "maven_dependencies")[m
[32m+[m
[32m+[m[32mmaven_dependencies()[m
[32m+[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "io_grpc_grpc_java",[m
[32m+[m[32m    sha256 = "48425cd631afb117fd355fd961deb313b3ac8e43f2b95c1598f35fbfcf684fbc",[m
[32m+[m[32m    strip_prefix = "grpc-java-1.16.1",[m
[32m+[m[32m    urls = ["https://github.com/grpc/grpc-java/archive/v1.16.1.tar.gz"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Google Maven Repository[m
[32m+[m[32mGMAVEN_TAG = "20180513-1"[m
[32m+[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "gmaven_rules",[m
[32m+[m[32m    sha256 = "da44017f6d7bc5148a73cfd9bf8dbb1ee5a1301a596edad9181c5dc7648076ae",[m
[32m+[m[32m    strip_prefix = "gmaven_rules-20180513-1",[m
[32m+[m[32m    url = "https://github.com/bazelbuild/gmaven_rules/archive/20180513-1.tar.gz",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mload("@gmaven_rules//:gmaven.bzl", "gmaven_rules")[m
[32m+[m
[32m+[m[32mgmaven_rules()[m
[32m+[m
[32m+[m[32m# Android SDK configuration. For more details, see:[m
[32m+[m[32m# https://docs.bazel.build/versions/master/be/android.html#android_sdk_repository[m
[32m+[m[32mandroid_sdk_repository([m
[32m+[m[32m    name = "androidsdk",[m
[32m+[m[32m    api_level = 27,[m
[32m+[m[32m    build_tools_version = "27.0.3",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m[32m# MARK: StartupOS start[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "startup_os",[m
[32m+[m[32m    urls = ["https://github.com/google/startup-os/archive/30961b3d08b75cb9590b8c45e578680639d955e4.zip"],[m
[32m+[m[32m    strip_prefix = "startup-os-30961b3d08b75cb9590b8c45e578680639d955e4"[m
[32m+[m[32m)[m
[32m+[m[32m# MARK: StartupOS end[m
[32m+[m
[32m+[m[32m# StartupOS dependencies start[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "io_bazel_rules_docker",[m
[32m+[m[32m    strip_prefix = "rules_docker-0.5.1",[m
[32m+[m[32m    urls = ["https://github.com/bazelbuild/rules_docker/archive/v0.5.1.tar.gz"],[m
[32m+[m[32m)[m
[32m+[m[32mhttp_jar([m
[32m+[m[32m    name = "bazel_deps",[m
[32m+[m[32m    sha256 = "98b05c2826f2248f70e7356dc6c78bc52395904bb932fbb409a5abf5416e4292",[m
[32m+[m[32m    urls = ["https://github.com/oferb/startupos-binaries/releases/download/0.1.01/bazel_deps.jar"],[m
[32m+[m[32m)[m
[32m+[m[32m# StartupOS dependencies end[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "buildifier",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "d7d41def74991a34dfd2ac8a73804ff11c514c024a901f64ab07f45a3cf0cfef",[m
[32m+[m[32m    urls = ["https://github.com/bazelbuild/buildtools/releases/download/0.11.1/buildifier"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "buildifier_osx",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "3cbd708ff77f36413cfaef89cd5790a1137da5dfc3d9b3b3ca3fac669fbc298b",[m
[32m+[m[32m    urls = ["https://github.com/bazelbuild/buildtools/releases/download/0.11.1/buildifier.osx"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "protoc_bin",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "6003de742ea3fcf703cfec1cd4a3380fd143081a2eb0e559065563496af27807",[m
[32m+[m[32m    urls = ["https://github.com/google/protobuf/releases/download/v3.6.1/protoc-3.6.1-linux-x86_64.zip"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "protoc_bin_osx",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "0decc6ce5beed07f8c20361ddeb5ac7666f09cf34572cca530e16814093f9c0c",[m
[32m+[m[32m    urls = ["https://github.com/google/protobuf/releases/download/v3.6.1/protoc-3.6.1-osx-x86_64.zip"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mbind([m
[32m+[m[32m    name = "proto_compiler",[m
[32m+[m[32m    actual = "@startup_os//tools:protoc"[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mbind([m
[32m+[m[32m    name = "proto_java_toolchain",[m
[32m+[m[32m    actual = "@startup_os//tools:java_toolchain"[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mbind([m
[32m+[m[32m    name = "grpc_java_plugin",[m
[32m+[m[32m    actual = "@startup_os//tools:grpc_java_plugin"[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "grpc_java_plugin_linux",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "cdd93cdf24d11ccd7bad6a4d55c9bbe55e776c3972ef177974512d5aa58debd7",[m
[32m+[m[32m    urls = ["https://github.com/oferb/startupos-binaries/releases/download/0.1.02/grpc_java_plugin_linux"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "grpc_java_plugin_osx",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "e69af502d906199675454ac8af7dfddff78e6213df9abc63434c522adea6c6fb",[m
[32m+[m[32m    urls = ["https://github.com/oferb/startupos-binaries/releases/download/0.1.0/grpc_java_plugin_osx"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "clang_format_bin",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "320f62a8a20941b7d876c09de96913e0d18f0e2649688c2cd010a5f12b5d7616",[m
[32m+[m[32m    urls = ["https://github.com/oferb/startupos-binaries/releases/download/0.1.0/clang_format_bin"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "clang_format_bin_osx",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "06986eeed23213c5b6a97440c6a3090eabc62ceaf7fcb72f2b95c4744128dccf",[m
[32m+[m[32m    urls = ["https://github.com/oferb/startupos-binaries/releases/download/0.1.0/clang_format_bin_osx"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "shfmt",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "bdf8e832a903a80806b93a9ad80d8f95a70966fbec3258a565ed5edc2ae5bcdc",[m
[32m+[m[32m    urls = ["https://github.com/mvdan/sh/releases/download/v2.6.2/shfmt_v2.6.2_linux_amd64"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "shfmt_osx",[m
[32m+[m[32m    executable = True,[m
[32m+[m[32m    sha256 = "aaaa7d639acb30853e2f5008f56526c8dd54a366219ebdc5fa7f13a15277dd0b",[m
[32m+[m[32m    urls = ["https://github.com/mvdan/sh/releases/download/v2.6.2/shfmt_v2.6.2_darwin_amd64"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# MARK: sample data for analysis pipeline start[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "step1_data",[m
[32m+[m[32m    sha256 = "23927505626ebdb8e17f64368ed8b8f47e1bd5baa4b8e6d9c1f25de045589f11",[m
[32m+[m[32m    url = "https://github.com/hasadna/hasadna/releases/download/v1/example_input_data_step1.zip",[m
[32m+[m[32m    build_file_content = 'exports_files(["file1.txt", "file2.txt"])',[m
[32m+[m[32m    strip_prefix = 'example_input_data_step1'[m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m[32mhttp_file([m
[32m+[m[32m    name = "step1_prebuilt_output",[m
[32m+[m[32m    urls = ["https://github.com/hasadna/hasadna/releases/download/v1/merged_file1_file2.prototxt"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "step1_prebuilt_zipped_output",[m
[32m+[m[32m    sha256 = "08e5549daf5067079409fc31d8d1f3c5686a15c9da664f37464f2d7e3ba7c83b",[m
[32m+[m[32m    url = "https://github.com/hasadna/hasadna/releases/download/v1/merged_file1_file2.prototxt.zip",[m
[32m+[m[32m    build_file_content = 'exports_files(["merged_file1_file2.prototxt"])',[m
[32m+[m[32m)[m
[32m+[m[32m# MARK: sample data for analysis pipeline end[m
[32m+[m
[32m+[m[32m#gtfs_data[m
[32m+[m[32mhttp_archive([m
[32m+[m[32m    name = "gtfs_data",[m
[32m+[m[32m    url = "https://firebasestorage.googleapis.com/v0/b/startupos-5f279.appspot.com/o/israel-public-transportation.zip?alt=media&token=a9bc43a5-36a6-4126-9e19-2e42f9ff663c",[m
[32m+[m[32m    build_file_content = 'exports_files(["agency.txt", "calendar.txt", "fare_attributes.txt", "fare_rules.txt", "routes.txt", "shapes.txt", "stop_times.txt", "stops.txt", "translations.txt", "trips.txt"])',[m
[32m+[m[32m)[m
[1mdiff --git a/commands.txt b/commands.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..4a1b2b7[m
[1m--- /dev/null[m
[1m+++ b/commands.txt[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mSee https://github.com/google/startup-os/blob/master/commands.txt[m
[1mdiff --git a/compile.sh b/compile.sh[m
[1mnew file mode 100755[m
[1mindex 0000000..b1d3deb[m
[1m--- /dev/null[m
[1m+++ b/compile.sh[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32mRED=$(tput setaf 1)[m
[32m+[m[32mRESET=$(tput sgr0)[m
[32m+[m
[32m+[m[32mCIRCLECI_MAX_ATTEMPTS=10[m
[32m+[m
[32m+[m[32mfunction bazel_build() {[m
[32m+[m[32m  if [[ -z "$ANDROID_HOME" ]]; then[m
[32m+[m[32m    # Ignore third_party and android targets[m
[32m+[m[32m    bazel query '//... except //third_party/... except kind("android_.* rule", //...)' | xargs bazel $1[m
[32m+[m[32m    return $?[m
[32m+[m[32m  else[m
[32m+[m[32m    # Ignore just third_party[m
[32m+[m[32m    bazel query '//... except //third_party/...' | xargs bazel $1[m
[32m+[m[32m    return $?[m
[32m+[m[32m  fi[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m# Run with `bazel` command as param (build|test)[m
[32m+[m[32mif [[ $1 != "build" && $1 != "test" ]]; then[m
[32m+[m[32m  echo "$RED""Run script with 'build' or 'test' as param$RESET"[m
[32m+[m[32m  exit 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mif [[ ! -z "$CIRCLECI" ]]; then[m
[32m+[m[32m  echo "$RED""Due to flakiness in bazel execution on CircleCI, trying to build several times"[m
[32m+[m[32m  for i in $(seq 1 ${CIRCLECI_MAX_ATTEMPTS}); do[m
[32m+[m[32m    echo "$RED""[Attempt $i/${CIRCLECI_MAX_ATTEMPTS}]: building$RESET"[m
[32m+[m[32m    bazel $1 //...[m
[32m+[m[32m    if [[ $? -eq 0 ]]; then[m
[32m+[m[32m      echo "$GREEN""[Attempt $i/${CIRCLECI_MAX_ATTEMPTS}]: successful$RESET"[m
[32m+[m[32m      exit 0[m
[32m+[m[32m    fi[m
[32m+[m[32m  done[m
[32m+[m
[32m+[m[32m  echo "$RED""[Attempts exhausted]: Seems it's a problem with your code and not a CircleCI flake.$RESET"[m
[32m+[m[32m  exit 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mbazel_build $1[m
[32m+[m[32mexit $?[m
[1mdiff --git a/dependencies.yaml b/dependencies.yaml[m
[1mnew file mode 100644[m
[1mindex 0000000..5440666[m
[1m--- /dev/null[m
[1m+++ b/dependencies.yaml[m
[36m@@ -0,0 +1,206 @@[m
[32m+[m[32moptions:[m
[32m+[m[32m  languages: [ "java" ][m
[32m+[m[32m  # permissive — Code that is under a license but does not require a notice.[m
[32m+[m[32m  # we assume all Maven Central artifacts to not require a notice,[m
[32m+[m[32m  # but may not appear true for all of them[m
[32m+[m[32m  licenses: [ "permissive" ][m
[32m+[m[32m  namePrefix: "mvn"[m
[32m+[m[32m  resolverType: "coursier"[m
[32m+[m[32m  resolvers:[m[41m [m
[32m+[m[32m    - id: "mavencentral"[m
[32m+[m[32m      type: "default"[m
[32m+[m[32m      url: https://repo.maven.apache.org/maven2/[m
[32m+[m[32m  thirdPartyDirectory: "third_party/maven/"[m
[32m+[m[32m  transitivity: runtime_deps[m
[32m+[m[32m  versionConflictPolicy: highest[m
[32m+[m
[32m+[m[32mdependencies:[m
[32m+[m[32m  com.google.api:[m
[32m+[m[32m    api-common:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.7.0"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.auto:[m
[32m+[m[32m    auto-common:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "0.10"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.auto.factory:[m
[32m+[m[32m    auto-factory:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.0-beta6"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.auto.value:[m
[32m+[m[32m    auto-value:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      processorClasses: [ "com.google.auto.value.processor.AutoValueProcessor" ][m
[32m+[m[32m      version: "1.6.3"[m
[32m+[m[32m    auto-value-annotations:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.6.3"[m
[32m+[m
[32m+[m[32m  com.google.code.findbugs:[m
[32m+[m[32m    jsr305:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "3.0.2"[m
[32m+[m
[32m+[m[32m  com.google.code.gson:[m
[32m+[m[32m    gson:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.8.5"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.dagger:[m
[32m+[m[32m    dagger:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      modules: [ "", "compiler" ][m
[32m+[m[32m      version: "2.20"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.firebase:[m
[32m+[m[32m    firebase-admin:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "6.6.0"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.flogger:[m
[32m+[m[32m    flogger:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      modules: [ "", "system-backend" ][m
[32m+[m[32m      version: "0.3.1"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.googlejavaformat:[m
[32m+[m[32m    google-java-format:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.6"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.guava:[m
[32m+[m[32m    guava:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      # we have to use -android instead of -jre[m
[32m+[m[32m      # because dexing cannot handle -jre version[m
[32m+[m[32m      # and we can't include both[m
[32m+[m[32m      version: "27.0.1-android"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.jimfs:[m
[32m+[m[32m    jimfs:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.1"[m
[32m+[m[41m  [m
[32m+[m[32m  com.google.protobuf:[m
[32m+[m[32m    protobuf-java:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      modules: [ "", "util" ][m
[32m+[m[32m      version: "3.6.1"[m
[32m+[m[41m  [m
[32m+[m[32m  com.jcraft:[m
[32m+[m[32m    jsch:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "0.1.55"[m
[32m+[m
[32m+[m[32m  com.puppycrawl.tools:[m
[32m+[m[32m    checkstyle:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "8.15"[m
[32m+[m[41m  [m
[32m+[m[32m  com.squareup.okhttp:[m
[32m+[m[32m    okhttp:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.7.5"[m
[32m+[m
[32m+[m[32m  com.squareup.okio:[m
[32m+[m[32m    okio:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.16.0"[m
[32m+[m
[32m+[m[32m  commons-logging:[m
[32m+[m[32m    commons-logging:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.2"[m
[32m+[m
[32m+[m[32m  io.grpc:[m
[32m+[m[32m    grpc:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      modules: [ "core", "netty", "protobuf", "services", "stub", "netty-shaded" ][m
[32m+[m[32m      version: "1.16.1"[m
[32m+[m
[32m+[m[32m  io.netty:[m
[32m+[m[32m    netty-codec-http2:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "4.1.32.Final"[m
[32m+[m[32m    netty-tcnative-boringssl-static:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.0.20.Final"[m
[32m+[m
[32m+[m[32m  io.opencensus:[m
[32m+[m[32m    opencensus-contrib-grpc-metrics:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "0.18.0"[m
[32m+[m
[32m+[m[32m  javax.annotation:[m
[32m+[m[32m    javax.annotation-api:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.3.2"[m
[32m+[m
[32m+[m[32m  javax.inject:[m
[32m+[m[32m    javax.inject:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1"[m
[32m+[m
[32m+[m[32m  junit:[m
[32m+[m[32m    junit:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "4.12"[m
[32m+[m[41m  [m
[32m+[m[32m  org.apache.commons:[m
[32m+[m[32m    commons-csv:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.6"[m
[32m+[m[32m    commons-lang3:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "3.8.1"[m
[32m+[m[41m  [m
[32m+[m[32m  org.apache.httpcomponents:[m
[32m+[m[32m    fluent-hc:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "4.5.6"[m
[32m+[m[41m  [m
[32m+[m[32m  org.apache.pdfbox:[m
[32m+[m[32m    fontbox:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.0.13"[m
[32m+[m[32m    pdfbox:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.0.13"[m
[32m+[m
[32m+[m[32m  org.checkerframework:[m
[32m+[m[32m    checker-qual:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.5.5"[m
[32m+[m[41m  [m
[32m+[m[32m  org.javassist:[m
[32m+[m[32m    javassist:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "3.24.1-GA"[m
[32m+[m[41m  [m
[32m+[m[32m  org.json:[m
[32m+[m[32m    json:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "20180813"[m
[32m+[m[41m  [m
[32m+[m[32m  org.jsoup:[m
[32m+[m[32m    jsoup:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.11.3"[m
[32m+[m[41m  [m
[32m+[m[32m  org.mockito:[m
[32m+[m[32m    mockito-core:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "2.23.4"[m
[32m+[m[41m  [m
[32m+[m[32m  org.objenesis:[m
[32m+[m[32m    objenesis:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "3.0.1"[m
[32m+[m[41m  [m
[32m+[m[32m  org.slf4j:[m
[32m+[m[32m    slf4j-simple:[m
[32m+[m[32m      lang: java[m
[32m+[m[32m      version: "1.7.25"[m
[1mdiff --git a/examples/java/simple_test/BUILD b/examples/java/simple_test/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..ea45d4c[m
[1m--- /dev/null[m
[1m+++ b/examples/java/simple_test/BUILD[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32mpackage(default_visibility = ["//visibility:public"])[m
[32m+[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "foo",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "Foo.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "foo-checkstyle",[m
[32m+[m[32m    target = ":foo",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/examples/java/simple_test/Foo.java b/examples/java/simple_test/Foo.java[m
[1mnew file mode 100644[m
[1mindex 0000000..074b2f5[m
[1m--- /dev/null[m
[1m+++ b/examples/java/simple_test/Foo.java[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mpackage examples.java.simple_test;[m
[32m+[m
[32m+[m[32mpublic class Foo {[m
[32m+[m[32m  public String getFullName(String firstName, String lastName) {[m
[32m+[m[32m    return firstName + " " + lastName;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/examples/java/simple_test/tests/BUILD b/examples/java/simple_test/tests/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..4f3081c[m
[1m--- /dev/null[m
[1m+++ b/examples/java/simple_test/tests/BUILD[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_test([m
[32m+[m[32m    name = "foo_test",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "FooTest.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    test_class = "examples.java.simple_test.tests.FooTest",[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        "//third_party/maven/junit",[m
[32m+[m[32m        "//examples/java/simple_test:foo"[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "foo_test-checkstyle",[m
[32m+[m[32m    target = ":foo_test",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/examples/java/simple_test/tests/FooTest.java b/examples/java/simple_test/tests/FooTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..5fb86cd[m
[1m--- /dev/null[m
[1m+++ b/examples/java/simple_test/tests/FooTest.java[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mpackage examples.java.simple_test.tests;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.assertEquals;[m
[32m+[m
[32m+[m[32mimport examples.java.simple_test.Foo;[m
[32m+[m[32mimport org.junit.Before;[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m
[32m+[m[32mpublic class FooTest {[m
[32m+[m[32m  private Foo foo;[m
[32m+[m
[32m+[m[32m  @Before[m
[32m+[m[32m  public void setup() {[m
[32m+[m[32m    foo = new Foo();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void getFullNameTest() {[m
[32m+[m[32m    assertEquals("John Smith", foo.getFullName("John", "Smith"));[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/fix-formatting.sh b/fix-formatting.sh[m
[1mnew file mode 100755[m
[1mindex 0000000..a7fc37d[m
[1m--- /dev/null[m
[1m+++ b/fix-formatting.sh[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32m# Run it before committing to fix formatting[m
[32m+[m[32m# on all files so you won't fail early on review[m
[32m+[m[32m# Execute from repo root or, if using aa from base/head/startup-os[m
[32m+[m
[32m+[m[32mRED=$(tput setaf 1)[m
[32m+[m[32mRESET=$(tput sgr0)[m
[32m+[m
[32m+[m[32mnpm install &>/dev/null[m
[32m+[m
[32m+[m[32mbazel run @startup_os//tools/formatter -- \[m
[32m+[m	[32m--path $(pwd) \[m
[32m+[m	[32m--java --python --proto --cpp --build \[m
[32m+[m	[32m--ignore_directories $(find $(pwd) -name node_modules -type d | paste -s -d , -) \[m
[32m+[m	[32m&>/dev/null[m
[32m+[m
[32m+[m[32m# Prints out an error only if both conditions are satisfied:[m
[32m+[m[32m# * we are on CircleCI[m
[32m+[m[32m# * working tree contains unstaged changes[m
[32m+[m[32m# When ran locally it silently fixes everything.[m
[32m+[m[32mif [[ ! -z "$CIRCLECI" && ! -z $(git status -s) ]]; then[m
[32m+[m	[32mecho "$RED[!] Source files are not formatted$RESET";[m
[32m+[m	[32mecho "Please run ''./fix_formatting.sh'' to fix it"[m
[32m+[m	[32mexit 1[m
[32m+[m[32mfi[m
[1mdiff --git a/projects/angular-proto-firestore/.editorconfig b/projects/angular-proto-firestore/.editorconfig[m
[1mnew file mode 100644[m
[1mindex 0000000..e89330a[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/.editorconfig[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m# Editor configuration, see https://editorconfig.org[m
[32m+[m[32mroot = true[m
[32m+[m
[32m+[m[32m[*][m
[32m+[m[32mcharset = utf-8[m
[32m+[m[32mindent_style = space[m
[32m+[m[32mindent_size = 2[m
[32m+[m[32minsert_final_newline = true[m
[32m+[m[32mtrim_trailing_whitespace = true[m
[32m+[m
[32m+[m[32m[*.md][m
[32m+[m[32mmax_line_length = off[m
[32m+[m[32mtrim_trailing_whitespace = false[m
[1mdiff --git a/projects/angular-proto-firestore/.gitignore b/projects/angular-proto-firestore/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..6b65e09[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/.gitignore[m
[36m@@ -0,0 +1,45 @@[m
[32m+[m[32m# See http://help.github.com/ignore-files/ for more about ignoring files.[m
[32m+[m
[32m+[m[32m# compiled output[m
[32m+[m[32m/dist[m
[32m+[m[32m/tmp[m
[32m+[m[32m/out-tsc[m
[32m+[m
[32m+[m[32m# dependencies[m
[32m+[m[32m/node_modules[m
[32m+[m[32m/src/app/core/proto[m
[32m+[m
[32m+[m[32m# profiling files[m
[32m+[m[32mchrome-profiler-events.json[m
[32m+[m[32mspeed-measure-plugin.json[m
[32m+[m
[32m+[m[32m# IDEs and editors[m
[32m+[m[32m/.idea[m
[32m+[m[32m.project[m
[32m+[m[32m.classpath[m
[32m+[m[32m.c9/[m
[32m+[m[32m*.launch[m
[32m+[m[32m.settings/[m
[32m+[m[32m*.sublime-workspace[m
[32m+[m
[32m+[m[32m# IDE - VSCode[m
[32m+[m[32m.vscode/*[m
[32m+[m[32m!.vscode/settings.json[m
[32m+[m[32m!.vscode/tasks.json[m
[32m+[m[32m!.vscode/launch.json[m
[32m+[m[32m!.vscode/extensions.json[m
[32m+[m[32m.history/*[m
[32m+[m
[32m+[m[32m# misc[m
[32m+[m[32m/.sass-cache[m
[32m+[m[32m/connect.lock[m
[32m+[m[32m/coverage[m
[32m+[m[32m/libpeerconnection.log[m
[32m+[m[32mnpm-debug.log[m
[32m+[m[32myarn-error.log[m
[32m+[m[32mtestem.log[m
[32m+[m[32m/typings[m
[32m+[m
[32m+[m[32m# System Files[m
[32m+[m[32m.DS_Store[m
[32m+[m[32mThumbs.db[m
[1mdiff --git a/projects/angular-proto-firestore/README.md b/projects/angular-proto-firestore/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..1c4ecca[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/README.md[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m# Protobin reader template[m
[32m+[m
[32m+[m[32mTo set up your development environment, follow these steps:[m
[32m+[m
[32m+[m[32m## Installation[m
[32m+[m[32mInstall these:[m
[32m+[m[32m* [node](https://nodejs.org/) version 8.11.4[m
[32m+[m[32m* [npm](https://www.npmjs.com/) version 5.6.0[m
[32m+[m[32m* [google-protobuf](https://github.com/protocolbuffers/protobuf/releases), version 3.6.1[m
[32m+[m
[32m+[m[32m(Installation of exact versions is not required, but recommended. We can't guarantee that webapp will work properly with different versions.)[m
[32m+[m
[32m+[m[32mOptional:[m
[32m+[m[32m* [firebase](https://firebase.google.com/docs/hosting/quickstart), to be able to deploy.[m
[32m+[m[32m* [angular](https://angular.io/), to use `ng` features.[m
[32m+[m
[32m+[m[32mRun `npm install` to install npm modules[m[41m  [m
[32m+[m
[32m+[m[32mRun `npm run protoc` to generate proto functions.[m[41m  [m
[32m+[m
[32m+[m[32m## Running the server locally[m
[32m+[m[32mRun `npm start` to start a dev server. Navigate to `http://localhost:4200/`[m[41m  [m
[32m+[m[32mRun `npm run build` to make a build.[m[41m  [m
[32m+[m[32mRun `npm run deploy` to publish the app on the server.[m[41m  [m
[32m+[m[32mRun `npm run functions` to update cloud functions on the server.[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase hosting:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/hosting/quickstart[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase functions:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/functions/get-started[m[41m  [m
[32m+[m
[32m+[m[32m## Updating protos[m
[32m+[m[32mAfter every proto update, run `npm run protoc`.[m
[32m+[m
[32m+[m[32m## Supported platforms[m
[32m+[m[32mDevelopment is supported on Linux and Mac only (`npm run protoc` doesn't support Windows).[m
[32m+[m
[32m+[m[32m## Development[m
[32m+[m[32mThe information might be useful:[m
[32m+[m[32m* [AngularFire](https://github.com/angular/angularfire2/tree/master/docs)[m
[32m+[m[32m* [Protocol Buffers](https://developers.google.com/protocol-buffers/)[m
[1mdiff --git a/projects/angular-proto-firestore/angular.json b/projects/angular-proto-firestore/angular.json[m
[1mnew file mode 100644[m
[1mindex 0000000..ef59dba[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/angular.json[m
[36m@@ -0,0 +1,139 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",[m
[32m+[m[32m  "version": 1,[m
[32m+[m[32m  "newProjectRoot": "projects",[m
[32m+[m[32m  "projects": {[m
[32m+[m[32m    "protobin-reader": {[m
[32m+[m[32m      "root": "",[m
[32m+[m[32m      "sourceRoot": "src",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "app",[m
[32m+[m[32m      "schematics": {[m
[32m+[m[32m        "@schematics/angular:component": {[m
[32m+[m[32m          "styleext": "scss"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "build": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:browser",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "outputPath": "dist/protobin-reader",[m
[32m+[m[32m            "index": "src/index.html",[m
[32m+[m[32m            "main": "src/main.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.app.json",[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [][m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "fileReplacements": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "replace": "src/environments/environment.ts",[m
[32m+[m[32m                  "with": "src/environments/environment.prod.ts"[m
[32m+[m[32m                }[m
[32m+[m[32m              ],[m
[32m+[m[32m              "optimization": true,[m
[32m+[m[32m              "outputHashing": "all",[m
[32m+[m[32m              "sourceMap": false,[m
[32m+[m[32m              "extractCss": true,[m
[32m+[m[32m              "namedChunks": false,[m
[32m+[m[32m              "aot": true,[m
[32m+[m[32m              "extractLicenses": true,[m
[32m+[m[32m              "vendorChunk": false,[m
[32m+[m[32m              "buildOptimizer": true,[m
[32m+[m[32m              "budgets": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "type": "initial",[m
[32m+[m[32m                  "maximumWarning": "2mb",[m
[32m+[m[32m                  "maximumError": "5mb"[m
[32m+[m[32m                }[m
[32m+[m[32m              ][m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "serve": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:dev-server",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "browserTarget": "protobin-reader:build:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "extract-i18n": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:extract-i18n",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "test": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:karma",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "main": "src/test.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.spec.json",[m
[32m+[m[32m            "karmaConfig": "src/karma.conf.js",[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [],[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": [[m
[32m+[m[32m              "src/tsconfig.app.json",[m
[32m+[m[32m              "src/tsconfig.spec.json"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    "protobin-reader-e2e": {[m
[32m+[m[32m      "root": "e2e/",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "",[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "e2e": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:protractor",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "protractorConfig": "e2e/protractor.conf.js",[m
[32m+[m[32m            "devServerTarget": "protobin-reader:serve"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "devServerTarget": "protobin-reader:serve:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": "e2e/tsconfig.e2e.json",[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  "defaultProject": "protobin-reader"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/e2e/protractor.conf.js b/projects/angular-proto-firestore/e2e/protractor.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..440ef8f[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/e2e/protractor.conf.js[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m// Protractor configuration file, see link for more information[m
[32m+[m[32m// https://github.com/angular/protractor/blob/master/lib/config.ts[m
[32m+[m
[32m+[m[32mconst { SpecReporter } = require('jasmine-spec-reporter');[m
[32m+[m
[32m+[m[32mexports.config = {[m
[32m+[m[32m  allScriptsTimeout: 11000,[m
[32m+[m[32m  specs: [[m
[32m+[m[32m    './src/**/*.e2e-spec.ts'[m
[32m+[m[32m  ],[m
[32m+[m[32m  capabilities: {[m
[32m+[m[32m    'browserName': 'chrome'[m
[32m+[m[32m  },[m
[32m+[m[32m  directConnect: true,[m
[32m+[m[32m  baseUrl: 'http://localhost:4200/',[m
[32m+[m[32m  framework: 'jasmine',[m
[32m+[m[32m  jasmineNodeOpts: {[m
[32m+[m[32m    showColors: true,[m
[32m+[m[32m    defaultTimeoutInterval: 30000,[m
[32m+[m[32m    print: function() {}[m
[32m+[m[32m  },[m
[32m+[m[32m  onPrepare() {[m
[32m+[m[32m    require('ts-node').register({[m
[32m+[m[32m      project: require('path').join(__dirname, './tsconfig.e2e.json')[m
[32m+[m[32m    });[m
[32m+[m[32m    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));[m
[32m+[m[32m  }[m
[32m+[m[32m};[m
[1mdiff --git a/projects/angular-proto-firestore/e2e/src/app.e2e-spec.ts b/projects/angular-proto-firestore/e2e/src/app.e2e-spec.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..50bfc7b[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/e2e/src/app.e2e-spec.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { AppPage } from './app.po';[m
[32m+[m
[32m+[m[32mdescribe('workspace-project App', () => {[m
[32m+[m[32m  let page: AppPage;[m
[32m+[m
[32m+[m[32m  beforeEach(() => {[m
[32m+[m[32m    page = new AppPage();[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  it('should display welcome message', () => {[m
[32m+[m[32m    page.navigateTo();[m
[32m+[m[32m    expect(page.getTitleText()).toEqual('Welcome to protobin-reader!');[m
[32m+[m[32m  });[m
[32m+[m[32m});[m
[1mdiff --git a/projects/angular-proto-firestore/e2e/src/app.po.ts b/projects/angular-proto-firestore/e2e/src/app.po.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..72e463a[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/e2e/src/app.po.ts[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mimport { browser, by, element } from 'protractor';[m
[32m+[m
[32m+[m[32mexport class AppPage {[m
[32m+[m[32m  navigateTo() {[m
[32m+[m[32m    return browser.get('/');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getTitleText() {[m
[32m+[m[32m    return element(by.css('app-root h1')).getText();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/e2e/tsconfig.e2e.json b/projects/angular-proto-firestore/e2e/tsconfig.e2e.json[m
[1mnew file mode 100644[m
[1mindex 0000000..77d311e[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/e2e/tsconfig.e2e.json[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "module": "commonjs",[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "jasminewd2",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/gulpfile.js b/projects/angular-proto-firestore/gulpfile.js[m
[1mnew file mode 100644[m
[1mindex 0000000..e3fd4d2[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/gulpfile.js[m
[36m@@ -0,0 +1,89 @@[m
[32m+[m[32mconst path = require('path');[m
[32m+[m[32mconst fs = require('fs-extra');[m[41m  [m
[32m+[m[32mconst gulp = require('gulp');[m
[32m+[m[32mconst clean = require('gulp-clean');[m
[32m+[m[32mconst { exec } = require('child_process');[m
[32m+[m
[32m+[m[32mconst protoImportPathList = [[m
[32m+[m[32m  './proto/data.proto',[m
[32m+[m[32m];[m
[32m+[m[32mconst exportProtoPath = './src/app/core/proto';[m
[32m+[m[32mconst functionsPath = path.join(exportProtoPath, 'functions');[m
[32m+[m
[32m+[m[32mgulp.task('protoc', (done) => {[m
[32m+[m[32m  let protoImportList = [];[m
[32m+[m[41m  [m
[32m+[m[32m  // Remove old functions (if they exist)[m
[32m+[m[32m  fs.exists(exportProtoPath, exists => {[m
[32m+[m[32m    if (exists) {[m
[32m+[m[32m      gulp.src(exportProtoPath)[m
[32m+[m[32m        .pipe(clean())[m
[32m+[m[32m        .on('data', () => {})[m
[32m+[m[32m        .on('end', createFunctions);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      createFunctions();[m
[32m+[m[32m    }[m
[32m+[m[32m  });[m
[32m+[m[41m  [m
[32m+[m[32m  function createFunctions() {[m
[32m+[m[32m    // Create a proto folder[m
[32m+[m[32m    fs.mkdirSync(exportProtoPath);[m
[32m+[m
[32m+[m[32m    // Copy all packages to the proto folder[m
[32m+[m[32m    function copyPackage(relativePath) {[m
[32m+[m[32m      const filename = path.parse(relativePath).base;[m
[32m+[m[32m      protoImportList.push(filename);[m
[32m+[m[32m      const newPackagePath = path.join(functionsPath, filename);[m
[32m+[m[32m      fs.copySync(relativePath, newPackagePath);[m
[32m+[m
[32m+[m[32m      return newPackagePath;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (const importPathList of protoImportPathList) {[m
[32m+[m[32m      copyPackage(importPathList);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Create proto functions from the packages in the proto folder[m
[32m+[m[32m    const protoImport = protoImportList.join(' ');[m
[32m+[m[32m    exec([m
[32m+[m[32m      'protoc ' +[m
[32m+[m[32m        `--proto_path=${functionsPath} ` +[m
[32m+[m[32m        `--js_out=import_style=commonjs,binary:${functionsPath} ` +[m
[32m+[m[32m        '--plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts ' +[m
[32m+[m[32m        `--ts_out=${functionsPath} ` +[m
[32m+[m[32m        protoImport,[m
[32m+[m[32m      removeProtoFiles[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Removes all *.proto files from the proto folder[m
[32m+[m[32m  function removeProtoFiles(error) {[m
[32m+[m[32m    if (error) {[m
[32m+[m[32m      throw error;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    gulp.src(path.join(functionsPath, '**/*.proto'))[m
[32m+[m[32m      .pipe(clean())[m
[32m+[m[32m      .on('data', () => {})[m
[32m+[m[32m      .on('end', createIndexFile);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Creates index file for proto functions[m
[32m+[m[32m  function createIndexFile() {[m
[32m+[m[32m    let indexTS = '';[m
[32m+[m[32m    for(let filepath of protoImportList) {[m
[32m+[m[32m      const dir = path.parse(filepath).dir;[m
[32m+[m[32m      const filename = path.parse(filepath).name + '_pb';[m
[32m+[m[32m      const indexpath = path.join(dir, filename);[m
[32m+[m[32m      indexTS += "export * from './functions/" + indexpath + "';\n";[m
[32m+[m[32m    }[m
[32m+[m[32m    fs.writeFileSync(path.join(exportProtoPath, 'index.ts'), indexTS);[m
[32m+[m
[32m+[m[32m    onLoad();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function onLoad() {[m
[32m+[m[32m    console.log('Proto functions are successfully created.');[m
[32m+[m[32m    done();[m
[32m+[m[32m  }[m
[32m+[m[32m});[m
[1mdiff --git a/projects/angular-proto-firestore/package.json b/projects/angular-proto-firestore/package.json[m
[1mnew file mode 100644[m
[1mindex 0000000..3978503[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/package.json[m
[36m@@ -0,0 +1,55 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "name": "protobin-reader",[m
[32m+[m[32m  "version": "0.0.0",[m
[32m+[m[32m  "scripts": {[m
[32m+[m[32m    "ng": "ng",[m
[32m+[m[32m    "start": "ng serve",[m
[32m+[m[32m    "build": "ng build",[m
[32m+[m[32m    "test": "ng test",[m
[32m+[m[32m    "lint": "ng lint",[m
[32m+[m[32m    "e2e": "ng e2e",[m
[32m+[m[32m    "protoc": "gulp protoc"[m
[32m+[m[32m  },[m
[32m+[m[32m  "dependencies": {[m
[32m+[m[32m    "@angular/animations": "~7.2.0",[m
[32m+[m[32m    "@angular/common": "~7.2.0",[m
[32m+[m[32m    "@angular/compiler": "~7.2.0",[m
[32m+[m[32m    "@angular/core": "~7.2.0",[m
[32m+[m[32m    "@angular/forms": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser-dynamic": "~7.2.0",[m
[32m+[m[32m    "@angular/router": "~7.2.0",[m
[32m+[m[32m    "core-js": "^2.5.4",[m
[32m+[m[32m    "rxjs": "~6.3.3",[m
[32m+[m[32m    "tslib": "^1.9.0",[m
[32m+[m[32m    "zone.js": "~0.8.26"[m
[32m+[m[32m  },[m
[32m+[m[32m  "devDependencies": {[m
[32m+[m[32m    "@angular-devkit/build-angular": "~0.12.0",[m
[32m+[m[32m    "@angular/cli": "~7.2.1",[m
[32m+[m[32m    "@angular/compiler-cli": "~7.2.0",[m
[32m+[m[32m    "@angular/language-service": "~7.2.0",[m
[32m+[m[32m    "@types/jasmine": "~2.8.8",[m
[32m+[m[32m    "@types/jasminewd2": "~2.0.3",[m
[32m+[m[32m    "@types/node": "~8.9.4",[m
[32m+[m[32m    "angularfire2": "^5.1.1",[m
[32m+[m[32m    "codelyzer": "~4.5.0",[m
[32m+[m[32m    "firebase": "^5.8.1",[m
[32m+[m[32m    "fs-extra": "^7.0.1",[m
[32m+[m[32m    "google-protobuf": "^3.6.1",[m
[32m+[m[32m    "gulp": "^4.0.0",[m
[32m+[m[32m    "gulp-clean": "^0.4.0",[m
[32m+[m[32m    "jasmine-core": "~2.99.1",[m
[32m+[m[32m    "jasmine-spec-reporter": "~4.2.1",[m
[32m+[m[32m    "karma": "~3.1.1",[m
[32m+[m[32m    "karma-chrome-launcher": "~2.2.0",[m
[32m+[m[32m    "karma-coverage-istanbul-reporter": "~2.0.1",[m
[32m+[m[32m    "karma-jasmine": "~1.1.2",[m
[32m+[m[32m    "karma-jasmine-html-reporter": "^0.2.2",[m
[32m+[m[32m    "protractor": "~5.4.0",[m
[32m+[m[32m    "ts-node": "~7.0.0",[m
[32m+[m[32m    "ts-protoc-gen": "^0.8.0",[m
[32m+[m[32m    "tslint": "~5.11.0",[m
[32m+[m[32m    "typescript": "~3.2.2"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/proto/data.proto b/projects/angular-proto-firestore/proto/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..544ce80[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/proto/data.proto[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m[32mpackage com.hasadna.protobin_reader;[m
[32m+[m
[32m+[m[32moption java_package = "com.hasadna.protobin_reader";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage Book {[m
[32m+[m[32m  string title = 1;[m
[32m+[m[32m  int32 pages = 2;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/app.component.html b/projects/angular-proto-firestore/src/app/app.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..3f5f640[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/app.component.html[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m<div *ngIf="!book">[m
[32m+[m[32m  Loading[m
[32m+[m[32m</div>[m
[32m+[m[32m<div *ngIf="book">[m
[32m+[m[32m  <div>[m
[32m+[m[32m    <span>Title: </span>[m
[32m+[m[32m    <span>{{ book.getTitle() }}</span>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <div>[m
[32m+[m[32m    <span>Amount of pages: </span>[m
[32m+[m[32m    <span>{{ book.getPages() }}</span>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/app.component.scss b/projects/angular-proto-firestore/src/app/app.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/app.component.ts b/projects/angular-proto-firestore/src/app/app.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..b811228[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/app.component.ts[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mimport { Component } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { Book } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService, FirebaseService } from '@/core/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-root',[m
[32m+[m[32m  templateUrl: './app.component.html',[m
[32m+[m[32m  styleUrls: ['./app.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppComponent {[m
[32m+[m[32m  book: Book;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m    private firebaseService: FirebaseService,[m
[32m+[m[32m  ) {[m
[32m+[m[32m    this.firebaseService.getBook().subscribe(book => {[m
[32m+[m[32m      this.book = book;[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/app.module.ts b/projects/angular-proto-firestore/src/app/app.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d359455[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/app.module.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mimport { BrowserModule } from '@angular/platform-browser';[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { AppComponent } from './app.component';[m
[32m+[m[32mimport { CoreModule } from './core/core.module';[m
[32m+[m[32mimport { FirebaseModule } from './import/firebase/firebase.module';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  declarations: [[m
[32m+[m[32m    AppComponent,[m
[32m+[m[32m  ],[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    BrowserModule,[m
[32m+[m[32m    CoreModule,[m
[32m+[m[32m    FirebaseModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m  providers: [],[m
[32m+[m[32m  bootstrap: [AppComponent][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppModule { }[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/core/core.module.ts b/projects/angular-proto-firestore/src/app/core/core.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..980ff6e[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/core/core.module.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport {[m
[32m+[m[32m  EncodingService,[m
[32m+[m[32m  FirebaseService[m
[32m+[m[32m} from './services';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    EncodingService,[m
[32m+[m[32m    FirebaseService,[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class CoreModule { }[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/core/services/encoding.service.ts b/projects/angular-proto-firestore/src/app/core/services/encoding.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2002dea[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/core/services/encoding.service.ts[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class EncodingService {[m
[32m+[m[32m  encodeUint8ArrayToBase64String(binary: Uint8Array): string {[m
[32m+[m[32m    return btoa(String.fromCharCode.apply(null, binary));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  decodeBase64StringToUint8Array(base64: string): Uint8Array {[m
[32m+[m[32m    const raw: string = window.atob(base64);[m
[32m+[m[32m    const uint8Array = new Uint8Array(new ArrayBuffer(raw.length));[m
[32m+[m[32m    for (let i = 0; i < raw.length; i++) {[m
[32m+[m[32m      uint8Array[i] = raw.charCodeAt(i);[m
[32m+[m[32m    }[m
[32m+[m[32m    return uint8Array;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/core/services/firebase.service.ts b/projects/angular-proto-firestore/src/app/core/services/firebase.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..035300a[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/core/services/firebase.service.ts[m
[36m@@ -0,0 +1,49 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m[32mimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';[m
[32m+[m[32mimport { Observable } from 'rxjs';[m
[32m+[m[32mimport { map } from 'rxjs/operators';[m
[32m+[m
[32m+[m[32mimport { Book } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService } from './encoding.service';[m
[32m+[m
[32m+[m[32minterface FirebaseElement {[m
[32m+[m[32m  proto: string;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class FirebaseService {[m
[32m+[m[32m  private protobin: AngularFirestoreCollection<FirebaseElement>;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private db: AngularFirestore,[m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m  ) {[m
[32m+[m[32m    this.protobin = this.db.collection('protobin');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getBook(): Observable<Book> {[m
[32m+[m[32m    return this.protobin[m
[32m+[m[32m      .doc('book')[m
[32m+[m[32m      .snapshotChanges()[m
[32m+[m[32m      .pipe([m
[32m+[m[32m        map(action => {[m
[32m+[m[32m          const firebaseElement = action.payload.data() as FirebaseElement;[m
[32m+[m[32m          if (firebaseElement === undefined) {[m
[32m+[m[32m            // Element not found[m
[32m+[m[32m            return;[m
[32m+[m[32m          }[m
[32m+[m[32m          return this.convertFirebaseElementToBook(firebaseElement);[m
[32m+[m[32m        })[m
[32m+[m[32m      );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private convertFirebaseElementToBook(firebaseElement: FirebaseElement): Book {[m
[32m+[m[32m    // Convert firebaseElement to binary[m
[32m+[m[32m    const binary: Uint8Array = this.encodingService[m
[32m+[m[32m      .decodeBase64StringToUint8Array(firebaseElement.proto);[m
[32m+[m[32m    // Convert binary to book[m
[32m+[m[32m    const book: Book = Book.deserializeBinary(binary);[m
[32m+[m
[32m+[m[32m    return book;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/core/services/index.ts b/projects/angular-proto-firestore/src/app/core/services/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..e513f18[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/core/services/index.ts[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mexport * from './encoding.service';[m
[32m+[m[32mexport * from './firebase.service';[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/import/firebase/config.ts b/projects/angular-proto-firestore/src/app/import/firebase/config.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2a98c48[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/import/firebase/config.ts[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mexport const config = {[m
[32m+[m[32m  apiKey: 'AIzaSyAWwTuTi9P6Fy0iK_Ux2R5LWUkFgN7lhEQ',[m
[32m+[m[32m  authDomain: 'protobin-reader.firebaseapp.com',[m
[32m+[m[32m  databaseURL: 'https://protobin-reader.firebaseio.com',[m
[32m+[m[32m  projectId: 'protobin-reader',[m
[32m+[m[32m  storageBucket: 'protobin-reader.appspot.com',[m
[32m+[m[32m  messagingSenderId: '229513278474',[m
[32m+[m[32m};[m
[1mdiff --git a/projects/angular-proto-firestore/src/app/import/firebase/firebase.module.ts b/projects/angular-proto-firestore/src/app/import/firebase/firebase.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..ebf4b89[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/app/import/firebase/firebase.module.ts[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { AngularFireModule } from '@angular/fire';[m
[32m+[m[32mimport { AngularFireAuth, AngularFireAuthModule } from '@angular/fire/auth';[m
[32m+[m[32mimport { AngularFireDatabase } from '@angular/fire/database';[m
[32m+[m[32mimport { AngularFirestoreModule, FirestoreSettingsToken } from '@angular/fire/firestore';[m
[32m+[m
[32m+[m[32mimport { config } from './config';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    AngularFireModule.initializeApp(config),[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m  declarations: [],[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    AngularFireDatabase,[m
[32m+[m[32m    AngularFireAuth,[m
[32m+[m[32m    { provide: FirestoreSettingsToken, useValue: {} },[m
[32m+[m[32m  ],[m
[32m+[m[32m  exports: [[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class FirebaseModule { }[m
[1mdiff --git a/projects/angular-proto-firestore/src/assets/.gitkeep b/projects/angular-proto-firestore/src/assets/.gitkeep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/angular-proto-firestore/src/browserslist b/projects/angular-proto-firestore/src/browserslist[m
[1mnew file mode 100644[m
[1mindex 0000000..c6cb1d3[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/browserslist[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m# This file is currently used by autoprefixer to adjust CSS to support the below specified browsers[m
[32m+[m[32m# For additional information regarding the format and rule options, please see:[m
[32m+[m[32m# https://github.com/browserslist/browserslist#queries[m
[32m+[m[32m#[m
[32m+[m[32m# For IE 9-11 support, please remove 'not' from the last line of the file and adjust as needed[m
[32m+[m
[32m+[m[32m> 0.5%[m
[32m+[m[32mlast 2 versions[m
[32m+[m[32mFirefox ESR[m
[32m+[m[32mnot dead[m
[32m+[m[32mnot IE 9-11[m
[1mdiff --git a/projects/angular-proto-firestore/src/environments/environment.prod.ts b/projects/angular-proto-firestore/src/environments/environment.prod.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..3612073[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/environments/environment.prod.ts[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: true[m
[32m+[m[32m};[m
[1mdiff --git a/projects/angular-proto-firestore/src/environments/environment.ts b/projects/angular-proto-firestore/src/environments/environment.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..7b4f817[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/environments/environment.ts[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m// This file can be replaced during build by using the `fileReplacements` array.[m
[32m+[m[32m// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.[m
[32m+[m[32m// The list of file replacements can be found in `angular.json`.[m
[32m+[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: false[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * For easier debugging in development mode, you can import the following file[m
[32m+[m[32m * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.[m
[32m+[m[32m *[m
[32m+[m[32m * This import should be commented out in production mode because it will have a negative impact[m
[32m+[m[32m * on performance if an error is thrown.[m
[32m+[m[32m */[m
[32m+[m[32m// import 'zone.js/dist/zone-error';  // Included with Angular CLI.[m
[1mdiff --git a/projects/angular-proto-firestore/src/favicon.ico b/projects/angular-proto-firestore/src/favicon.ico[m
[1mnew file mode 100644[m
[1mindex 0000000..8081c7c[m
Binary files /dev/null and b/projects/angular-proto-firestore/src/favicon.ico differ
[1mdiff --git a/projects/angular-proto-firestore/src/index.html b/projects/angular-proto-firestore/src/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..615e535[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/index.html[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<!doctype html>[m
[32m+[m[32m<html lang="en">[m
[32m+[m[32m<head>[m
[32m+[m[32m  <meta charset="utf-8">[m
[32m+[m[32m  <title>Protobin Reader</title>[m
[32m+[m[32m  <base href="/">[m
[32m+[m
[32m+[m[32m  <meta name="viewport" content="width=device-width, initial-scale=1">[m
[32m+[m[32m  <link rel="icon" type="image/x-icon" href="favicon.ico">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m  <app-root></app-root>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/projects/angular-proto-firestore/src/karma.conf.js b/projects/angular-proto-firestore/src/karma.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..ffd7c16[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/karma.conf.js[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m// Karma configuration file, see link for more information[m
[32m+[m[32m// https://karma-runner.github.io/1.0/config/configuration-file.html[m
[32m+[m
[32m+[m[32mmodule.exports = function (config) {[m
[32m+[m[32m  config.set({[m
[32m+[m[32m    basePath: '',[m
[32m+[m[32m    frameworks: ['jasmine', '@angular-devkit/build-angular'],[m
[32m+[m[32m    plugins: [[m
[32m+[m[32m      require('karma-jasmine'),[m
[32m+[m[32m      require('karma-chrome-launcher'),[m
[32m+[m[32m      require('karma-jasmine-html-reporter'),[m
[32m+[m[32m      require('karma-coverage-istanbul-reporter'),[m
[32m+[m[32m      require('@angular-devkit/build-angular/plugins/karma')[m
[32m+[m[32m    ],[m
[32m+[m[32m    client: {[m
[32m+[m[32m      clearContext: false // leave Jasmine Spec Runner output visible in browser[m
[32m+[m[32m    },[m
[32m+[m[32m    coverageIstanbulReporter: {[m
[32m+[m[32m      dir: require('path').join(__dirname, '../coverage'),[m
[32m+[m[32m      reports: ['html', 'lcovonly', 'text-summary'],[m
[32m+[m[32m      fixWebpackSourcePaths: true[m
[32m+[m[32m    },[m
[32m+[m[32m    reporters: ['progress', 'kjhtml'],[m
[32m+[m[32m    port: 9876,[m
[32m+[m[32m    colors: true,[m
[32m+[m[32m    logLevel: config.LOG_INFO,[m
[32m+[m[32m    autoWatch: true,[m
[32m+[m[32m    browsers: ['Chrome'],[m
[32m+[m[32m    singleRun: false[m
[32m+[m[32m  });[m
[32m+[m[32m};[m
[1mdiff --git a/projects/angular-proto-firestore/src/main.ts b/projects/angular-proto-firestore/src/main.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..c7b673c[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/main.ts[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mimport { enableProdMode } from '@angular/core';[m
[32m+[m[32mimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';[m
[32m+[m
[32m+[m[32mimport { AppModule } from './app/app.module';[m
[32m+[m[32mimport { environment } from './environments/environment';[m
[32m+[m
[32m+[m[32mif (environment.production) {[m
[32m+[m[32m  enableProdMode();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mplatformBrowserDynamic().bootstrapModule(AppModule)[m
[32m+[m[32m  .catch(err => console.error(err));[m
[1mdiff --git a/projects/angular-proto-firestore/src/polyfills.ts b/projects/angular-proto-firestore/src/polyfills.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..a6d34ea[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/polyfills.ts[m
[36m@@ -0,0 +1,85 @@[m
[32m+[m[32m/**[m
[32m+[m[32m * This file includes polyfills needed by Angular and is loaded before the app.[m
[32m+[m[32m * You can add your own extra polyfills to this file.[m
[32m+[m[32m *[m
[32m+[m[32m * This file is divided into 2 sections:[m
[32m+[m[32m *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.[m
[32m+[m[32m *   2. Application imports. Files imported after ZoneJS that should be loaded before your main[m
[32m+[m[32m *      file.[m
[32m+[m[32m *[m
[32m+[m[32m * The current setup is for so-called "evergreen" browsers; the last versions of browsers that[m
[32m+[m[32m * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),[m
[32m+[m[32m * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.[m
[32m+[m[32m *[m
[32m+[m[32m * Learn more in https://angular.io/guide/browser-support[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * BROWSER POLYFILLS[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/** IE9, IE10, IE11, and Chrome <55 requires all of the following polyfills.[m
[32m+[m[32m *  This also includes Android Emulators with older versions of Chrome and Google Search/Googlebot[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m// import 'core-js/es6/symbol';[m
[32m+[m[32m// import 'core-js/es6/object';[m
[32m+[m[32m// import 'core-js/es6/function';[m
[32m+[m[32m// import 'core-js/es6/parse-int';[m
[32m+[m[32m// import 'core-js/es6/parse-float';[m
[32m+[m[32m// import 'core-js/es6/number';[m
[32m+[m[32m// import 'core-js/es6/math';[m
[32m+[m[32m// import 'core-js/es6/string';[m
[32m+[m[32m// import 'core-js/es6/date';[m
[32m+[m[32m// import 'core-js/es6/array';[m
[32m+[m[32m// import 'core-js/es6/regexp';[m
[32m+[m[32m// import 'core-js/es6/map';[m
[32m+[m[32m// import 'core-js/es6/weak-map';[m
[32m+[m[32m// import 'core-js/es6/set';[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for NgClass support on SVG elements */[m
[32m+[m[32m// import 'classlist.js';  // Run `npm install --save classlist.js`.[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for the Reflect API. */[m
[32m+[m[32m// import 'core-js/es6/reflect';[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Web Animations `@angular/platform-browser/animations`[m
[32m+[m[32m * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.[m
[32m+[m[32m * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).[m
[32m+[m[32m */[m
[32m+[m[32m// import 'web-animations-js';  // Run `npm install --save web-animations-js`.[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * By default, zone.js will patch all possible macroTask and DomEvents[m
[32m+[m[32m * user can disable parts of macroTask/DomEvents patch by setting following flags[m
[32m+[m[32m * because those flags need to be set before `zone.js` being loaded, and webpack[m
[32m+[m[32m * will put import in the top of bundle, so user need to create a separate file[m
[32m+[m[32m * in this directory (for example: zone-flags.ts), and put the following flags[m
[32m+[m[32m * into that file, and then add the following code before importing zone.js.[m
[32m+[m[32m * import './zone-flags.ts';[m
[32m+[m[32m *[m
[32m+[m[32m * The flags allowed in zone-flags.ts are listed here.[m
[32m+[m[32m *[m
[32m+[m[32m * The following flags will work for all browsers.[m
[32m+[m[32m *[m
[32m+[m[32m * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame[m
[32m+[m[32m * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick[m
[32m+[m[32m * (window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames[m
[32m+[m[32m *[m
[32m+[m[32m *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js[m
[32m+[m[32m *  with the following flag, it will bypass `zone.js` patch for IE/Edge[m
[32m+[m[32m *[m
[32m+[m[32m *  (window as any).__Zone_enable_cross_context_check = true;[m
[32m+[m[32m *[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * Zone JS is required by default for Angular itself.[m
[32m+[m[32m */[m
[32m+[m[32mimport 'zone.js/dist/zone';  // Included with Angular CLI.[m
[32m+[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * APPLICATION IMPORTS[m
[32m+[m[32m */[m
[1mdiff --git a/projects/angular-proto-firestore/src/styles.scss b/projects/angular-proto-firestore/src/styles.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..90d4ee0[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/styles.scss[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/* You can add global styles to this file, and also import other style files */[m
[1mdiff --git a/projects/angular-proto-firestore/src/test.ts b/projects/angular-proto-firestore/src/test.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..1631789[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/test.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32m// This file is required by karma.conf.js and loads recursively all the .spec and framework files[m
[32m+[m
[32m+[m[32mimport 'zone.js/dist/zone-testing';[m
[32m+[m[32mimport { getTestBed } from '@angular/core/testing';[m
[32m+[m[32mimport {[m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting[m
[32m+[m[32m} from '@angular/platform-browser-dynamic/testing';[m
[32m+[m
[32m+[m[32mdeclare const require: any;[m
[32m+[m
[32m+[m[32m// First, initialize the Angular testing environment.[m
[32m+[m[32mgetTestBed().initTestEnvironment([m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting()[m
[32m+[m[32m);[m
[32m+[m[32m// Then we find all the tests.[m
[32m+[m[32mconst context = require.context('./', true, /\.spec\.ts$/);[m
[32m+[m[32m// And load the modules.[m
[32m+[m[32mcontext.keys().map(context);[m
[1mdiff --git a/projects/angular-proto-firestore/src/tsconfig.app.json b/projects/angular-proto-firestore/src/tsconfig.app.json[m
[1mnew file mode 100644[m
[1mindex 0000000..190fd30[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/tsconfig.app.json[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "types": [][m
[32m+[m[32m  },[m
[32m+[m[32m  "exclude": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "**/*.spec.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/tsconfig.spec.json b/projects/angular-proto-firestore/src/tsconfig.spec.json[m
[1mnew file mode 100644[m
[1mindex 0000000..de77336[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/tsconfig.spec.json[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/spec",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  },[m
[32m+[m[32m  "files": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "polyfills.ts"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "include": [[m
[32m+[m[32m    "**/*.spec.ts",[m
[32m+[m[32m    "**/*.d.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/src/tslint.json b/projects/angular-proto-firestore/src/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..52e2c1a[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/src/tslint.json[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m{[m
[32m+[m[32m    "extends": "../tslint.json",[m
[32m+[m[32m    "rules": {[m
[32m+[m[32m        "directive-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "attribute",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "camelCase"[m
[32m+[m[32m        ],[m
[32m+[m[32m        "component-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "element",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "kebab-case"[m
[32m+[m[32m        ][m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/tsconfig.json b/projects/angular-proto-firestore/tsconfig.json[m
[1mnew file mode 100644[m
[1mindex 0000000..b7e9e56[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/tsconfig.json[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "compileOnSave": false,[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "baseUrl": "src",[m
[32m+[m[32m    "paths": {[m
[32m+[m[32m      "@/*": ["app/*"],[m
[32m+[m[32m      "src/*": ["./*"][m
[32m+[m[32m    },[m
[32m+[m[32m    "outDir": "./dist/out-tsc",[m
[32m+[m[32m    "sourceMap": true,[m
[32m+[m[32m    "declaration": false,[m
[32m+[m[32m    "module": "es2015",[m
[32m+[m[32m    "moduleResolution": "node",[m
[32m+[m[32m    "emitDecoratorMetadata": true,[m
[32m+[m[32m    "experimentalDecorators": true,[m
[32m+[m[32m    "importHelpers": true,[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "typeRoots": [[m
[32m+[m[32m      "node_modules/@types"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "lib": [[m
[32m+[m[32m      "es2018",[m
[32m+[m[32m      "dom"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/angular-proto-firestore/tslint.json b/projects/angular-proto-firestore/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..c740a7b[m
[1m--- /dev/null[m
[1m+++ b/projects/angular-proto-firestore/tslint.json[m
[36m@@ -0,0 +1,131 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "rulesDirectory": [[m
[32m+[m[32m    "codelyzer"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "rules": {[m
[32m+[m[32m    "arrow-return-shorthand": true,[m
[32m+[m[32m    "callable-types": true,[m
[32m+[m[32m    "class-name": true,[m
[32m+[m[32m    "comment-format": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-space"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "curly": true,[m
[32m+[m[32m    "deprecation": {[m
[32m+[m[32m      "severity": "warn"[m
[32m+[m[32m    },[m
[32m+[m[32m    "eofline": true,[m
[32m+[m[32m    "forin": true,[m
[32m+[m[32m    "import-blacklist": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "rxjs/Rx"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "import-spacing": true,[m
[32m+[m[32m    "indent": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "spaces"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "interface-over-type-literal": true,[m
[32m+[m[32m    "label-position": true,[m
[32m+[m[32m    "max-line-length": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      140[m
[32m+[m[32m    ],[m
[32m+[m[32m    "member-access": false,[m
[32m+[m[32m    "member-ordering": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "order": [[m
[32m+[m[32m          "static-field",[m
[32m+[m[32m          "instance-field",[m
[32m+[m[32m          "static-method",[m
[32m+[m[32m          "instance-method"[m
[32m+[m[32m        ][m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-arg": true,[m
[32m+[m[32m    "no-bitwise": true,[m
[32m+[m[32m    "no-console": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "debug",[m
[32m+[m[32m      "info",[m
[32m+[m[32m      "time",[m
[32m+[m[32m      "timeEnd",[m
[32m+[m[32m      "trace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-construct": true,[m
[32m+[m[32m    "no-debugger": true,[m
[32m+[m[32m    "no-duplicate-super": true,[m
[32m+[m[32m    "no-empty": false,[m
[32m+[m[32m    "no-empty-interface": true,[m
[32m+[m[32m    "no-eval": true,[m
[32m+[m[32m    "no-inferrable-types": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "ignore-params"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-misused-new": true,[m
[32m+[m[32m    "no-non-null-assertion": true,[m
[32m+[m[32m    "no-redundant-jsdoc": true,[m
[32m+[m[32m    "no-shadowed-variable": true,[m
[32m+[m[32m    "no-string-literal": false,[m
[32m+[m[32m    "no-string-throw": true,[m
[32m+[m[32m    "no-switch-case-fall-through": true,[m
[32m+[m[32m    "no-trailing-whitespace": true,[m
[32m+[m[32m    "no-unnecessary-initializer": true,[m
[32m+[m[32m    "no-unused-expression": true,[m
[32m+[m[32m    "no-use-before-declare": true,[m
[32m+[m[32m    "no-var-keyword": true,[m
[32m+[m[32m    "object-literal-sort-keys": false,[m
[32m+[m[32m    "one-line": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-open-brace",[m
[32m+[m[32m      "check-catch",[m
[32m+[m[32m      "check-else",[m
[32m+[m[32m      "check-whitespace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "prefer-const": true,[m
[32m+[m[32m    "quotemark": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "single"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "radix": true,[m
[32m+[m[32m    "semicolon": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "always"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "triple-equals": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "allow-null-check"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "typedef-whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "call-signature": "nospace",[m
[32m+[m[32m        "index-signature": "nospace",[m
[32m+[m[32m        "parameter": "nospace",[m
[32m+[m[32m        "property-declaration": "nospace",[m
[32m+[m[32m        "variable-declaration": "nospace"[m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "unified-signatures": true,[m
[32m+[m[32m    "variable-name": false,[m
[32m+[m[32m    "whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-branch",[m
[32m+[m[32m      "check-decl",[m
[32m+[m[32m      "check-operator",[m
[32m+[m[32m      "check-separator",[m
[32m+[m[32m      "check-type"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-output-on-prefix": true,[m
[32m+[m[32m    "use-input-property-decorator": true,[m
[32m+[m[32m    "use-output-property-decorator": true,[m
[32m+[m[32m    "use-host-property-decorator": true,[m
[32m+[m[32m    "no-input-rename": true,[m
[32m+[m[32m    "no-output-rename": true,[m
[32m+[m[32m    "use-life-cycle-interface": true,[m
[32m+[m[32m    "use-pipe-transform-interface": true,[m
[32m+[m[32m    "component-class-suffix": true,[m
[32m+[m[32m    "directive-class-suffix": true[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/data_analysis/BUILD b/projects/data_analysis/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..60086d1[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/BUILD[m
[36m@@ -0,0 +1,35 @@[m
[32m+[m[32m# Pipeline definition[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step1",[m
[32m+[m[32m    srcs = ["@step1_data//:file1.txt", "@step1_data//:file2.txt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task1:task1) $(location @step1_data//:file1.txt) $(location @step1_data//:file2.txt) $@",[m
[32m+[m[32m    outs = ["merged_file1_file2.prototxt"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task1:task1"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2",[m
[32m+[m[32m    srcs = [":step1"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location :step1) $@",[m
[32m+[m[32m    outs = ["all_users.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses pre-downloaded output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_output//file:file"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_output//file:file) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt_from_archive",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_zipped_output//:merged_file1_file2.prototxt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_zipped_output//:merged_file1_file2.prototxt) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt_archive.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/data_analysis/README.md b/projects/data_analysis/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..176eeaa[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/README.md[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m# Sample data analysis pipeline[m
[32m+[m
[32m+[m[32mThis project simulates data analysis workflow with two steps:[m
[32m+[m[32m* step1: take first names from file1.txt, last names from file2.txt and make a prototxt out of them[m
[32m+[m[32m* step2: take prototxt from step1 (either from the task, or uploaded result file, or uploaded archive with file) and count number of users[m[41m [m
[32m+[m
[32m+[m[32mTo run step1:[m
[32m+[m[32m`bazel build //projects/data_analysis:step1`[m
[32m+[m
[32m+[m[32mThat will print out:[m
[32m+[m[32m```[m
[32m+[m[32mINFO: Invocation ID: 3d5cdade-758d-4505-b3c7-f4390ad90d32[m
[32m+[m[32mINFO: Analysed target //projects/data_analysis:step1 (0 packages loaded, 0 targets configured).[m
[32m+[m[32mINFO: Found 1 target...[m
[32m+[m[32mTarget //projects/data_analysis:step1 up-to-date:[m
[32m+[m[32m  bazel-genfiles/projects/data_analysis/merged_file1_file2.prototxt[m
[32m+[m[32mINFO: Elapsed time: 0.171s, Critical Path: 0.00s[m
[32m+[m[32mINFO: 0 processes.[m
[32m+[m[32mINFO: Build completed successfully, 1 total action[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32mThe output is in `bazel-genfiles/projects/data_analysis/merged_file1_file2.prototxt` (it is printed in the output above).[m
[32m+[m
[32m+[m[32mSimilarly, you can run:[m
[32m+[m[32m`bazel build //projects/data_analysis:step2`[m
[32m+[m[32m`bazel build //projects/data_analysis:step2_prebuilt`[m
[32m+[m[32m`bazel build //projects/data_analysis:step2_prebuilt_from_archive`[m
[1mdiff --git a/projects/data_analysis/common/BUILD b/projects/data_analysis/common/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..466bd4a[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/common/BUILD[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mproto_library([m
[32m+[m[32m    name = "common",[m
[32m+[m[32m    srcs = ["messages.proto"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_proto_library([m
[32m+[m[32m    name = "java_common",[m
[32m+[m[32m    deps = [":common"],[m
[32m+[m[32m    visibility = ["//visibility:public"][m
[32m+[m[32m)[m
[1mdiff --git a/projects/data_analysis/common/messages.proto b/projects/data_analysis/common/messages.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..617cdf3[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/common/messages.proto[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m
[32m+[m[32moption java_package = "com.example.tasks";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage User {[m
[32m+[m[32m    string first_name = 1;[m
[32m+[m[32m    string last_name = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Users {[m
[32m+[m[32m    repeated User users = 1;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/data_analysis/data/file1.txt b/projects/data_analysis/data/file1.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..8687273[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/data/file1.txt[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mOfer[m
[32m+[m[32mMax[m
[32m+[m[32mValerii[m
[32m+[m[32mVadim[m
[32m+[m[32mElina[m
[1mdiff --git a/projects/data_analysis/data/file2.txt b/projects/data_analysis/data/file2.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..48c6b1a[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/data/file2.txt[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mBartal[m
[32m+[m[32mVorobev[m
[32m+[m[32mFedorenko[m
[32m+[m[32mWebdevelopland[m
[32m+[m[32mBartal[m
[1mdiff --git a/projects/data_analysis/data/merged_file1_file2.prototxt b/projects/data_analysis/data/merged_file1_file2.prototxt[m
[1mnew file mode 100755[m
[1mindex 0000000..088d377[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/data/merged_file1_file2.prototxt[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Ofer"[m
[32m+[m[32m  last_name: "Bartal"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Max"[m
[32m+[m[32m  last_name: "Vorobev"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Valerii"[m
[32m+[m[32m  last_name: "Fedorenko"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Vadim"[m
[32m+[m[32m  last_name: "Webdevelopland"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Elina"[m
[32m+[m[32m  last_name: "Bartal"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/data_analysis/task1/BUILD b/projects/data_analysis/task1/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..7a806e5[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/task1/BUILD[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task1",[m
[32m+[m[32m    srcs = ["Task1.java"],[m
[32m+[m[32m    deps = ["//projects/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task1",[m
[32m+[m[32m    visibility = ["//projects/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task1-checkstyle",[m
[32m+[m[32m    target = ":task1",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/data_analysis/task1/Task1.java b/projects/data_analysis/task1/Task1.java[m
[1mnew file mode 100644[m
[1mindex 0000000..c779492[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/task1/Task1.java[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32mpackage com.example.tasks;[m
[32m+[m
[32m+[m[32mimport com.example.tasks.Protos.User;[m
[32m+[m[32mimport com.example.tasks.Protos.Users;[m
[32m+[m[32mimport com.google.protobuf.TextFormat;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Files;[m
[32m+[m[32mimport java.nio.file.Path;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.stream.IntStream;[m
[32m+[m
[32m+[m[32mclass Task1 {[m
[32m+[m[32m  public static void main(String[] args) throws IOException {[m
[32m+[m[32m    Path file1 = Paths.get(args[0]);[m
[32m+[m[32m    Path file2 = Paths.get(args[1]);[m
[32m+[m[32m    Path outfile = Paths.get(args[2]);[m
[32m+[m
[32m+[m[32m    // read list of first and last names from two files[m
[32m+[m[32m    List<String> firstNames = Files.readAllLines(file1);[m
[32m+[m[32m    List<String> lastNames = Files.readAllLines(file2);[m
[32m+[m
[32m+[m[32m    Users.Builder allUsersBuilder = Users.newBuilder();[m
[32m+[m
[32m+[m[32m    // combine them into proto messages one-by-one and add to allUsersBuilder[m
[32m+[m[32m    IntStream.range(0, firstNames.size())[m
[32m+[m[32m        .mapToObj([m
[32m+[m[32m            i ->[m
[32m+[m[32m                User.newBuilder()[m
[32m+[m[32m                    .setFirstName(firstNames.get(i))[m
[32m+[m[32m                    .setLastName(lastNames.get(i))[m
[32m+[m[32m                    .build())[m
[32m+[m[32m        .forEach(allUsersBuilder::addUsers);[m
[32m+[m
[32m+[m[32m    // write to output file as prototxt for further processing[m
[32m+[m[32m    Files.write(outfile, TextFormat.printToString(allUsersBuilder).getBytes());[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/data_analysis/task2/BUILD b/projects/data_analysis/task2/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..20be311[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/task2/BUILD[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task2",[m
[32m+[m[32m    srcs = ["Task2.java"],[m
[32m+[m[32m    deps = ["//projects/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task2",[m
[32m+[m[32m    visibility = ["//projects/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task2-checkstyle",[m
[32m+[m[32m    target = ":task2",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/data_analysis/task2/Task2.java b/projects/data_analysis/task2/Task2.java[m
[1mnew file mode 100644[m
[1mindex 0000000..29c850e[m
[1m--- /dev/null[m
[1m+++ b/projects/data_analysis/task2/Task2.java[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32mpackage com.example.tasks;[m
[32m+[m
[32m+[m[32mimport com.example.tasks.Protos.Users;[m
[32m+[m[32mimport com.google.protobuf.TextFormat;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Files;[m
[32m+[m[32mimport java.nio.file.Path;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m
[32m+[m[32mclass Task2 {[m
[32m+[m[32m  public static void main(String[] args) throws IOException {[m
[32m+[m[32m    Path file1 = Paths.get(args[0]);[m
[32m+[m[32m    Path outfile = Paths.get(args[1]);[m
[32m+[m
[32m+[m[32m    // read prototxt[m
[32m+[m[32m    String protoTxt = new String(Files.readAllBytes(file1));[m
[32m+[m
[32m+[m[32m    // parse into proto message instance[m
[32m+[m[32m    Users.Builder builder = Users.newBuilder();[m
[32m+[m[32m    TextFormat.merge(protoTxt, builder);[m
[32m+[m
[32m+[m[32m    // count all users in parsed proto[m
[32m+[m[32m    String stats =[m
[32m+[m[32m        String.format("Total number of users read: %d\n", builder.build().getUsersCount());[m
[32m+[m
[32m+[m[32m    // write out stats for further processing[m
[32m+[m[32m    Files.write(outfile, stats.getBytes());[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/mysadna/.editorconfig b/projects/mysadna/.editorconfig[m
[1mnew file mode 100644[m
[1mindex 0000000..e89330a[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/.editorconfig[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m# Editor configuration, see https://editorconfig.org[m
[32m+[m[32mroot = true[m
[32m+[m
[32m+[m[32m[*][m
[32m+[m[32mcharset = utf-8[m
[32m+[m[32mindent_style = space[m
[32m+[m[32mindent_size = 2[m
[32m+[m[32minsert_final_newline = true[m
[32m+[m[32mtrim_trailing_whitespace = true[m
[32m+[m
[32m+[m[32m[*.md][m
[32m+[m[32mmax_line_length = off[m
[32m+[m[32mtrim_trailing_whitespace = false[m
[1mdiff --git a/projects/mysadna/.firebaserc b/projects/mysadna/.firebaserc[m
[1mnew file mode 100644[m
[1mindex 0000000..7df9b98[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/.firebaserc[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "projects": {[m
[32m+[m[32m    "default": "my-first-firebase-projec-be6b0"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/.gitignore b/projects/mysadna/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..7f50b59[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/.gitignore[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32m# See http://help.github.com/ignore-files/ for more about ignoring files.[m
[32m+[m
[32m+[m[32m# compiled output[m
[32m+[m[32m/dist[m
[32m+[m[32m/tmp[m
[32m+[m[32m/out-tsc[m
[32m+[m[32m/.firebase[m
[32m+[m
[32m+[m[32m# dependencies[m
[32m+[m[32m/node_modules[m
[32m+[m[32m/src/app/proto[m
[32m+[m[32m/public[m
[32m+[m
[32m+[m[32m# profiling files[m
[32m+[m[32mchrome-profiler-events.json[m
[32m+[m[32mspeed-measure-plugin.json[m
[32m+[m
[32m+[m[32m# IDEs and editors[m
[32m+[m[32m/.idea[m
[32m+[m[32m.project[m
[32m+[m[32m.classpath[m
[32m+[m[32m.c9/[m
[32m+[m[32m*.launch[m
[32m+[m[32m.settings/[m
[32m+[m[32m*.sublime-workspace[m
[32m+[m
[32m+[m[32m# IDE - VSCode[m
[32m+[m[32m.vscode/*[m
[32m+[m[32m!.vscode/settings.json[m
[32m+[m[32m!.vscode/tasks.json[m
[32m+[m[32m!.vscode/launch.json[m
[32m+[m[32m!.vscode/extensions.json[m
[32m+[m
[32m+[m[32m# misc[m
[32m+[m[32m/.sass-cache[m
[32m+[m[32m/connect.lock[m
[32m+[m[32m/coverage[m
[32m+[m[32m/libpeerconnection.log[m
[32m+[m[32mnpm-debug.log[m
[32m+[m[32myarn-error.log[m
[32m+[m[32mtestem.log[m
[32m+[m[32m/typings[m
[32m+[m
[32m+[m[32m# System Files[m
[32m+[m[32m.DS_Store[m
[32m+[m[32mThumbs.db[m
[1mdiff --git a/projects/mysadna/README.md b/projects/mysadna/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..6c60c8b[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/README.md[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m# Mysadna2[m
[32m+[m
[32m+[m[32mThis project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 7.1.2.[m
[32m+[m
[32m+[m[32m## Development server[m
[32m+[m
[32m+[m[32mRun `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.[m
[32m+[m
[32m+[m[32m## Code scaffolding[m
[32m+[m
[32m+[m[32mRun `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.[m
[32m+[m
[32m+[m[32m## Build[m
[32m+[m
[32m+[m[32mRun `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.[m
[32m+[m
[32m+[m[32m## Running unit tests[m
[32m+[m
[32m+[m[32mRun `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).[m
[32m+[m
[32m+[m[32m## Running end-to-end tests[m
[32m+[m
[32m+[m[32mRun `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).[m
[32m+[m
[32m+[m[32m## Further help[m
[32m+[m
[32m+[m[32mTo get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).[m
[1mdiff --git a/projects/mysadna/angular.json b/projects/mysadna/angular.json[m
[1mnew file mode 100644[m
[1mindex 0000000..4eefd4b[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/angular.json[m
[36m@@ -0,0 +1,136 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",[m
[32m+[m[32m  "version": 1,[m
[32m+[m[32m  "newProjectRoot": "projects",[m
[32m+[m[32m  "projects": {[m
[32m+[m[32m    "mysadna2": {[m
[32m+[m[32m      "root": "",[m
[32m+[m[32m      "sourceRoot": "src",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "app",[m
[32m+[m[32m      "schematics": {},[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "build": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:browser",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "outputPath": "dist/mysadna2",[m
[32m+[m[32m            "index": "src/index.html",[m
[32m+[m[32m            "main": "src/main.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.app.json",[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles/angular.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [][m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "fileReplacements": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "replace": "src/environments/environment.ts",[m
[32m+[m[32m                  "with": "src/environments/environment.prod.ts"[m
[32m+[m[32m                }[m
[32m+[m[32m              ],[m
[32m+[m[32m              "optimization": true,[m
[32m+[m[32m              "outputHashing": "all",[m
[32m+[m[32m              "sourceMap": false,[m
[32m+[m[32m              "extractCss": true,[m
[32m+[m[32m              "namedChunks": false,[m
[32m+[m[32m              "aot": true,[m
[32m+[m[32m              "extractLicenses": true,[m
[32m+[m[32m              "vendorChunk": false,[m
[32m+[m[32m              "buildOptimizer": true,[m
[32m+[m[32m              "budgets": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "type": "initial",[m
[32m+[m[32m                  "maximumWarning": "2mb",[m
[32m+[m[32m                  "maximumError": "5mb"[m
[32m+[m[32m                }[m
[32m+[m[32m              ][m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "serve": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:dev-server",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "mysadna2:build"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "browserTarget": "mysadna2:build:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "extract-i18n": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:extract-i18n",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "mysadna2:build"[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "test": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:karma",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "main": "src/test.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.spec.json",[m
[32m+[m[32m            "karmaConfig": "src/karma.conf.js",[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.css"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [],[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": [[m
[32m+[m[32m              "src/tsconfig.app.json",[m
[32m+[m[32m              "src/tsconfig.spec.json"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    "mysadna2-e2e": {[m
[32m+[m[32m      "root": "e2e/",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "",[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "e2e": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:protractor",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "protractorConfig": "e2e/protractor.conf.js",[m
[32m+[m[32m            "devServerTarget": "mysadna2:serve"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "devServerTarget": "mysadna2:serve:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": "e2e/tsconfig.e2e.json",[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  "defaultProject": "mysadna2"[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/mysadna/e2e/protractor.conf.js b/projects/mysadna/e2e/protractor.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..440ef8f[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/e2e/protractor.conf.js[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m// Protractor configuration file, see link for more information[m
[32m+[m[32m// https://github.com/angular/protractor/blob/master/lib/config.ts[m
[32m+[m
[32m+[m[32mconst { SpecReporter } = require('jasmine-spec-reporter');[m
[32m+[m
[32m+[m[32mexports.config = {[m
[32m+[m[32m  allScriptsTimeout: 11000,[m
[32m+[m[32m  specs: [[m
[32m+[m[32m    './src/**/*.e2e-spec.ts'[m
[32m+[m[32m  ],[m
[32m+[m[32m  capabilities: {[m
[32m+[m[32m    'browserName': 'chrome'[m
[32m+[m[32m  },[m
[32m+[m[32m  directConnect: true,[m
[32m+[m[32m  baseUrl: 'http://localhost:4200/',[m
[32m+[m[32m  framework: 'jasmine',[m
[32m+[m[32m  jasmineNodeOpts: {[m
[32m+[m[32m    showColors: true,[m
[32m+[m[32m    defaultTimeoutInterval: 30000,[m
[32m+[m[32m    print: function() {}[m
[32m+[m[32m  },[m
[32m+[m[32m  onPrepare() {[m
[32m+[m[32m    require('ts-node').register({[m
[32m+[m[32m      project: require('path').join(__dirname, './tsconfig.e2e.json')[m
[32m+[m[32m    });[m
[32m+[m[32m    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));[m
[32m+[m[32m  }[m
[32m+[m[32m};[m
[1mdiff --git a/projects/mysadna/e2e/src/app.e2e-spec.ts b/projects/mysadna/e2e/src/app.e2e-spec.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..7eb9f62[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/e2e/src/app.e2e-spec.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { AppPage } from './app.po';[m
[32m+[m
[32m+[m[32mdescribe('workspace-project App', () => {[m
[32m+[m[32m  let page: AppPage;[m
[32m+[m
[32m+[m[32m  beforeEach(() => {[m
[32m+[m[32m    page = new AppPage();[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  it('should display welcome message', () => {[m
[32m+[m[32m    page.navigateTo();[m
[32m+[m[32m    expect(page.getTitleText()).toEqual('Welcome to mysadna2!');[m
[32m+[m[32m  });[m
[32m+[m[32m});[m
[1mdiff --git a/projects/mysadna/e2e/src/app.po.ts b/projects/mysadna/e2e/src/app.po.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..72e463a[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/e2e/src/app.po.ts[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mimport { browser, by, element } from 'protractor';[m
[32m+[m
[32m+[m[32mexport class AppPage {[m
[32m+[m[32m  navigateTo() {[m
[32m+[m[32m    return browser.get('/');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getTitleText() {[m
[32m+[m[32m    return element(by.css('app-root h1')).getText();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/e2e/tsconfig.e2e.json b/projects/mysadna/e2e/tsconfig.e2e.json[m
[1mnew file mode 100644[m
[1mindex 0000000..77d311e[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/e2e/tsconfig.e2e.json[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "module": "commonjs",[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "jasminewd2",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/firebase.json b/projects/mysadna/firebase.json[m
[1mnew file mode 100644[m
[1mindex 0000000..447a1fe[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/firebase.json[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "hosting": {[m
[32m+[m[32m    "public": "./dist/mysadna2",[m
[32m+[m[32m    "ignore": [[m
[32m+[m[32m      "firebase.json",[m
[32m+[m[32m      "**/.*",[m
[32m+[m[32m      "**/node_modules/**"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "rewrites": [[m
[32m+[m[32m      {[m
[32m+[m[32m        "source": "**",[m
[32m+[m[32m        "destination": "/index.html"[m
[32m+[m[32m      }[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/gulpfile.js b/projects/mysadna/gulpfile.js[m
[1mnew file mode 100644[m
[1mindex 0000000..bee84bf[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/gulpfile.js[m
[36m@@ -0,0 +1,89 @@[m
[32m+[m[32mconst path = require('path');[m
[32m+[m[32mconst fs = require('fs-extra');[m[41m  [m
[32m+[m[32mconst gulp = require('gulp');[m
[32m+[m[32mconst clean = require('gulp-clean');[m
[32m+[m[32mconst { exec } = require('child_process');[m
[32m+[m
[32m+[m[32mconst protoImportPathList = [[m
[32m+[m[32m  './proto/data.proto',[m
[32m+[m[32m];[m
[32m+[m[32mconst exportProtoPath = './src/app/proto';[m
[32m+[m[32mconst functionsPath = path.join(exportProtoPath, 'functions');[m
[32m+[m
[32m+[m[32mgulp.task('protoc', (done) => {[m
[32m+[m[32m  let protoImportList = [];[m
[32m+[m[41m  [m
[32m+[m[32m  // Remove old functions (if they exist)[m
[32m+[m[32m  fs.exists(exportProtoPath, exists => {[m
[32m+[m[32m    if (exists) {[m
[32m+[m[32m      gulp.src(exportProtoPath)[m
[32m+[m[32m        .pipe(clean())[m
[32m+[m[32m        .on('data', () => {})[m
[32m+[m[32m        .on('end', createFunctions);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      createFunctions();[m
[32m+[m[32m    }[m
[32m+[m[32m  });[m
[32m+[m[41m  [m
[32m+[m[32m  function createFunctions() {[m
[32m+[m[32m    // Create a proto folder[m
[32m+[m[32m    fs.mkdirSync(exportProtoPath);[m
[32m+[m
[32m+[m[32m    // Copy all packages to the proto folder[m
[32m+[m[32m    function copyPackage(relativePath) {[m
[32m+[m[32m      const filename = path.parse(relativePath).base;[m
[32m+[m[32m      protoImportList.push(filename);[m
[32m+[m[32m      const newPackagePath = path.join(functionsPath, filename);[m
[32m+[m[32m      fs.copySync(relativePath, newPackagePath);[m
[32m+[m
[32m+[m[32m      return newPackagePath;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (const importPathList of protoImportPathList) {[m
[32m+[m[32m      copyPackage(importPathList);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Create proto functions from the packages in the proto folder[m
[32m+[m[32m    const protoImport = protoImportList.join(' ');[m
[32m+[m[32m    exec([m
[32m+[m[32m      'protoc ' +[m
[32m+[m[32m        `--proto_path=${functionsPath} ` +[m
[32m+[m[32m        `--js_out=import_style=commonjs,binary:${functionsPath} ` +[m
[32m+[m[32m        '--plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts ' +[m
[32m+[m[32m        `--ts_out=${functionsPath} ` +[m
[32m+[m[32m        protoImport,[m
[32m+[m[32m      removeProtoFiles[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Removes all *.proto files from the proto folder[m
[32m+[m[32m  function removeProtoFiles(error) {[m
[32m+[m[32m    if (error) {[m
[32m+[m[32m      throw error;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    gulp.src(path.join(functionsPath, '**/*.proto'))[m
[32m+[m[32m      .pipe(clean())[m
[32m+[m[32m      .on('data', () => {})[m
[32m+[m[32m      .on('end', createIndexFile);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Creates index file for proto functions[m
[32m+[m[32m  function createIndexFile() {[m
[32m+[m[32m    let indexTS = '';[m
[32m+[m[32m    for(let filepath of protoImportList) {[m
[32m+[m[32m      const dir = path.parse(filepath).dir;[m
[32m+[m[32m      const filename = path.parse(filepath).name + '_pb';[m
[32m+[m[32m      const indexpath = path.join(dir, filename);[m
[32m+[m[32m      indexTS += "export * from './functions/" + indexpath + "';\n";[m
[32m+[m[32m    }[m
[32m+[m[32m    fs.writeFileSync(path.join(exportProtoPath, 'index.ts'), indexTS);[m
[32m+[m
[32m+[m[32m    onLoad();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function onLoad() {[m
[32m+[m[32m    console.log('Proto functions are successfully created.');[m
[32m+[m[32m    done();[m
[32m+[m[32m  }[m
[32m+[m[32m});[m
[1mdiff --git a/projects/mysadna/package.json b/projects/mysadna/package.json[m
[1mnew file mode 100644[m
[1mindex 0000000..4b22bcb[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/package.json[m
[36m@@ -0,0 +1,57 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "name": "mysadna2",[m
[32m+[m[32m  "version": "0.0.0",[m
[32m+[m[32m  "scripts": {[m
[32m+[m[32m    "ng": "ng",[m
[32m+[m[32m    "start": "ng serve",[m
[32m+[m[32m    "build": "ng build",[m
[32m+[m[32m    "test": "ng test",[m
[32m+[m[32m    "lint": "ng lint",[m
[32m+[m[32m    "e2e": "ng e2e",[m
[32m+[m[32m    "protoc": "gulp protoc"[m
[32m+[m[32m  },[m
[32m+[m[32m  "private": true,[m
[32m+[m[32m  "dependencies": {[m
[32m+[m[32m    "@angular/animations": "~7.1.0",[m
[32m+[m[32m    "@angular/common": "~7.1.0",[m
[32m+[m[32m    "@angular/compiler": "~7.1.0",[m
[32m+[m[32m    "@angular/core": "~7.1.0",[m
[32m+[m[32m    "@angular/forms": "~7.1.0",[m
[32m+[m[32m    "@angular/platform-browser": "~7.1.0",[m
[32m+[m[32m    "@angular/platform-browser-dynamic": "~7.1.0",[m
[32m+[m[32m    "@angular/router": "~7.1.0",[m
[32m+[m[32m    "angularfire2": "^5.1.1",[m
[32m+[m[32m    "core-js": "^2.6.5",[m
[32m+[m[32m    "protoc": "^1.0.3",[m
[32m+[m[32m    "rxjs": "~6.3.3",[m
[32m+[m[32m    "tslib": "^1.9.0",[m
[32m+[m[32m    "zone.js": "^0.8.29"[m
[32m+[m[32m  },[m
[32m+[m[32m  "devDependencies": {[m
[32m+[m[32m    "@angular-devkit/build-angular": "^0.12.4",[m
[32m+[m[32m    "@angular/cli": "^7.1.4",[m
[32m+[m[32m    "@angular/compiler-cli": "^7.2.5",[m
[32m+[m[32m    "@angular/language-service": "~7.1.0",[m
[32m+[m[32m    "@types/jasmine": "^2.8.16",[m
[32m+[m[32m    "@types/jasminewd2": "~2.0.3",[m
[32m+[m[32m    "@types/node": "~8.9.4",[m
[32m+[m[32m    "codelyzer": "~4.5.0",[m
[32m+[m[32m    "firebase": "^5.8.3",[m
[32m+[m[32m    "fs-extra": "^7.0.1",[m
[32m+[m[32m    "google-protobuf": "^3.6.1",[m
[32m+[m[32m    "gulp": "^4.0.0",[m
[32m+[m[32m    "gulp-clean": "^0.4.0",[m
[32m+[m[32m    "jasmine-core": "~2.99.1",[m
[32m+[m[32m    "jasmine-spec-reporter": "~4.2.1",[m
[32m+[m[32m    "karma": "~3.1.1",[m
[32m+[m[32m    "karma-chrome-launcher": "~2.2.0",[m
[32m+[m[32m    "karma-coverage-istanbul-reporter": "^2.0.5",[m
[32m+[m[32m    "karma-jasmine": "~1.1.2",[m
[32m+[m[32m    "karma-jasmine-html-reporter": "^0.2.2",[m
[32m+[m[32m    "protractor": "^5.4.2",[m
[32m+[m[32m    "ts-node": "~7.0.0",[m
[32m+[m[32m    "ts-protoc-gen": "^0.8.0",[m
[32m+[m[32m    "tslint": "~5.11.0",[m
[32m+[m[32m    "typescript": "~3.1.6"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/proto/data.proto b/projects/mysadna/proto/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..d8d7ed8[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/proto/data.proto[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m[32mpackage com.hasadna.mysadna;[m
[32m+[m
[32m+[m[32moption java_package = "com.hasadna.mysadna";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage Contribution {[m
[32m+[m[32m  int32 contribution_id = 1;[m
[32m+[m[32m  int32 user_id = 2;[m
[32m+[m[32m  int32 project_id = 3;[m
[32m+[m[32m  string contribution_message = 4;[m
[32m+[m[32m  string contribution_url = 5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage User {[m
[32m+[m[32m  int32 user_id = 1;[m
[32m+[m[32m  string user_name = 2;[m
[32m+[m[32m  string first_name = 3;[m
[32m+[m[32m  string last_name = 4;[m
[32m+[m[32m  string email = 5;[m
[32m+[m[32m  repeated string social_network = 6;[m
[32m+[m[32m  repeated string skill = 7;[m
[32m+[m[32m  repeated int32 project = 8;[m
[32m+[m[32m  repeated Contribution user_contribution = 9;[m
[32m+[m[32m  string user_img = 10;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Project {[m
[32m+[m[32m  int32 project_id = 1;[m
[32m+[m[32m  string project_name = 2;[m
[32m+[m[32m  string project_description = 3;[m
[32m+[m[32m  string project_site = 4;[m
[32m+[m[32m  repeated int32 contributor = 5;[m
[32m+[m[32m  repeated Contribution project_contribution = 6;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Data {[m
[32m+[m[32m  repeated User user = 1;[m
[32m+[m[32m  repeated Project project = 2;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/app-routing.module.ts b/projects/mysadna/src/app/app-routing.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..1bc7cb5[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/app-routing.module.ts[m
[36m@@ -0,0 +1,23 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { RouterModule, Routes } from '@angular/router';[m
[32m+[m
[32m+[m[32mimport {[m
[32m+[m[32m  ContactsComponent,[m
[32m+[m[32m  ProjectDetailsComponent,[m
[32m+[m[32m  ProjectsComponent,[m
[32m+[m[32m  UserDetailsComponent[m
[32m+[m[32m} from '@/components';[m
[32m+[m
[32m+[m[32mconst routes: Routes = [[m
[32m+[m[32m  { path: '', redirectTo: 'projects', pathMatch: 'full' },[m
[32m+[m[32m  { path: 'contacts', component: ContactsComponent },[m
[32m+[m[32m  { path: 'user-details/:userId', component: UserDetailsComponent },[m
[32m+[m[32m  { path: 'projects', component: ProjectsComponent },[m
[32m+[m[32m  { path: 'project-details/:projectId', component: ProjectDetailsComponent }[m
[32m+[m[32m];[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  imports: [RouterModule.forRoot(routes)],[m
[32m+[m[32m  exports: [RouterModule][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppRoutingModule { }[m
[1mdiff --git a/projects/mysadna/src/app/app.component.html b/projects/mysadna/src/app/app.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..41190e0[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/app.component.html[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m<div class="app-container">[m
[32m+[m[32m  <a [routerLink]="'/'" class="app-logo">[m
[32m+[m[32m    <img class="my-sadna-logo" src="/assets/images/pkw-logo.png">[m
[32m+[m[32m    <span class="my-sadna">MySadna</span>[m
[32m+[m[32m  </a>[m
[32m+[m[32m  <div class="app-header media-row-col">[m
[32m+[m[32m    <div class="placeholder"></div>[m
[32m+[m[32m    <div class="app-navigation-bar">[m
[32m+[m[32m      <nav class="app-navigation">[m
[32m+[m[32m        <a [routerLink]="'/projects'">Projects</a>[m
[32m+[m[32m        <a [routerLink]="'/contacts'">Contacts</a>[m
[32m+[m[32m        <a href="https://www.hasadna.org.il/">About Hasadna</a>[m
[32m+[m[32m      </nav>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <router-outlet></router-outlet>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/app.component.scss b/projects/mysadna/src/app/app.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..3f53c22[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/app.component.scss[m
[36m@@ -0,0 +1,41 @@[m
[32m+[m[32m$logo-size: 74px;[m
[32m+[m[32m.app-logo {[m
[32m+[m[32m  text-decoration: none;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  top: 5px;[m
[32m+[m[32m  left: 5px;[m
[32m+[m[32m  justify-self: flex-start;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  >.my-sadna-logo {[m
[32m+[m[32m    height: $logo-size;[m
[32m+[m[32m    width: $logo-size;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.my-sadna {[m
[32m+[m[32m    margin-left: 10px;[m
[32m+[m[32m    font-size: 22px;[m
[32m+[m[32m    font-weight: 800;[m
[32m+[m[32m    color: #0097e1;[m
[32m+[m[32m    padding-top: 15px;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m[32m.app-header {[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  justify-content: space-between;[m
[32m+[m[32m  padding: 5px;[m
[32m+[m[32m  >.placeholder {[m
[32m+[m[32m    height: $logo-size;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.app-navigation-bar {[m
[32m+[m[32m    justify-self: flex-end;[m
[32m+[m[32m    padding: 18px;[m
[32m+[m[32m    >.app-navigation {[m
[32m+[m[32m      >a {[m
[32m+[m[32m        margin: 20px;[m
[32m+[m[32m        font-size: 18px;[m
[32m+[m[32m        font-weight: bold;[m
[32m+[m[32m        color: #000000;[m
[32m+[m[32m        text-decoration: none;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/app.component.ts b/projects/mysadna/src/app/app.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..eef3e6c[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/app.component.ts[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mimport { Component } from '@angular/core';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-root',[m
[32m+[m[32m  templateUrl: './app.component.html',[m
[32m+[m[32m  styleUrls: ['./app.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppComponent { }[m
[1mdiff --git a/projects/mysadna/src/app/app.module.ts b/projects/mysadna/src/app/app.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..08919f9[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/app.module.ts[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { BrowserModule } from '@angular/platform-browser';[m
[32m+[m
[32m+[m[32mimport { AppRoutingModule } from './app-routing.module';[m
[32m+[m[32mimport { AppComponent } from './app.component';[m
[32m+[m[32mimport { ComponentList } from './components';[m
[32m+[m[32mimport { FirebaseModule } from './import/firebase/firebase.module';[m
[32m+[m[32mimport { ServiceList } from './services';[m
[32m+[m[32mimport { SharedList } from './shared';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  declarations: [[m
[32m+[m[32m    AppComponent,[m
[32m+[m[32m    ...ComponentList,[m
[32m+[m[32m    ...SharedList[m
[32m+[m[32m  ],[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    BrowserModule,[m
[32m+[m[32m    AppRoutingModule,[m
[32m+[m[32m    FirebaseModule[m
[32m+[m[32m  ],[m
[32m+[m[32m  providers: [...ServiceList],[m
[32m+[m[32m  bootstrap: [AppComponent][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppModule { }[m
[1mdiff --git a/projects/mysadna/src/app/components/contacts/contacts.component.html b/projects/mysadna/src/app/components/contacts/contacts.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..90d9b9f[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/contacts/contacts.component.html[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m<div class="contacts media">[m
[32m+[m[32m  <div class="contacts-header">Contacts</div>[m
[32m+[m[32m  <div class="contact-list">[m
[32m+[m[32m    <app-contributor[m
[32m+[m[32m      *ngFor="let user of users"[m
[32m+[m[32m      [user]="user"[m
[32m+[m[32m    ></app-contributor>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/components/contacts/contacts.component.scss b/projects/mysadna/src/app/components/contacts/contacts.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..0c369c6[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/contacts/contacts.component.scss[m
[36m@@ -0,0 +1,23 @@[m
[32m+[m[32m.contacts {[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  align-items: center;[m
[32m+[m[32m  >.contacts-header {[m
[32m+[m[32m    color: #4a4a4a;[m
[32m+[m[32m    margin-bottom: 37px;[m
[32m+[m[32m    font-size: 32px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.contact-list {[m
[32m+[m[32m    $margin: 20px;[m
[32m+[m[32m    padding-left: $margin;[m
[32m+[m[32m    padding-top: $margin;[m
[32m+[m[32m    text-align: start;[m
[32m+[m[32m    >app-contributor {[m
[32m+[m[32m      margin-right: $margin;[m
[32m+[m[32m      margin-bottom: $margin;[m
[32m+[m[32m      display: inline-block;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/contacts/contacts.component.ts b/projects/mysadna/src/app/components/contacts/contacts.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..09ef57d[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/contacts/contacts.component.ts[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mimport { Component, OnInit } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { User } from '@/proto';[m
[32m+[m[32mimport { FirebaseService } from '@/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-contacts',[m
[32m+[m[32m  templateUrl: './contacts.component.html',[m
[32m+[m[32m  styleUrls: ['./contacts.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class ContactsComponent implements OnInit {[m
[32m+[m[32m  users: User[];[m
[32m+[m
[32m+[m[32m  constructor(private firebaseService: FirebaseService) { }[m
[32m+[m
[32m+[m[32m  ngOnInit() {[m
[32m+[m[32m    this.firebaseService.getUserList()[m
[32m+[m[32m      .subscribe(userList => {[m
[32m+[m[32m        this.users = userList;[m
[32m+[m[32m      });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/contacts/index.ts b/projects/mysadna/src/app/components/contacts/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..70d5415[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/contacts/index.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mexport * from './contacts.component';[m
[1mdiff --git a/projects/mysadna/src/app/components/index.ts b/projects/mysadna/src/app/components/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..810bf1d[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/index.ts[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32mexport * from './project-details';[m
[32m+[m[32mexport * from './projects';[m
[32m+[m[32mexport * from './user-details';[m
[32m+[m[32mexport * from './contacts';[m
[32m+[m
[32m+[m[32mimport { ContactsComponent } from './contacts';[m
[32m+[m[32mimport { ProjectDetailsComponent } from './project-details';[m
[32m+[m[32mimport { ProjectsComponent } from './projects';[m
[32m+[m[32mimport { UserDetailsComponent } from './user-details';[m
[32m+[m
[32m+[m[32mexport const ComponentList = [[m
[32m+[m[32m  ProjectDetailsComponent,[m
[32m+[m[32m  ProjectsComponent,[m
[32m+[m[32m  UserDetailsComponent,[m
[32m+[m[32m  ContactsComponent[m
[32m+[m[32m];[m
[1mdiff --git a/projects/mysadna/src/app/components/project-details/index.ts b/projects/mysadna/src/app/components/project-details/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d5f1a16[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/project-details/index.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mexport * from './project-details.component';[m
[1mdiff --git a/projects/mysadna/src/app/components/project-details/project-details.component.html b/projects/mysadna/src/app/components/project-details/project-details.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..efa7c61[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/project-details/project-details.component.html[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m<div class="project-details media" *ngIf="project">[m
[32m+[m[32m  <div class="project-name">{{project.getProjectName()}}</div>[m
[32m+[m[32m  <div class="project-description">{{project.getProjectDescription()}}</div>[m
[32m+[m[32m  <div class="project-link">[m
[32m+[m[32m    <a  [href]="project.getProjectSite()" target="blank">[m
[32m+[m[32m      {{project.getProjectSite()}}[m
[32m+[m[32m    </a>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <div class="contributors">[m
[32m+[m[32m    <div class="title">Contributors:</div>[m
[32m+[m[32m    <div class="contributors-list">[m
[32m+[m[32m      <app-contributor[m
[32m+[m[32m        *ngFor="let user of projectUsers"[m
[32m+[m[32m        [user]="user"[m
[32m+[m[32m      ></app-contributor>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/components/project-details/project-details.component.scss b/projects/mysadna/src/app/components/project-details/project-details.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..9927158[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/project-details/project-details.component.scss[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m.project-details {[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  >.project-name {[m
[32m+[m[32m    font-size: 32px;[m
[32m+[m[32m    color: #4a4a4a;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    margin-bottom: 47px;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.project-description {[m
[32m+[m[32m    color: #4a4a4a;[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.project-link {[m
[32m+[m[32m    margin: 35px;[m
[32m+[m[32m    >a {[m
[32m+[m[32m      font-size: 20px;[m
[32m+[m[32m      word-wrap: break-word;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m  >.contributors {[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    flex-direction: column;[m
[32m+[m[32m    align-items: center;[m
[32m+[m[32m    >.title {[m
[32m+[m[32m      color: #565656;[m
[32m+[m[32m      font-size: 20px;[m
[32m+[m[32m      margin-bottom: 10px;[m
[32m+[m[32m    }[m
[32m+[m[32m    >.contributors-list {[m
[32m+[m[32m      $margin: 20px;[m
[32m+[m[32m      padding-left: $margin;[m
[32m+[m[32m      padding-top: $margin;[m
[32m+[m[32m      text-align: start;[m
[32m+[m[32m      >app-contributor {[m
[32m+[m[32m        margin-right: $margin;[m
[32m+[m[32m        margin-bottom: $margin;[m
[32m+[m[32m        display: inline-block;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m[41m    [m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/project-details/project-details.component.ts b/projects/mysadna/src/app/components/project-details/project-details.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..913a96b[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/project-details/project-details.component.ts[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32mimport { Component, OnInit } from '@angular/core';[m
[32m+[m[32mimport { ActivatedRoute } from '@angular/router';[m
[32m+[m[32mimport { zip } from 'rxjs';[m
[32m+[m
[32m+[m[32mimport { Project, User } from '@/proto';[m
[32m+[m[32mimport { FirebaseService } from '@/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-project-details',[m
[32m+[m[32m  templateUrl: './project-details.component.html',[m
[32m+[m[32m  styleUrls: ['./project-details.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class ProjectDetailsComponent implements OnInit {[m
[32m+[m[32m  project: Project;[m
[32m+[m[32m  projectUsers: User[];[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private route: ActivatedRoute,[m
[32m+[m[32m    private firebaseService: FirebaseService[m
[32m+[m[32m  ) { }[m
[32m+[m
[32m+[m[32m  ngOnInit(): void {[m
[32m+[m[32m    const projectId: number = +this.route.snapshot.paramMap.get('projectId');[m
[32m+[m[32m    this.loadData(projectId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  loadData(projectId: number): void {[m
[32m+[m[32m    zip([m
[32m+[m[32m      this.firebaseService.getUserList(),[m
[32m+[m[32m      this.firebaseService.getProjectList()[m
[32m+[m[32m    ).subscribe(data => {[m
[32m+[m[32m      const userList: User[] = data[0];[m
[32m+[m[32m      const projectList: Project[] = data[1];[m
[32m+[m
[32m+[m[32m      this.project = projectList.find(project => (project.getProjectId() === projectId));[m
[32m+[m[32m      this.projectUsers = userList.filter(user => user.getProjectList().includes(projectId));[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/projects/index.ts b/projects/mysadna/src/app/components/projects/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d9dc3cb[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/projects/index.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mexport * from './projects.component';[m
[1mdiff --git a/projects/mysadna/src/app/components/projects/projects.component.html b/projects/mysadna/src/app/components/projects/projects.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..bdad873[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/projects/projects.component.html[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m<div class="projects media">[m
[32m+[m[32m  <div class="title">Projects</div>[m
[32m+[m[32m  <div class="project" *ngFor="let project of projects">[m
[32m+[m[32m    <a [routerLink]="'/project-details/' + project.getProjectId()">[m
[32m+[m[32m      {{project.getProjectName()}}[m
[32m+[m[32m    </a>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/components/projects/projects.component.scss b/projects/mysadna/src/app/components/projects/projects.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..e4992ff[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/projects/projects.component.scss[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32m.projects {[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  >.title {[m
[32m+[m[32m    color: #4a4a4a;[m
[32m+[m[32m    margin-bottom: 65px;[m
[32m+[m[32m    font-size: 32px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m  }[m
[32m+[m[32m  >.project {[m
[32m+[m[32m    margin-bottom: 28px;[m
[32m+[m[32m    >a {[m
[32m+[m[32m      text-decoration: none;[m
[32m+[m[32m      color: black;[m
[32m+[m[32m      font-size: 1.5em;[m
[32m+[m[32m      color: #4a4a4a;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/projects/projects.component.ts b/projects/mysadna/src/app/components/projects/projects.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..ec23e4d[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/projects/projects.component.ts[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mimport { Component, OnInit } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { Project } from '@/proto';[m
[32m+[m[32mimport { FirebaseService } from '@/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-projects',[m
[32m+[m[32m  templateUrl: './projects.component.html',[m
[32m+[m[32m  styleUrls: ['./projects.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class ProjectsComponent implements OnInit {[m
[32m+[m[32m  projects: Project[];[m
[32m+[m
[32m+[m[32m  constructor(private firebaseService: FirebaseService) { }[m
[32m+[m
[32m+[m[32m  ngOnInit() {[m
[32m+[m[32m    this.getAllProjects();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getAllProjects(): void {[m
[32m+[m[32m    this.firebaseService.getProjectList()[m
[32m+[m[32m      .subscribe(projectList => {[m
[32m+[m[32m        this.projects = projectList;[m
[32m+[m[32m      });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/user-details/index.ts b/projects/mysadna/src/app/components/user-details/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..fab745a[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/user-details/index.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mexport * from './user-details.component';[m
[1mdiff --git a/projects/mysadna/src/app/components/user-details/user-details.component.html b/projects/mysadna/src/app/components/user-details/user-details.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..b7c6653[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/user-details/user-details.component.html[m
[36m@@ -0,0 +1,48 @@[m
[32m+[m[32m<div class="user-details" *ngIf="user">[m
[32m+[m[32m  <div class="media">[m
[32m+[m[32m    <div class="user-header">{{ user.getFirstName() }} {{ user.getLastName() }}</div>[m
[32m+[m[32m    <div class="user-container media-row-col">[m
[32m+[m[32m      <div class="user-label">[m
[32m+[m[32m        <div class="flex">[m
[32m+[m[32m          <img [src]="user.getUserImg()">[m
[32m+[m[32m          <div class="user-name">{{ user.getUserName() }}</div>[m
[32m+[m[32m          <div class="email">{{ user.getEmail() }}</div>[m
[32m+[m[32m          <div class="social-networks">[m
[32m+[m[32m            <a[m
[32m+[m[32m              href="https://github.com/hasadna/hasadna"[m
[32m+[m[32m              *ngFor="let socialNetwork of user.getSocialNetworkList()"[m
[32m+[m[32m            >[m
[32m+[m[32m              <img src="./assets/images/{{socialNetwork}}.svg">[m
[32m+[m[32m            </a>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="media-large-block"></div>[m
[32m+[m[32m      <div class="media-small-block"></div>[m
[32m+[m[32m      <div class="user-info media-100">[m
[32m+[m[32m        <div class="title">Projects:</div>[m
[32m+[m[32m        <div class="info-block">[m
[32m+[m[32m          <a[m
[32m+[m[32m            *ngFor="let project of userProjects"[m
[32m+[m[32m            [routerLink]="'/project-details/' + project.getProjectId()"[m
[32m+[m[32m          >{{ project.getProjectName() }}</a>[m
[32m+[m[32m        </div>[m
[32m+[m
[32m+[m[32m        <div class="title">Skills:</div>[m
[32m+[m[32m        <div class="info-block">[m
[32m+[m[32m          {{ getSkills() }}[m
[32m+[m[32m        </div>[m
[32m+[m
[32m+[m[32m        <div class="title">Contributions:</div>[m
[32m+[m[32m        <div class="info-block">[m
[32m+[m[32m          <div class="contribution" *ngFor="let contribution of user.getUserContributionList()">[m
[32m+[m[32m            <div class="contribution-message">{{ contribution.getContributionMessage() }}</div>[m
[32m+[m[32m            <div class="contribution-url"><a [href]="contribution.getContributionUrl()">[m
[32m+[m[32m              {{ contribution.getContributionUrl() }}[m
[32m+[m[32m            </a></div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/components/user-details/user-details.component.scss b/projects/mysadna/src/app/components/user-details/user-details.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..c67e8eb[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/user-details/user-details.component.scss[m
[36m@@ -0,0 +1,75 @@[m
[32m+[m[32m$label-width: 250px;[m
[32m+[m
[32m+[m[32m.user-details {[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  justify-content: center;[m
[32m+[m[32m  >.media {[m
[32m+[m[32m    >.user-header {[m
[32m+[m[32m      display: flex;[m
[32m+[m[32m      justify-content: center;[m
[32m+[m[32m      font-size: 32px;[m
[32m+[m[32m      font-weight: bold;[m
[32m+[m[32m      margin-bottom: 50px;[m
[32m+[m[32m      color: #4a4a4a;[m
[32m+[m[32m    }[m
[32m+[m[32m    >.user-container {[m
[32m+[m[32m      display: flex;[m
[32m+[m[32m      $space: 75px;[m
[32m+[m[32m      >.user-label {[m
[32m+[m[32m        display: flex;[m
[32m+[m[32m        justify-content: center;[m
[32m+[m[32m        width: $label-width;[m
[32m+[m[32m        >.flex {[m
[32m+[m[32m          >img {[m
[32m+[m[32m            margin-bottom: 16px;[m
[32m+[m[32m          }[m
[32m+[m[32m          >.user-name {[m
[32m+[m[32m            font-size: 24px;[m
[32m+[m[32m            color: #565656;[m
[32m+[m[32m            margin-bottom: 9px;[m
[32m+[m[32m          }[m
[32m+[m[32m          >.email {[m
[32m+[m[32m            font-size: 19px;[m
[32m+[m[32m            color: #565656;[m
[32m+[m[32m            margin-bottom: 16px;[m
[32m+[m[32m          }[m
[32m+[m[32m          >.social-networks {[m
[32m+[m[32m            >a {[m
[32m+[m[32m              margin-right: 19px;[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m      >.media-large-block {[m
[32m+[m[32m        width: $space;[m
[32m+[m[32m      }[m
[32m+[m[32m      >.media-small-block {[m
[32m+[m[32m        height: 23px;[m
[32m+[m[32m      }[m
[32m+[m[32m      >.user-info {[m
[32m+[m[32m        width: calc(100% - #{$label-width} - #{$space});[m
[32m+[m[32m        >.title {[m
[32m+[m[32m          color: #565656;[m
[32m+[m[32m          font-size: 20px;[m
[32m+[m[32m        }[m
[32m+[m[32m        >.info-block {[m
[32m+[m[32m          padding: 16px;[m
[32m+[m[32m          border: 1px solid #979797;[m
[32m+[m[32m          margin-bottom: 22px;[m
[32m+[m[32m          font-size: 20px;[m
[32m+[m[32m          >a {[m
[32m+[m[32m            margin-right: 10px;[m
[32m+[m[32m          }[m
[32m+[m[32m          >.contribution {[m
[32m+[m[32m            >.contribution-message {[m
[32m+[m[32m              color: #565656;[m
[32m+[m[32m            }[m
[32m+[m[32m            >.contribution-url {[m
[32m+[m[32m              word-wrap: break-word;[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/components/user-details/user-details.component.ts b/projects/mysadna/src/app/components/user-details/user-details.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..5d5d568[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/components/user-details/user-details.component.ts[m
[36m@@ -0,0 +1,45 @@[m
[32m+[m[32mimport { Component, OnInit } from '@angular/core';[m
[32m+[m[32mimport { ActivatedRoute } from '@angular/router';[m
[32m+[m[32mimport { zip } from 'rxjs';[m
[32m+[m
[32m+[m[32mimport { Project, User } from '@/proto';[m
[32m+[m[32mimport { FirebaseService } from '@/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-user-details',[m
[32m+[m[32m  templateUrl: './user-details.component.html',[m
[32m+[m[32m  styleUrls: ['./user-details.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class UserDetailsComponent implements OnInit {[m
[32m+[m[32m  user: User;[m
[32m+[m[32m  userProjects: Project[];[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private route: ActivatedRoute,[m
[32m+[m[32m    private firebaseService: FirebaseService[m
[32m+[m[32m  ) { }[m
[32m+[m
[32m+[m[32m  ngOnInit(): void {[m
[32m+[m[32m    const userId: number = +this.route.snapshot.paramMap.get('userId');[m
[32m+[m[32m    this.loadData(userId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  loadData(userId: number): void {[m
[32m+[m[32m    zip([m
[32m+[m[32m      this.firebaseService.getUserList(),[m
[32m+[m[32m      this.firebaseService.getProjectList()[m
[32m+[m[32m    ).subscribe(data => {[m
[32m+[m[32m      const userList: User[] = data[0];[m
[32m+[m[32m      const projectList: Project[] = data[1];[m
[32m+[m
[32m+[m[32m      this.user = userList.find(user => user.getUserId() === userId);[m
[32m+[m[32m      this.userProjects = projectList.filter([m
[32m+[m[32m        project => project.getContributorList().includes(userId)[m
[32m+[m[32m      );[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getSkills(): string {[m
[32m+[m[32m    return this.user.getSkillList().join(', ');[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/import/firebase/config.ts b/projects/mysadna/src/app/import/firebase/config.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..17d10be[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/import/firebase/config.ts[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mexport const config = {[m
[32m+[m[32m  apiKey: 'AIzaSyBdRHmwH8HWl42ozXFZvEKvPpFxuwTd4bE',[m
[32m+[m[32m  authDomain: 'my-first-firebase-projec-be6b0.firebaseapp.com',[m
[32m+[m[32m  databaseURL: 'https://my-first-firebase-projec-be6b0.firebaseio.com',[m
[32m+[m[32m  projectId: 'my-first-firebase-projec-be6b0',[m
[32m+[m[32m  storageBucket: 'my-first-firebase-projec-be6b0.appspot.com',[m
[32m+[m[32m  messagingSenderId: '17487820127'[m
[32m+[m[32m};[m
[1mdiff --git a/projects/mysadna/src/app/import/firebase/firebase.module.ts b/projects/mysadna/src/app/import/firebase/firebase.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..aa61b55[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/import/firebase/firebase.module.ts[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { AngularFireModule } from 'angularfire2';[m
[32m+[m[32mimport { AngularFireAuth, AngularFireAuthModule } from 'angularfire2/auth';[m
[32m+[m[32mimport { AngularFireDatabase } from 'angularfire2/database';[m
[32m+[m[32mimport { AngularFirestoreModule, FirestoreSettingsToken } from 'angularfire2/firestore';[m
[32m+[m
[32m+[m[32mimport { config } from './config';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    AngularFireModule.initializeApp(config),[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule[m
[32m+[m[32m  ],[m
[32m+[m[32m  declarations: [],[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    AngularFireDatabase,[m
[32m+[m[32m    AngularFireAuth,[m
[32m+[m[32m    { provide: FirestoreSettingsToken, useValue: {} }[m
[32m+[m[32m  ],[m
[32m+[m[32m  exports: [[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule[m
[32m+[m[32m  ][m
[32m+[m[32m})[m
[32m+[m[32mexport class FirebaseModule { }[m
[1mdiff --git a/projects/mysadna/src/app/services/encoding.service.ts b/projects/mysadna/src/app/services/encoding.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2002dea[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/services/encoding.service.ts[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class EncodingService {[m
[32m+[m[32m  encodeUint8ArrayToBase64String(binary: Uint8Array): string {[m
[32m+[m[32m    return btoa(String.fromCharCode.apply(null, binary));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  decodeBase64StringToUint8Array(base64: string): Uint8Array {[m
[32m+[m[32m    const raw: string = window.atob(base64);[m
[32m+[m[32m    const uint8Array = new Uint8Array(new ArrayBuffer(raw.length));[m
[32m+[m[32m    for (let i = 0; i < raw.length; i++) {[m
[32m+[m[32m      uint8Array[i] = raw.charCodeAt(i);[m
[32m+[m[32m    }[m
[32m+[m[32m    return uint8Array;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/services/firebase.service.ts b/projects/mysadna/src/app/services/firebase.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..c3424c4[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/services/firebase.service.ts[m
[36m@@ -0,0 +1,51 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m[32mimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';[m
[32m+[m[32mimport { Observable } from 'rxjs';[m
[32m+[m[32mimport { map } from 'rxjs/operators';[m
[32m+[m
[32m+[m[32mimport { Project, User } from '@/proto';[m
[32m+[m[32mimport { EncodingService } from './encoding.service';[m
[32m+[m
[32m+[m[32minterface FirebaseElement {[m
[32m+[m[32m  proto: string;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class FirebaseService {[m
[32m+[m[32m  private userList: AngularFirestoreCollection<FirebaseElement>;[m
[32m+[m[32m  private projectList: AngularFirestoreCollection<FirebaseElement>;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private db: AngularFirestore,[m
[32m+[m[32m    private encodingService: EncodingService[m
[32m+[m[32m  ) {[m
[32m+[m[32m    this.projectList = this.db.collection('protobin/data/project-list');[m
[32m+[m[32m    this.userList = this.db.collection('protobin/data/user-list');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getUserList(): Observable<User[]> {[m
[32m+[m[32m    return this.userList.snapshotChanges().pipe([m
[32m+[m[32m      map(action => action.map(a => {[m
[32m+[m[32m        const firebaseElement: FirebaseElement = a.payload.doc.data();[m
[32m+[m[32m        return User.deserializeBinary(this.getBinary(firebaseElement));[m
[32m+[m[32m      }))[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getProjectList(): Observable<Project[]> {[m
[32m+[m[32m    return this.projectList.snapshotChanges().pipe([m
[32m+[m[32m      map(action => action.map(a => {[m
[32m+[m[32m        const firebaseElement: FirebaseElement = a.payload.doc.data();[m
[32m+[m[32m        return Project.deserializeBinary(this.getBinary(firebaseElement));[m
[32m+[m[32m      }))[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Converts firebaseElement to binary[m
[32m+[m[32m  private getBinary(firebaseElement: FirebaseElement): Uint8Array {[m
[32m+[m[32m    const binary: Uint8Array = this.encodingService.decodeBase64StringToUint8Array([m
[32m+[m[32m      firebaseElement.proto[m
[32m+[m[32m    );[m
[32m+[m[32m    return binary;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/services/index.ts b/projects/mysadna/src/app/services/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..f209dca[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/services/index.ts[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mexport * from './encoding.service';[m
[32m+[m[32mexport * from './firebase.service';[m
[32m+[m
[32m+[m[32mimport { EncodingService } from './encoding.service';[m
[32m+[m[32mimport { FirebaseService } from './firebase.service';[m
[32m+[m
[32m+[m[32mexport const ServiceList = [[m
[32m+[m[32m  EncodingService,[m
[32m+[m[32m  FirebaseService[m
[32m+[m[32m];[m
[1mdiff --git a/projects/mysadna/src/app/shared/contributor/contributor.component.html b/projects/mysadna/src/app/shared/contributor/contributor.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..ea3d9ea[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/shared/contributor/contributor.component.html[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32m<div class="contributor" *ngIf="user">[m
[32m+[m[32m  <a [routerLink]="'/user-details/' + user.getUserId()">[m
[32m+[m[32m    <div class="user-image">[m
[32m+[m[32m      <img class="user-image" [src]="user.getUserImg()">[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="user-names">[m
[32m+[m[32m      <div class="user-full-name">[m
[32m+[m[32m        {{ user.getFirstName() }} {{ user.getLastName() }}[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="user-name">[m
[32m+[m[32m        {{ user.getUserName() }}[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </a>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/mysadna/src/app/shared/contributor/contributor.component.scss b/projects/mysadna/src/app/shared/contributor/contributor.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..2213a4c[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/shared/contributor/contributor.component.scss[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32m.contributor {[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  >a {[m
[32m+[m[32m    text-decoration: none;[m
[32m+[m[32m    border-radius: 5px;[m
[32m+[m[32m    box-shadow: 1px 1px 6px rgba(0,0,0,0.4);[m
[32m+[m[32m    >.user-names {[m
[32m+[m[32m      padding: 15px;[m
[32m+[m[32m      text-align: left;[m
[32m+[m[32m      >.user-full-name {[m
[32m+[m[32m        color: rgba(0, 0, 0, 0.87);[m
[32m+[m[32m        font-size: 18px;[m
[32m+[m[32m        font-weight: 600;[m
[32m+[m[32m      }[m
[32m+[m[32m      >.user-name {[m
[32m+[m[32m        color: rgba(0, 0, 0, 0.6);[m
[32m+[m[32m        font-size: 16px;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m[41m [m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/shared/contributor/contributor.component.ts b/projects/mysadna/src/app/shared/contributor/contributor.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..4ba6b55[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/shared/contributor/contributor.component.ts[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mimport { Component, Input } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { User } from '@/proto';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-contributor',[m
[32m+[m[32m  templateUrl: './contributor.component.html',[m
[32m+[m[32m  styleUrls: ['./contributor.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class ContributorComponent {[m
[32m+[m[32m  @Input() user: User;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/app/shared/contributor/index.ts b/projects/mysadna/src/app/shared/contributor/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..12cbab1[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/shared/contributor/index.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mexport * from './contributor.component';[m
[1mdiff --git a/projects/mysadna/src/app/shared/index.ts b/projects/mysadna/src/app/shared/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..45d1f46[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/app/shared/index.ts[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mexport * from './contributor';[m
[32m+[m
[32m+[m[32mimport { ContributorComponent } from './contributor';[m
[32m+[m
[32m+[m[32mexport const SharedList = [[m
[32m+[m[32m  ContributorComponent[m
[32m+[m[32m];[m
[1mdiff --git a/projects/mysadna/src/assets/.gitkeep b/projects/mysadna/src/assets/.gitkeep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/mysadna/src/assets/images/Facebook.png b/projects/mysadna/src/assets/images/Facebook.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad2845[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Facebook.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Facebook.svg b/projects/mysadna/src/assets/images/Facebook.svg[m
[1mnew file mode 100644[m
[1mindex 0000000..137daee[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/assets/images/Facebook.svg[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">[m
[32m+[m[32m    <path fill="#475993" fill-rule="evenodd" d="M31.133 0H4.849A4.849 4.849 0 0 0 0 4.849v26.284A4.849 4.849 0 0 0 4.85 35.98h12.963l.022-12.858h-3.34a.788.788 0 0 1-.789-.785l-.016-4.144a.788.788 0 0 1 .789-.791h3.334v-4.005c0-4.648 2.838-7.178 6.984-7.178h3.402c.435 0 .788.353.788.788v3.495a.788.788 0 0 1-.788.788h-2.087c-2.255 0-2.691 1.072-2.691 2.645v3.467h4.954c.472 0 .838.412.782.88l-.49 4.145a.788.788 0 0 1-.784.696h-4.44L23.42 35.98h7.713a4.848 4.848 0 0 0 4.848-4.848V4.849A4.849 4.849 0 0 0 31.133 0z"/>[m
[32m+[m[32m</svg>[m
[1mdiff --git a/projects/mysadna/src/assets/images/Facebook@2x.png b/projects/mysadna/src/assets/images/Facebook@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5dc08ba[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Facebook@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Facebook@3x.png b/projects/mysadna/src/assets/images/Facebook@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1a292b1[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Facebook@3x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Github.png b/projects/mysadna/src/assets/images/Github.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f433eb7[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Github.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Github.svg b/projects/mysadna/src/assets/images/Github.svg[m
[1mnew file mode 100644[m
[1mindex 0000000..37e10fd[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/assets/images/Github.svg[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32m<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">[m
[32m+[m[32m    <g fill="#000" fill-rule="evenodd">[m
[32m+[m[32m        <path d="M12.97 28.915c-.25.046-.358.164-.327.35.031.188.172.25.421.188.25-.062.36-.172.328-.328-.03-.171-.171-.242-.421-.21zM11.636 29.102c-.25 0-.374.086-.374.258 0 .202.132.288.398.257.25 0 .374-.086.374-.257 0-.203-.132-.29-.398-.258zM9.81 29.031c-.062.172.04.289.304.352.235.093.383.046.445-.14.047-.172-.054-.297-.304-.375-.234-.063-.382-.009-.445.163z"/>[m
[32m+[m[32m        <path d="M33.984 1.978C32.664.66 31.077 0 29.219 0H6.743C4.886 0 3.297.66 1.978 1.978.66 3.298 0 4.886 0 6.743v22.476c0 1.858.66 3.446 1.978 4.765 1.32 1.319 2.908 1.978 4.765 1.978h5.244c.343 0 .601-.012.773-.035.171-.023.343-.125.515-.305.172-.179.257-.44.257-.784l-.012-1.592a323.52 323.52 0 0 1-.011-2.412l-.539.094c-.343.062-.776.09-1.3.082a9.998 9.998 0 0 1-1.626-.164 3.648 3.648 0 0 1-1.57-.702 2.972 2.972 0 0 1-1.03-1.44l-.233-.539c-.156-.358-.402-.757-.738-1.193-.335-.438-.675-.734-1.018-.89l-.164-.117a1.722 1.722 0 0 1-.304-.282 1.3 1.3 0 0 1-.211-.327c-.047-.11-.008-.2.117-.27s.351-.105.679-.105l.468.07c.312.063.698.25 1.16.562.46.312.838.718 1.135 1.217.359.64.791 1.128 1.299 1.463.507.336 1.018.504 1.533.504.515 0 .96-.039 1.335-.117a4.661 4.661 0 0 0 1.053-.351c.14-1.046.523-1.85 1.148-2.412-.89-.094-1.69-.234-2.4-.421a9.564 9.564 0 0 1-2.2-.914 6.301 6.301 0 0 1-1.886-1.568c-.5-.625-.91-1.445-1.229-2.459-.32-1.015-.48-2.185-.48-3.512 0-1.888.617-3.496 1.85-4.823-.578-1.42-.523-3.012.164-4.776.452-.14 1.124-.035 2.013.316.89.352 1.542.652 1.955.901.414.25.746.46.995.633a16.619 16.619 0 0 1 4.496-.609c1.545 0 3.043.203 4.495.609l.89-.562a12.595 12.595 0 0 1 2.154-1.03c.827-.312 1.46-.398 1.897-.258.702 1.764.765 3.356.187 4.776 1.233 1.327 1.85 2.935 1.85 4.823 0 1.327-.16 2.502-.48 3.524-.32 1.022-.733 1.842-1.241 2.459a6.547 6.547 0 0 1-1.896 1.557 9.551 9.551 0 0 1-2.201.912c-.71.188-1.51.329-2.4.422.811.703 1.217 1.81 1.217 3.325v5.596c0 .265.039.48.117.643a.647.647 0 0 0 .374.34c.173.062.324.101.457.117.133.015.324.023.574.023h5.244c1.858 0 3.446-.66 4.764-1.978 1.32-1.32 1.979-2.908 1.979-4.765V6.743c0-1.857-.66-3.446-1.978-4.765z"/>[m
[32m+[m[32m        <path d="M7.117 26.175c-.109.078-.093.203.047.375.157.156.281.18.375.07.11-.078.094-.203-.047-.375-.156-.14-.28-.164-.375-.07zM6.345 25.59c-.047.11.008.203.164.281.125.078.226.063.304-.047.047-.109-.008-.203-.164-.281-.156-.047-.257-.031-.304.047zM7.843 27.089c-.14.077-.14.218 0 .42.14.204.273.259.398.165.14-.11.14-.258 0-.445-.124-.203-.257-.25-.398-.14zM8.663 28.142c-.14.125-.11.273.094.445.187.187.343.21.468.07.125-.125.094-.273-.094-.445-.187-.187-.343-.21-.468-.07z"/>[m
[32m+[m[32m    </g>[m
[32m+[m[32m</svg>[m
[1mdiff --git a/projects/mysadna/src/assets/images/Github@2x.png b/projects/mysadna/src/assets/images/Github@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..33e48ad[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Github@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Github@3x.png b/projects/mysadna/src/assets/images/Github@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..3b8151b[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Github@3x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/LinkedIn.png b/projects/mysadna/src/assets/images/LinkedIn.png[m
[1mnew file mode 100644[m
[1mindex 0000000..6894418[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/LinkedIn.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/LinkedIn.svg b/projects/mysadna/src/assets/images/LinkedIn.svg[m
[1mnew file mode 100644[m
[1mindex 0000000..b181fa9[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/assets/images/LinkedIn.svg[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">[m
[32m+[m[32m    <path fill="#0077B7" fill-rule="nonzero" d="M32.744 0H3.256A3.257 3.257 0 0 0 0 3.256v29.487A3.257 3.257 0 0 0 3.256 36h29.487A3.257 3.257 0 0 0 36 32.743V3.256A3.257 3.257 0 0 0 32.744 0zM11.14 31.085a.948.948 0 0 1-.948.947H6.158a.948.948 0 0 1-.948-.947v-16.91c0-.524.425-.949.948-.949h4.034c.524 0 .948.425.948.948v16.91zM8.175 11.632a3.832 3.832 0 1 1 0-7.665 3.832 3.832 0 0 1 0 7.665zm24.047 19.53c0 .48-.39.87-.871.87h-4.33a.871.871 0 0 1-.87-.87v-7.933c0-1.183.346-5.185-3.093-5.185-2.668 0-3.209 2.739-3.318 3.968v9.15c0 .48-.39.87-.871.87h-4.187a.871.871 0 0 1-.871-.87V14.097c0-.481.39-.872.871-.872h4.187c.481 0 .871.39.871.872v1.475c.99-1.484 2.46-2.63 5.59-2.63 6.932 0 6.892 6.476 6.892 10.034v8.184z"/>[m
[32m+[m[32m</svg>[m
[1mdiff --git a/projects/mysadna/src/assets/images/LinkedIn@2x.png b/projects/mysadna/src/assets/images/LinkedIn@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..d901866[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/LinkedIn@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/LinkedIn@3x.png b/projects/mysadna/src/assets/images/LinkedIn@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..bae19ac[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/LinkedIn@3x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Twitter.png b/projects/mysadna/src/assets/images/Twitter.png[m
[1mnew file mode 100644[m
[1mindex 0000000..0af87bb[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Twitter.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Twitter.svg b/projects/mysadna/src/assets/images/Twitter.svg[m
[1mnew file mode 100644[m
[1mindex 0000000..2a060cd[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/assets/images/Twitter.svg[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">[m
[32m+[m[32m    <g fill="none" fill-rule="evenodd">[m
[32m+[m[32m        <rect width="35.979" height="35.979" fill="#50ABF1" rx="4"/>[m
[32m+[m[32m        <path fill="#FFF" d="M4.767 26.67a15.408 15.408 0 0 0 8.28 2.398c8.553 0 15.487-6.935 15.487-15.488 0-.214-.004-.426-.013-.637.31-.244 2.223-1.777 2.692-2.763 0 0-1.554.646-3.074.798h-.01l.008-.005c.14-.094 2.1-1.427 2.365-3.016 0 0-1.1.586-2.638 1.1a17.65 17.65 0 0 1-.797.245 5.42 5.42 0 0 0-3.967-1.72 5.433 5.433 0 0 0-5.294 6.663c-.42-.017-6.808-.375-11.154-5.639 0 0-2.598 3.546 1.548 7.193 0 0-1.26-.05-2.348-.7 0 0-.399 4.296 4.296 5.394 0 0-.924.35-2.398.1 0 0 .824 3.472 4.995 3.796 0 0-3.298 2.98-7.98 2.28l.002.001z"/>[m
[32m+[m[32m    </g>[m
[32m+[m[32m</svg>[m
[1mdiff --git a/projects/mysadna/src/assets/images/Twitter@2x.png b/projects/mysadna/src/assets/images/Twitter@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..6d19794[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Twitter@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/Twitter@3x.png b/projects/mysadna/src/assets/images/Twitter@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..935f0d4[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/Twitter@3x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/default-avatar.png b/projects/mysadna/src/assets/images/default-avatar.png[m
[1mnew file mode 100644[m
[1mindex 0000000..9030375[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/default-avatar.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/default-avatar.svg b/projects/mysadna/src/assets/images/default-avatar.svg[m
[1mnew file mode 100644[m
[1mindex 0000000..3782df0[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/assets/images/default-avatar.svg[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="218" height="188" viewBox="0 0 218 188">[m
[32m+[m[32m    <defs>[m
[32m+[m[32m        <path id="a" d="M0 0h218v188H0z"/>[m
[32m+[m[32m    </defs>[m
[32m+[m[32m    <g fill="none" fill-rule="evenodd">[m
[32m+[m[32m        <mask id="b" fill="#fff">[m
[32m+[m[32m            <use xlink:href="#a"/>[m
[32m+[m[32m        </mask>[m
[32m+[m[32m        <use fill="#E9E9E9" fill-rule="nonzero" xlink:href="#a"/>[m
[32m+[m[32m        <g fill="#9B9B9B" fill-rule="nonzero" mask="url(#b)">[m
[32m+[m[32m            <g transform="translate(44 27)">[m
[32m+[m[32m                <circle cx="65" cy="37" r="37"/>[m
[32m+[m[32m                <ellipse cx="65" cy="157" rx="65" ry="71"/>[m
[32m+[m[32m            </g>[m
[32m+[m[32m        </g>[m
[32m+[m[32m    </g>[m
[32m+[m[32m</svg>[m
[1mdiff --git a/projects/mysadna/src/assets/images/default-avatar@2x.png b/projects/mysadna/src/assets/images/default-avatar@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5fbe90e[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/default-avatar@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/default-avatar@3x.png b/projects/mysadna/src/assets/images/default-avatar@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..2d33cb9[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/default-avatar@3x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo.jpg b/projects/mysadna/src/assets/images/pkw-logo.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..98307bc[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo.jpg differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo.png b/projects/mysadna/src/assets/images/pkw-logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..d3c3764[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo@2x.jpg b/projects/mysadna/src/assets/images/pkw-logo@2x.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..a716985[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo@2x.jpg differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo@2x.png b/projects/mysadna/src/assets/images/pkw-logo@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..cb56ce3[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo@2x.png differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo@3x.jpg b/projects/mysadna/src/assets/images/pkw-logo@3x.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..9a2a399[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo@3x.jpg differ
[1mdiff --git a/projects/mysadna/src/assets/images/pkw-logo@3x.png b/projects/mysadna/src/assets/images/pkw-logo@3x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b5a2187[m
Binary files /dev/null and b/projects/mysadna/src/assets/images/pkw-logo@3x.png differ
[1mdiff --git a/projects/mysadna/src/browserslist b/projects/mysadna/src/browserslist[m
[1mnew file mode 100644[m
[1mindex 0000000..c6cb1d3[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/browserslist[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m# This file is currently used by autoprefixer to adjust CSS to support the below specified browsers[m
[32m+[m[32m# For additional information regarding the format and rule options, please see:[m
[32m+[m[32m# https://github.com/browserslist/browserslist#queries[m
[32m+[m[32m#[m
[32m+[m[32m# For IE 9-11 support, please remove 'not' from the last line of the file and adjust as needed[m
[32m+[m
[32m+[m[32m> 0.5%[m
[32m+[m[32mlast 2 versions[m
[32m+[m[32mFirefox ESR[m
[32m+[m[32mnot dead[m
[32m+[m[32mnot IE 9-11[m
[1mdiff --git a/projects/mysadna/src/environments/environment.prod.ts b/projects/mysadna/src/environments/environment.prod.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..3612073[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/environments/environment.prod.ts[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: true[m
[32m+[m[32m};[m
[1mdiff --git a/projects/mysadna/src/environments/environment.ts b/projects/mysadna/src/environments/environment.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..7b4f817[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/environments/environment.ts[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m// This file can be replaced during build by using the `fileReplacements` array.[m
[32m+[m[32m// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.[m
[32m+[m[32m// The list of file replacements can be found in `angular.json`.[m
[32m+[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: false[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * For easier debugging in development mode, you can import the following file[m
[32m+[m[32m * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.[m
[32m+[m[32m *[m
[32m+[m[32m * This import should be commented out in production mode because it will have a negative impact[m
[32m+[m[32m * on performance if an error is thrown.[m
[32m+[m[32m */[m
[32m+[m[32m// import 'zone.js/dist/zone-error';  // Included with Angular CLI.[m
[1mdiff --git a/projects/mysadna/src/favicon.ico b/projects/mysadna/src/favicon.ico[m
[1mnew file mode 100644[m
[1mindex 0000000..2841fd0[m
Binary files /dev/null and b/projects/mysadna/src/favicon.ico differ
[1mdiff --git a/projects/mysadna/src/index.html b/projects/mysadna/src/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..b611334[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/index.html[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<!doctype html>[m
[32m+[m[32m<html lang="en">[m
[32m+[m[32m<head>[m
[32m+[m[32m  <meta charset="utf-8">[m
[32m+[m[32m  <title>Mysadna</title>[m
[32m+[m[32m  <base href="/">[m
[32m+[m[32m  <meta name="viewport" content="width=device-width, initial-scale=1">[m
[32m+[m[32m  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">[m
[32m+[m[32m  <link rel="icon" type="image/x-icon" href="favicon.ico">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m  <app-root></app-root>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/projects/mysadna/src/karma.conf.js b/projects/mysadna/src/karma.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..ffd7c16[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/karma.conf.js[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m// Karma configuration file, see link for more information[m
[32m+[m[32m// https://karma-runner.github.io/1.0/config/configuration-file.html[m
[32m+[m
[32m+[m[32mmodule.exports = function (config) {[m
[32m+[m[32m  config.set({[m
[32m+[m[32m    basePath: '',[m
[32m+[m[32m    frameworks: ['jasmine', '@angular-devkit/build-angular'],[m
[32m+[m[32m    plugins: [[m
[32m+[m[32m      require('karma-jasmine'),[m
[32m+[m[32m      require('karma-chrome-launcher'),[m
[32m+[m[32m      require('karma-jasmine-html-reporter'),[m
[32m+[m[32m      require('karma-coverage-istanbul-reporter'),[m
[32m+[m[32m      require('@angular-devkit/build-angular/plugins/karma')[m
[32m+[m[32m    ],[m
[32m+[m[32m    client: {[m
[32m+[m[32m      clearContext: false // leave Jasmine Spec Runner output visible in browser[m
[32m+[m[32m    },[m
[32m+[m[32m    coverageIstanbulReporter: {[m
[32m+[m[32m      dir: require('path').join(__dirname, '../coverage'),[m
[32m+[m[32m      reports: ['html', 'lcovonly', 'text-summary'],[m
[32m+[m[32m      fixWebpackSourcePaths: true[m
[32m+[m[32m    },[m
[32m+[m[32m    reporters: ['progress', 'kjhtml'],[m
[32m+[m[32m    port: 9876,[m
[32m+[m[32m    colors: true,[m
[32m+[m[32m    logLevel: config.LOG_INFO,[m
[32m+[m[32m    autoWatch: true,[m
[32m+[m[32m    browsers: ['Chrome'],[m
[32m+[m[32m    singleRun: false[m
[32m+[m[32m  });[m
[32m+[m[32m};[m
[1mdiff --git a/projects/mysadna/src/main.ts b/projects/mysadna/src/main.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..c7b673c[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/main.ts[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mimport { enableProdMode } from '@angular/core';[m
[32m+[m[32mimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';[m
[32m+[m
[32m+[m[32mimport { AppModule } from './app/app.module';[m
[32m+[m[32mimport { environment } from './environments/environment';[m
[32m+[m
[32m+[m[32mif (environment.production) {[m
[32m+[m[32m  enableProdMode();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mplatformBrowserDynamic().bootstrapModule(AppModule)[m
[32m+[m[32m  .catch(err => console.error(err));[m
[1mdiff --git a/projects/mysadna/src/polyfills.ts b/projects/mysadna/src/polyfills.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..5d080ab[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/polyfills.ts[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mimport 'zone.js/dist/zone'; // Included with Angular CLI.[m
[1mdiff --git a/projects/mysadna/src/styles/angular.scss b/projects/mysadna/src/styles/angular.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..0e3b614[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/styles/angular.scss[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32m@import './media';[m
[32m+[m
[32m+[m[32mbody {[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m  overflow-x: hidden;[m
[32m+[m[32m  font-family: 'OpenSans', sans-serif;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/styles/media.scss b/projects/mysadna/src/styles/media.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..a51d8a0[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/styles/media.scss[m
[36m@@ -0,0 +1,69 @@[m
[32m+[m[32m$sm: 750px;[m
[32m+[m[32m$md: 970px;[m
[32m+[m[32m$lg: 1170px;[m
[32m+[m
[32m+[m[32m.media {[m
[32m+[m[32m  padding: 0 15px;[m
[32m+[m[32m  box-sizing: border-box;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// Small screens[m
[32m+[m[32m@media only screen and (max-width: $sm) {[m
[32m+[m[32m  // Parent media container[m
[32m+[m[32m  .media {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m  }[m
[32m+[m[32m  // 100% width on small screen[m
[32m+[m[32m  .media-100 {[m
[32m+[m[32m    width: 100% !important;[m
[32m+[m[32m  }[m
[32m+[m[32m  // Column for small screens, row for large[m
[32m+[m[32m  .media-row-col {[m
[32m+[m[32m    flex-direction: column;[m
[32m+[m[32m    align-items: center;[m
[32m+[m[32m  }[m
[32m+[m[32m  // Hidden on small screens[m
[32m+[m[32m  .media-large-block {[m
[32m+[m[32m    display: none !important;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m[32m@media only screen and (min-width: $sm + 1) and (max-width: $md) {[m
[32m+[m[32m  .media {[m
[32m+[m[32m    width: $sm;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-100 {[m
[32m+[m[32m    width: 100% !important;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-row-col {[m
[32m+[m[32m    flex-direction: column;[m
[32m+[m[32m    align-items: center;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-large-block {[m
[32m+[m[32m    display: none !important;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// Large screens[m
[32m+[m[32m@media only screen and (min-width: $md + 1) and (max-width: $lg) {[m
[32m+[m[32m  .media {[m
[32m+[m[32m    width: $md;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-row-col {[m
[32m+[m[32m    flex-direction: row;[m
[32m+[m[32m  }[m
[32m+[m[32m  // Hidden on large screens[m
[32m+[m[32m  .media-small-block {[m
[32m+[m[32m    display: none !important;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m[32m@media only screen and (min-width: $lg + 1) {[m
[32m+[m[32m  .media {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-row-col {[m
[32m+[m[32m    flex-direction: row;[m
[32m+[m[32m  }[m
[32m+[m[32m  .media-small-block {[m
[32m+[m[32m    display: none !important;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/test.ts b/projects/mysadna/src/test.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..42e98be[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/test.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32m// This file is required by karma.conf.js and loads recursively all the .spec and framework files[m
[32m+[m
[32m+[m[32mimport { getTestBed } from '@angular/core/testing';[m
[32m+[m[32mimport {[m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting[m
[32m+[m[32m} from '@angular/platform-browser-dynamic/testing';[m
[32m+[m[32mimport 'zone.js/dist/zone-testing';[m
[32m+[m
[32m+[m[32mdeclare const require: any;[m
[32m+[m
[32m+[m[32m// First, initialize the Angular testing environment.[m
[32m+[m[32mgetTestBed().initTestEnvironment([m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting()[m
[32m+[m[32m);[m
[32m+[m[32m// Then we find all the tests.[m
[32m+[m[32mconst context = require.context('./', true, /\.spec\.ts$/);[m
[32m+[m[32m// And load the modules.[m
[32m+[m[32mcontext.keys().map(context);[m
[1mdiff --git a/projects/mysadna/src/tsconfig.app.json b/projects/mysadna/src/tsconfig.app.json[m
[1mnew file mode 100644[m
[1mindex 0000000..190fd30[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/tsconfig.app.json[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "types": [][m
[32m+[m[32m  },[m
[32m+[m[32m  "exclude": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "**/*.spec.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/src/tsconfig.spec.json b/projects/mysadna/src/tsconfig.spec.json[m
[1mnew file mode 100644[m
[1mindex 0000000..de77336[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/src/tsconfig.spec.json[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/spec",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  },[m
[32m+[m[32m  "files": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "polyfills.ts"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "include": [[m
[32m+[m[32m    "**/*.spec.ts",[m
[32m+[m[32m    "**/*.d.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/tsconfig.json b/projects/mysadna/tsconfig.json[m
[1mnew file mode 100644[m
[1mindex 0000000..b7e9e56[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/tsconfig.json[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "compileOnSave": false,[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "baseUrl": "src",[m
[32m+[m[32m    "paths": {[m
[32m+[m[32m      "@/*": ["app/*"],[m
[32m+[m[32m      "src/*": ["./*"][m
[32m+[m[32m    },[m
[32m+[m[32m    "outDir": "./dist/out-tsc",[m
[32m+[m[32m    "sourceMap": true,[m
[32m+[m[32m    "declaration": false,[m
[32m+[m[32m    "module": "es2015",[m
[32m+[m[32m    "moduleResolution": "node",[m
[32m+[m[32m    "emitDecoratorMetadata": true,[m
[32m+[m[32m    "experimentalDecorators": true,[m
[32m+[m[32m    "importHelpers": true,[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "typeRoots": [[m
[32m+[m[32m      "node_modules/@types"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "lib": [[m
[32m+[m[32m      "es2018",[m
[32m+[m[32m      "dom"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/mysadna/tslint.json b/projects/mysadna/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..fde6230[m
[1m--- /dev/null[m
[1m+++ b/projects/mysadna/tslint.json[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "rules": {[m
[32m+[m[32m    "eofline": true,[m
[32m+[m[32m    "curly": true,[m
[32m+[m[32m    "no-unused-variable": true,[m
[32m+[m[32m    "max-line-length": [true, 100],[m
[32m+[m[32m    "quotemark": [true, "single", "avoid-escape", "avoid-template"],[m
[32m+[m[32m    "comment-format": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-space"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "semicolon": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "always",[m
[32m+[m[32m      "ignore-bound-class-methods"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "indent": [[m
[32m+[m[32m      "true",[m
[32m+[m[32m      "spaces",[m
[32m+[m[32m      2[m
[32m+[m[32m    ],[m
[32m+[m[32m    "one-line": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-else"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "trailing-comma": [true, {"multiline": "never", "singleline": "never"}],[m
[32m+[m[32m    "import-spacing": true,[m
[32m+[m[32m    "no-use-before-declare": false,[m
[32m+[m[32m    "no-invalid-this": [true],[m
[32m+[m[32m    "no-empty": false,[m
[32m+[m[32m    "ban-types": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      [[m
[32m+[m[32m        ["Object", "Use {} instead"],[m
[32m+[m[32m        ["String", "Use primitive 'string' type instead"],[m
[32m+[m[32m        ["Number", "Use primitive 'number' type instead"],[m
[32m+[m[32m        ["Boolean", "Use primitive 'boolean' type instead"][m
[32m+[m[32m      ][m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-empty-interface": true,[m
[32m+[m[32m    "deprecation": true,[m
[32m+[m[32m    "no-var-keyword": true,[m
[32m+[m[32m    "one-line": [true, "check-open-brace", "check-whitespace"],[m
[32m+[m[32m    "class-name": true[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan/.gitignore b/projects/noloan/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..4495312[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/.gitignore[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m**/gradle-build[m
[32m+[m[32m.idea[m
[32m+[m[32m.gradle[m
[32m+[m[32mlocal.properties[m
[32m+[m[32m**/*.iml[m
[32m+[m[32mbazel-*[m
[1mdiff --git a/projects/noloan/app/AboutActivity.java b/projects/noloan/app/AboutActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..e501cc8[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/AboutActivity.java[m
[36m@@ -0,0 +1,51 @@[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.support.v7.app.ActionBar;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.support.v7.widget.Toolbar;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m[32mimport android.view.MenuItem;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m
[32m+[m[32mpublic class AboutActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m  private static final String TAG = "AboutActivity";[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m    super.onCreate(savedInstanceState);[m
[32m+[m[32m    Log.d(TAG, "onCreate");[m
[32m+[m
[32m+[m[32m    setContentView(R.layout.about_activity);[m
[32m+[m
[32m+[m[32m    Toolbar toolbar = findViewById(R.id.toolbar);[m
[32m+[m[32m    TextView toolbarTitle = findViewById(R.id.toolbar_title);[m
[32m+[m
[32m+[m[32m    setSupportActionBar(toolbar);[m
[32m+[m[32m    toolbarTitle.setText(toolbar.getTitle());[m
[32m+[m
[32m+[m[32m    ActionBar actionBar = getSupportActionBar();[m
[32m+[m[32m    actionBar.setDisplayShowTitleEnabled(false);[m
[32m+[m[32m    actionBar.setDisplayHomeAsUpEnabled(true);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void startActivity(Context context) {[m
[32m+[m[32m    Intent intent = new Intent(context, AboutActivity.class);[m
[32m+[m[32m    context.startActivity(intent);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean onOptionsItemSelected(MenuItem item) {[m
[32m+[m[32m    switch (item.getItemId()) {[m
[32m+[m[32m        // Respond to the action bar's Up/Home button[m
[32m+[m[32m      case android.R.id.home:[m
[32m+[m[32m        onBackPressed();[m
[32m+[m[32m        return true;[m
[32m+[m[32m    }[m
[32m+[m[32m    return super.onOptionsItemSelected(item);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/AndroidManifest.xml b/projects/noloan/app/AndroidManifest.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..5d361ae[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/AndroidManifest.xml[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<manifest xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    package="projects.noloan.app">[m
[32m+[m
[32m+[m[32m    <uses-sdk[m
[32m+[m[32m        android:minSdkVersion="14"[m
[32m+[m[32m        android:targetSdkVersion="21" />[m
[32m+[m
[32m+[m[32m    <uses-permission android:name="android.permission.INTERNET"/>[m
[32m+[m[32m    <uses-permission android:name="android.permission.READ_SMS" />[m
[32m+[m
[32m+[m
[32m+[m[32m    <application[m
[32m+[m[32m        android:name=".MainApp"[m
[32m+[m[32m        android:allowBackup="true"[m
[32m+[m[32m        android:icon="@mipmap/ic_launcher"[m
[32m+[m[32m        android:label="@string/app_name"[m
[32m+[m[32m        android:supportsRtl="true"[m
[32m+[m[32m        android:theme="@style/AppTheme">[m
[32m+[m[32m        <activity[m
[32m+[m[32m            android:name=".MainActivity"[m
[32m+[m[32m            android:label="@string/app_name"[m
[32m+[m[32m            android:theme="@style/AppTheme.NoActionBar"[m
[32m+[m[32m            android:screenOrientation="portrait">[m
[32m+[m[32m            <intent-filter>[m
[32m+[m[32m                <action android:name="android.intent.action.MAIN" />[m
[32m+[m
[32m+[m[32m                <category android:name="android.intent.category.LAUNCHER" />[m
[32m+[m[32m            </intent-filter>[m
[32m+[m[32m        </activity>[m
[32m+[m[32m        <activity[m
[32m+[m[32m            android:name=".AboutActivity"[m
[32m+[m[32m            android:parentActivityName=".MainActivity"[m
[32m+[m[32m            android:label="@string/title_about"[m
[32m+[m[32m            android:theme="@style/AppTheme.NoActionBar"[m
[32m+[m[32m            android:screenOrientation="portrait"/>[m
[32m+[m
[32m+[m[32m        <provider[m
[32m+[m[32m            android:name="com.google.firebase.provider.FirebaseInitProvider"[m
[32m+[m[32m            android:authorities="${applicationId}.firebaseinitprovider"[m
[32m+[m[32m            tools:node="remove"/>[m
[32m+[m
[32m+[m[32m    </application>[m
[32m+[m
[32m+[m[32m</manifest>[m
[1mdiff --git a/projects/noloan/app/BUILD b/projects/noloan/app/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..42d7721[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/BUILD[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32mandroid_binary([m
[32m+[m[32m    name = "app",[m
[32m+[m[32m    srcs = glob(["*.java"]),[m
[32m+[m[32m    assets = ["assets/google-services.json"],[m
[32m+[m[32m    assets_dir = "assets",[m
[32m+[m[32m    custom_package = "projects.noloan.app",[m
[32m+[m[32m    javacopts = ["-verbose"],[m
[32m+[m[32m    manifest = "AndroidManifest.xml",[m
[32m+[m[32m    multidex = "legacy",[m
[32m+[m[32m    resource_files = glob(["res/**"]),[m
[32m+[m[32m    visibility = ["//visibility:public"],[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        "//projects/noloan/app/proto:data_protos_java",[m
[32m+[m[32m        "//third_party/maven/com/google/guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "@android_arch_core_common_1_0_0//jar",[m
[32m+[m[32m        "@android_arch_lifecycle_common_1_0_3//jar",[m
[32m+[m[32m        "@android_arch_lifecycle_runtime_1_0_3//aar",[m
[32m+[m[32m        "@com_android_support_animated_vector_drawable_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_appcompat_v7_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_cardview_v7_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_constraint_constraint_layout_1_0_2//aar",[m
[32m+[m[32m        "@com_android_support_constraint_constraint_layout_solver_1_0_2//jar",[m
[32m+[m[32m        "@com_android_support_design_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_multidex_1_0_1//aar",[m
[32m+[m[32m        "@com_android_support_recyclerview_v7_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_annotations_27_0_2//jar",[m
[32m+[m[32m        "@com_android_support_support_compat_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_core_ui_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_core_utils_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_fragment_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_media_compat_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_v4_27_0_2//aar",[m
[32m+[m[32m        "@com_android_support_support_vector_drawable_27_0_2//aar",[m
[32m+[m[32m        "@startup_os//examples/android:firestore",[m
[32m+[m[32m        "@startup_os//examples/android:firestore_config_manager_impl",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/noloan/app/MainActivity.java b/projects/noloan/app/MainActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..e2ae6dc[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/MainActivity.java[m
[36m@@ -0,0 +1,133 @@[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.support.design.widget.AppBarLayout;[m
[32m+[m[32mimport android.support.design.widget.NavigationView;[m
[32m+[m[32mimport android.support.v4.view.GravityCompat;[m
[32m+[m[32mimport android.support.v4.widget.DrawerLayout;[m
[32m+[m[32mimport android.support.v7.app.ActionBar;[m
[32m+[m[32mimport android.support.v7.app.ActionBarDrawerToggle;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.support.v7.widget.CardView;[m
[32m+[m[32mimport android.support.v7.widget.LinearLayoutManager;[m
[32m+[m[32mimport android.support.v7.widget.RecyclerView;[m
[32m+[m[32mimport android.support.v7.widget.Toolbar;[m
[32m+[m[32mimport android.text.Html;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m[32mimport android.view.MenuItem;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.widget.LinearLayout;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.database.Cursor;[m
[32m+[m[32mimport android.net.Uri;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mpublic class MainActivity extends AppCompatActivity[m
[32m+[m[32m    implements NavigationView.OnNavigationItemSelectedListener, MessagesAdapter.OnDataFetched {[m
[32m+[m
[32m+[m[32m  private static final String TAG = "MainActivity";[m
[32m+[m
[32m+[m[32m  private DrawerLayout drawerLayout;[m
[32m+[m[32m  private RecyclerView recyclerView;[m
[32m+[m[32m  private MessagesAdapter adapter;[m
[32m+[m[32m  private RecyclerView.LayoutManager layoutManager;[m
[32m+[m[32m  TextView summaryTextView;[m
[32m+[m[32m  CardView summaryCard;[m
[32m+[m[32m  LinearLayout lawsuitLayout;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m    super.onCreate(savedInstanceState);[m
[32m+[m[32m    Log.d(TAG, "onCreate");[m
[32m+[m
[32m+[m[32m    setContentView(R.layout.main_activity);[m
[32m+[m[32m    AppBarLayout toolbarContent = findViewById(R.id.toolbar_content);[m
[32m+[m[32m    Toolbar toolbar = toolbarContent.findViewById(R.id.toolbar);[m
[32m+[m[32m    setSupportActionBar(toolbar);[m
[32m+[m[32m    TextView toolbarTitle = toolbarContent.findViewById(R.id.toolbar_title);[m
[32m+[m[32m    toolbarTitle.setText(toolbar.getTitle());[m
[32m+[m[32m    ActionBar actionBar = getSupportActionBar();[m
[32m+[m[32m    actionBar.setDisplayShowTitleEnabled(false);[m
[32m+[m
[32m+[m[32m    drawerLayout = findViewById(R.id.drawer_layout);[m
[32m+[m[32m    ActionBarDrawerToggle toggle =[m
[32m+[m[32m        new ActionBarDrawerToggle([m
[32m+[m[32m            this,[m
[32m+[m[32m            drawerLayout,[m
[32m+[m[32m            toolbar,[m
[32m+[m[32m            R.string.navigation_drawer_open,[m
[32m+[m[32m            R.string.navigation_drawer_close);[m
[32m+[m[32m    drawerLayout.addDrawerListener(toggle);[m
[32m+[m[32m    toggle.syncState();[m
[32m+[m
[32m+[m[32m    NavigationView navigationView = findViewById(R.id.nav_view);[m
[32m+[m[32m    navigationView.setNavigationItemSelectedListener(this);[m
[32m+[m
[32m+[m[32m    recyclerView = findViewById(R.id.recycler_view);[m
[32m+[m
[32m+[m[32m    // use a linear layout manager[m
[32m+[m[32m    layoutManager = new LinearLayoutManager(this);[m
[32m+[m[32m    recyclerView.setLayoutManager(layoutManager);[m
[32m+[m
[32m+[m[32m    // specify an adapter (see also next example)[m
[32m+[m[32m    adapter = new MessagesAdapter(this);[m
[32m+[m[32m    recyclerView.setAdapter(adapter);[m
[32m+[m
[32m+[m[32m    // Set summary card:[m
[32m+[m[32m    summaryCard = findViewById(R.id.summary_layout);[m
[32m+[m[32m    summaryTextView = summaryCard.findViewById(R.id.status_summary);[m
[32m+[m[32m    lawsuitLayout = summaryCard.findViewById(R.id.lawsuit);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onBackPressed() {[m
[32m+[m[32m    DrawerLayout drawer = findViewById(R.id.drawer_layout);[m
[32m+[m[32m    if (drawer.isDrawerOpen(GravityCompat.START)) {[m
[32m+[m[32m      drawer.closeDrawer(GravityCompat.START);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      super.onBackPressed();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @SuppressWarnings("StatementWithEmptyBody")[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean onNavigationItemSelected(MenuItem item) {[m
[32m+[m[32m    // Handle navigation view item clicks here.[m
[32m+[m[32m    int id = item.getItemId();[m
[32m+[m
[32m+[m[32m    if (id == R.id.nav_about) {[m
[32m+[m[32m      openAbout();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    DrawerLayout drawer = findViewById(R.id.drawer_layout);[m
[32m+[m[32m    drawer.closeDrawer(GravityCompat.START);[m
[32m+[m[32m    return true;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void openAbout() {[m
[32m+[m[32m    Log.d(TAG, "openAbout");[m
[32m+[m[32m    AboutActivity.startActivity(this);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onFetched() {[m
[32m+[m[32m    int messageCount = adapter.getItemCount();[m
[32m+[m[32m    if (messageCount == 0) {[m
[32m+[m[32m      summaryTextView.setText(getResources().getString(R.string.content_summary_empty));[m
[32m+[m[32m      lawsuitLayout.setVisibility(View.GONE);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      summaryTextView.setText([m
[32m+[m[32m          Html.fromHtml([m
[32m+[m[32m              getResources().getString(R.string.content_summary, String.valueOf(messageCount))));[m
[32m+[m[32m      lawsuitLayout.setVisibility(View.VISIBLE);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected void onDestroy() {[m
[32m+[m[32m    adapter.deAttachContext();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/MainApp.java b/projects/noloan/app/MainApp.java[m
[1mnew file mode 100644[m
[1mindex 0000000..ae1a0f8[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/MainApp.java[m
[36m@@ -0,0 +1,23 @@[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32mimport android.app.Application;[m
[32m+[m
[32m+[m[32mimport org.json.JSONException;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m
[32m+[m[32mimport com.google.startupos.examples.android.FirestoreInitializer;[m
[32m+[m
[32m+[m[32mpublic class MainApp extends Application {[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onCreate() {[m
[32m+[m[32m    super.onCreate();[m
[32m+[m
[32m+[m[32m    try {[m
[32m+[m[32m      FirestoreInitializer.init(getApplicationContext(), "google-services.json");[m
[32m+[m[32m    } catch (IOException | JSONException e) {[m
[32m+[m[32m      e.printStackTrace();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/MessagesAdapter.java b/projects/noloan/app/MessagesAdapter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..532bd1b[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/MessagesAdapter.java[m
[36m@@ -0,0 +1,168 @@[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.support.v7.widget.RecyclerView;[m
[32m+[m[32mimport android.text.Html;[m
[32m+[m[32mimport android.text.Spanned;[m
[32m+[m[32mimport android.text.method.LinkMovementMethod;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m[32mimport android.view.LayoutInflater;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.view.ViewGroup;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport projects.noloan.app.Protos.SmsMessage;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport android.database.Cursor;[m
[32m+[m[32mimport android.net.Uri;[m
[32m+[m
[32m+[m[32m/* Adapter for SMS messages */[m
[32m+[m[32mpublic class MessagesAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> {[m
[32m+[m[32m  private static final String TAG = "MessagesAdapter";[m
[32m+[m
[32m+[m[32m  private List<SmsMessage> messages = new ArrayList<>();[m
[32m+[m[32m  private Context context;[m
[32m+[m
[32m+[m[32m  public interface OnDataFetched {[m
[32m+[m[32m    void onFetched();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public class SummaryViewHolder extends RecyclerView.ViewHolder {[m
[32m+[m[32m    TextView textView;[m
[32m+[m
[32m+[m[32m    SummaryViewHolder(View itemView) {[m
[32m+[m[32m      super(itemView);[m
[32m+[m[32m      textView = itemView.findViewById(R.id.status_summary);[m
[32m+[m
[32m+[m[32m      TextView lawsuitTextView = itemView.findViewById(R.id.status_lawsuit);[m
[32m+[m[32m      Spanned spanned =[m
[32m+[m[32m          Html.fromHtml([m
[32m+[m[32m              context.getResources().getString(R.string.text_lawsuit), Html.FROM_HTML_MODE_COMPACT);[m
[32m+[m[32m      lawsuitTextView.setMovementMethod(LinkMovementMethod.getInstance());[m
[32m+[m[32m      lawsuitTextView.setText(spanned);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public class ItemViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {[m
[32m+[m
[32m+[m[32m    TextView fromText;[m
[32m+[m[32m    TextView receivedAtText;[m
[32m+[m[32m    TextView contentText;[m
[32m+[m
[32m+[m[32m    ItemViewHolder(View itemView) {[m
[32m+[m[32m      super(itemView);[m
[32m+[m[32m      fromText = itemView.findViewById(R.id.received_from);[m
[32m+[m[32m      receivedAtText = itemView.findViewById(R.id.received_at);[m
[32m+[m[32m      contentText = itemView.findViewById(R.id.content);[m
[32m+[m[32m      itemView.setOnClickListener(this);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public void onClick(View view) {[m
[32m+[m[32m      Log.d(TAG, "Item #" + getAdapterPosition() + " pressed.");[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public MessagesAdapter(Context context) {[m
[32m+[m[32m    this.context = context;[m
[32m+[m[32m    this.messages = new ArrayList<>(readMessages());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Create new views (invoked by the layout manager)[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {[m
[32m+[m[32m    switch (viewType) {[m
[32m+[m[32m      case 0:[m
[32m+[m[32m        View summaryView =[m
[32m+[m[32m            LayoutInflater.from(viewGroup.getContext())[m
[32m+[m[32m                .inflate(R.layout.messages_summary_item, viewGroup, false);[m
[32m+[m[32m        return new SummaryViewHolder(summaryView);[m
[32m+[m[32m      case 1:[m
[32m+[m[32m      default:[m
[32m+[m[32m        View view =[m
[32m+[m[32m            LayoutInflater.from(viewGroup.getContext())[m
[32m+[m[32m                .inflate(R.layout.messages_list_item, viewGroup, false);[m
[32m+[m[32m        return new ItemViewHolder(view);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Replace the contents of a view (invoked by the layout manager)[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {[m
[32m+[m
[32m+[m[32m    switch (holder.getItemViewType()) {[m
[32m+[m[32m      case 0: // summary[m
[32m+[m[32m        int messagesCount = messages.size();[m
[32m+[m[32m        SummaryViewHolder viewHolder = (SummaryViewHolder) holder;[m
[32m+[m[32m        viewHolder.textView.setText([m
[32m+[m[32m            Html.fromHtml([m
[32m+[m[32m                context[m
[32m+[m[32m                    .getResources()[m
[32m+[m[32m                    .getString(R.string.content_summary, String.valueOf(messagesCount))));[m
[32m+[m[32m        break;[m
[32m+[m[32m      case 1:[m
[32m+[m[32m        SmsMessage message = messages.get(position);[m
[32m+[m[32m        ItemViewHolder itemViewHolder = (ItemViewHolder) holder;[m
[32m+[m[32m        itemViewHolder.fromText.setText([m
[32m+[m[32m            context.getResources().getString(R.string.list_item_title, message.getSender()));[m
[32m+[m[32m        itemViewHolder.receivedAtText.setText([m
[32m+[m[32m            context[m
[32m+[m[32m                .getResources()[m
[32m+[m[32m                .getString([m
[32m+[m[32m                    R.string.list_item_date, Util.formatTime(message.getReceivedDateTime())));[m
[32m+[m[32m        itemViewHolder.contentText.setText(message.getContents());[m
[32m+[m[32m        break;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public int getItemCount() {[m
[32m+[m[32m    return messages.size();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public int getItemViewType(int position) {[m
[32m+[m[32m    return 1;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void deAttachContext() {[m
[32m+[m[32m    context = null;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private List<SmsMessage> readMessages() {[m
[32m+[m[32m    Log.d(TAG, "readMessages");[m
[32m+[m[32m    List<SmsMessage> messages = new ArrayList<>();[m
[32m+[m
[32m+[m[32m    Uri mSmsQueryUri = Uri.parse("content://sms/inbox");[m
[32m+[m[32m    Cursor cursor = null;[m
[32m+[m[32m    try {[m
[32m+[m[32m      cursor = context.getContentResolver().query(mSmsQueryUri, null, null, null, null);[m
[32m+[m[32m      if (cursor == null) {[m
[32m+[m[32m        Log.i(TAG, "cursor is null. uri: " + mSmsQueryUri);[m
[32m+[m[32m      }[m
[32m+[m[32m      for (boolean hasData = cursor.moveToFirst(); hasData; hasData = cursor.moveToNext()) {[m
[32m+[m
[32m+[m[32m        SmsMessage message = SmsMessage.getDefaultInstance();[m
[32m+[m[32m        SmsMessage.Builder messageBuilder = message.toBuilder();[m
[32m+[m
[32m+[m[32m        final String body = cursor.getString(cursor.getColumnIndexOrThrow("body"));[m
[32m+[m[32m        final String receivedTime = cursor.getString(cursor.getColumnIndexOrThrow("date_sent"));[m
[32m+[m[32m        final String senderPhone = cursor.getString(cursor.getColumnIndexOrThrow("address"));[m
[32m+[m[32m        messageBuilder.setContents(body);[m
[32m+[m[32m        messageBuilder.setSender(senderPhone);[m
[32m+[m[32m        messageBuilder.setReceivedDateTime(Long.valueOf(receivedTime));[m
[32m+[m
[32m+[m[32m        message = messageBuilder.build();[m
[32m+[m[32m        messages.add(message);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      Log.e(TAG, e.getMessage());[m
[32m+[m[32m    } finally {[m
[32m+[m[32m      cursor.close();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    return messages;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/README.md b/projects/noloan/app/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..237411f[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/README.md[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mgoogle-services.json should be put under assets/[m
[1mdiff --git a/projects/noloan/app/Util.java b/projects/noloan/app/Util.java[m
[1mnew file mode 100644[m
[1mindex 0000000..9c3c057[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/Util.java[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32mimport java.text.SimpleDateFormat;[m
[32m+[m[32mimport java.util.Date;[m
[32m+[m[32mimport java.util.Locale;[m
[32m+[m[32mimport java.util.TimeZone;[m
[32m+[m
[32m+[m[32mpublic class Util {[m
[32m+[m
[32m+[m[32m  public static String formatTime(long time) {[m
[32m+[m[32m    Date date = new Date(time);[m
[32m+[m[32m    Locale locale = new Locale("he", "IL");[m
[32m+[m[32m    SimpleDateFormat formatter = new SimpleDateFormat("d לLLLL yyyy", locale);[m
[32m+[m[32m    formatter.setTimeZone(TimeZone.getTimeZone("Asia/Jerusalem"));[m
[32m+[m[32m    return formatter.format(date);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/assets/google-services.json b/projects/noloan/app/assets/google-services.json[m
[1mnew file mode 100644[m
[1mindex 0000000..44564aa[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/assets/google-services.json[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "project_info": {[m
[32m+[m[32m    "project_number": "800619638070",[m
[32m+[m[32m    "firebase_url": "https://noloan-7276b.firebaseio.com",[m
[32m+[m[32m    "project_id": "noloan-7276b",[m
[32m+[m[32m    "storage_bucket": "noloan-7276b.appspot.com"[m
[32m+[m[32m  },[m
[32m+[m[32m  "client": [[m
[32m+[m[32m    {[m
[32m+[m[32m      "client_info": {[m
[32m+[m[32m        "mobilesdk_app_id": "1:800619638070:android:e0c6c132ea8a9daf",[m
[32m+[m[32m        "android_client_info": {[m
[32m+[m[32m          "package_name": "projects.noloan.app"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "oauth_client": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "client_id": "800619638070-cjsncnp9nr8095s3itd5b9m1vij1tomb.apps.googleusercontent.com",[m
[32m+[m[32m          "client_type": 3[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "api_key": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "current_key": "AIzaSyDcMziMS1XhQVAW0nrK59IXBzKV_0h7sc4"[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "services": {[m
[32m+[m[32m        "analytics_service": {[m
[32m+[m[32m          "status": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "appinvite_service": {[m
[32m+[m[32m          "status": 1,[m
[32m+[m[32m          "other_platform_oauth_client": [][m
[32m+[m[32m        },[m
[32m+[m[32m        "ads_service": {[m
[32m+[m[32m          "status": 2[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  ],[m
[32m+[m[32m  "configuration_version": "1"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan/app/filter/BUILD b/projects/noloan/app/filter/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..726f267[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/filter/BUILD[m
[36m@@ -0,0 +1,63 @@[m
[32m+[m[32mpackage(default_visibility = ["//projects/noloan/app:__subpackages__"])[m
[32m+[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "bayes_spam_filter",[m
[32m+[m[32m    srcs = glob(["bayes/*.java"]),[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        "//projects/noloan/app/proto:bayes_protos_java",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "bayes_spam_filter-checkstyle",[m
[32m+[m[32m    target = ":bayes_spam_filter",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "spam_filter",[m
[32m+[m[32m    srcs = ["SpamFilter.java"],[m
[32m+[m[32m    resources = ["spam.prototxt"],[m
[32m+[m[32m    deps =[m
[32m+[m[32m        [[m
[32m+[m[32m            ":bayes_spam_filter",[m
[32m+[m[32m            "//projects/noloan/app/proto:bayes_protos_java",[m
[32m+[m[32m            "//projects/noloan/app/proto:data_protos_java",[m
[32m+[m[32m            "//third_party/maven/com/google/guava",[m
[32m+[m[32m            "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "spam_filter-checkstyle",[m
[32m+[m[32m    target = ":spam_filter",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "spam_filter_tool",[m
[32m+[m[32m    srcs = ["SpamFilterTool.java"],[m
[32m+[m[32m    main_class = "projects.noloan.app.filter.SpamFilterTool",[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        ":spam_filter",[m
[32m+[m[32m        "//projects/noloan/app/proto:data_protos_java",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger:flogger_system_backend",[m
[32m+[m[32m        "//third_party/maven/com/google/guava",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "//third_party/maven/org/apache/commons:commons_csv",[m
[32m+[m[32m        "//third_party/maven/org/slf4j:slf4j_simple",[m
[32m+[m[32m        "@startup_os//common",[m
[32m+[m[32m        "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m        "@startup_os//common/flags",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "spam_filter_tool-checkstyle",[m
[32m+[m[32m    target = ":spam_filter_tool",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/noloan/app/filter/SpamFilter.java b/projects/noloan/app/filter/SpamFilter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..0d3d60a[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/filter/SpamFilter.java[m
[36m@@ -0,0 +1,56 @@[m
[32m+[m[32mpackage projects.noloan.app.filter;[m
[32m+[m
[32m+[m[32mimport static java.nio.charset.StandardCharsets.UTF_8;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.io.Resources;[m
[32m+[m[32mimport com.google.protobuf.TextFormat;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.stream.Collectors;[m
[32m+[m[32mimport projects.noloan.app.Protos.SmsMessage;[m
[32m+[m[32mimport projects.noloan.app.Protos.SmsMessageList;[m
[32m+[m[32mimport projects.noloan.app.filter.bayes.BayesFilter;[m
[32m+[m
[32m+[m[32m/* Filter for spam SMS messages */[m
[32m+[m[32mpublic class SpamFilter {[m
[32m+[m[32m  private static final String SPAM_PROTOTXT = "projects/noloan/app/filter/spam.prototxt";[m
[32m+[m
[32m+[m[32m  ImmutableList<SmsMessage> spam;[m
[32m+[m[32m  BayesFilter bayesFilter;[m
[32m+[m
[32m+[m[32m  public SpamFilter(List<SmsMessage> ham) {[m
[32m+[m[32m    readSpamPrototxt();[m
[32m+[m
[32m+[m[32m    bayesFilter =[m
[32m+[m[32m        new BayesFilter([m
[32m+[m[32m            spam.stream().map(SmsMessage::getContents).collect(Collectors.toList()),[m
[32m+[m[32m            ham.stream().map(SmsMessage::getContents).collect(Collectors.toList()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void readSpamPrototxt() {[m
[32m+[m[32m    try {[m
[32m+[m[32m      String text = Resources.toString(Resources.getResource(SPAM_PROTOTXT), UTF_8);[m
[32m+[m[32m      SmsMessageList.Builder builder = SmsMessageList.newBuilder();[m
[32m+[m[32m      TextFormat.merge(text, builder);[m
[32m+[m[32m      spam = ImmutableList.copyOf(builder.build().getMessageList());[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public boolean isSpam(SmsMessage message) {[m
[32m+[m[32m    return bayesFilter.isSpam(message.getContents());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Returns messages that are spam */[m
[32m+[m[32m  public ImmutableList<SmsMessage> filter(ImmutableList<SmsMessage> messages) {[m
[32m+[m[32m    ImmutableList.Builder<SmsMessage> result = ImmutableList.builder();[m
[32m+[m[32m    for (SmsMessage message : messages) {[m
[32m+[m[32m      if (isSpam(message)) {[m
[32m+[m[32m        result.add(message);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    return result.build();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/filter/SpamFilterTool.java b/projects/noloan/app/filter/SpamFilterTool.java[m
[1mnew file mode 100644[m
[1mindex 0000000..76c0227[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/filter/SpamFilterTool.java[m
[36m@@ -0,0 +1,123 @@[m
[32m+[m[32mpackage projects.noloan.app.filter;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.startupos.common.CommonModule;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flag;[m
[32m+[m[32mimport com.google.startupos.common.flags.FlagDesc;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flags;[m
[32m+[m[32mimport dagger.Component;[m
[32m+[m[32mimport java.io.FileReader;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.io.Reader;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m[32mimport org.apache.commons.csv.CSVFormat;[m
[32m+[m[32mimport org.apache.commons.csv.CSVRecord;[m
[32m+[m[32mimport projects.noloan.app.Protos.SmsMessage;[m
[32m+[m[32mimport projects.noloan.app.Protos.SmsMessageList;[m
[32m+[m
[32m+[m[32m/** A tool for running the SMS Spam filter. */[m
[32m+[m[32m@Singleton[m
[32m+[m[32mpublic class SpamFilterTool {[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  FileUtils fileUtils;[m
[32m+[m
[32m+[m[32m  public static enum CsvColumns {[m
[32m+[m[32m    SENDER,[m
[32m+[m[32m    CONTENTS,[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @FlagDesc(name = "messages_prototxt", description = "Prototxt of messages to filter")[m
[32m+[m[32m  public static final Flag<String> messagesPrototxt = Flag.create("");[m
[32m+[m
[32m+[m[32m  @FlagDesc(name = "messages_csv", description = "CSV of messages to filter")[m
[32m+[m[32m  public static final Flag<String> messagesCsv = Flag.create("");[m
[32m+[m
[32m+[m[32m  @FlagDesc(name = "output_prototxt", description = "Prototxt of messages detected as spam")[m
[32m+[m[32m  public static final Flag<String> outputPrototxt = Flag.create("");[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  SpamFilterTool(FileUtils fileUtils) {[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void checkFlags() {[m
[32m+[m[32m    if (messagesPrototxt.get().isEmpty() && messagesCsv.get().isEmpty()) {[m
[32m+[m[32m      System.out.println("Error: Please set --messages_prototxt or --messages_csv");[m
[32m+[m[32m      System.exit(1);[m
[32m+[m[32m    }[m
[32m+[m[32m    if (!messagesPrototxt.get().isEmpty() && !messagesCsv.get().isEmpty()) {[m
[32m+[m[32m      System.out.println("Error: Please set only one input file in flags");[m
[32m+[m[32m      System.exit(1);[m
[32m+[m[32m    }[m
[32m+[m[32m    if (outputPrototxt.get().isEmpty()) {[m
[32m+[m[32m      System.out.println("Error: --output_prototxt must be set");[m
[32m+[m[32m      System.exit(1);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private SmsMessageList getMessagesFromCsv() {[m
[32m+[m[32m    SmsMessageList.Builder result = SmsMessageList.newBuilder();[m
[32m+[m
[32m+[m[32m    try {[m
[32m+[m[32m      Reader fileReader = new FileReader(fileUtils.expandHomeDirectory(messagesCsv.get()));[m
[32m+[m[32m      List<CSVRecord> records =[m
[32m+[m[32m          CSVFormat.DEFAULT[m
[32m+[m[32m              .withDelimiter('\t')[m
[32m+[m[32m              .withSkipHeaderRecord()[m
[32m+[m[32m              .withHeader(CsvColumns.class)[m
[32m+[m[32m              .parse(fileReader)[m
[32m+[m[32m              .getRecords();[m
[32m+[m
[32m+[m[32m      for (CSVRecord record : records) {[m
[32m+[m[32m        String sender = record.get(CsvColumns.SENDER);[m
[32m+[m[32m        String contents = record.get(CsvColumns.CONTENTS);[m
[32m+[m[32m        SmsMessage message =[m
[32m+[m[32m            SmsMessage.newBuilder().setSender(sender).setContents(contents).build();[m
[32m+[m[32m        result.addMessage(message);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    return result.build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Returns messages to filter from prototxt or csv */[m
[32m+[m[32m  private ImmutableList<SmsMessage> getMessagesToFilter() {[m
[32m+[m[32m    SmsMessageList messagesToFilter;[m
[32m+[m[32m    if (!messagesPrototxt.get().isEmpty()) {[m
[32m+[m[32m      messagesToFilter =[m
[32m+[m[32m          (SmsMessageList)[m
[32m+[m[32m              fileUtils.readPrototxtUnchecked(messagesPrototxt.get(), SmsMessageList.newBuilder());[m
[32m+[m[32m    } else {[m
[32m+[m[32m      messagesToFilter = getMessagesFromCsv();[m
[32m+[m[32m    }[m
[32m+[m[32m    return ImmutableList.copyOf(messagesToFilter.getMessageList());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Singleton[m
[32m+[m[32m  @Component(modules = {CommonModule.class})[m
[32m+[m[32m  public interface SpamFilterToolComponent {[m
[32m+[m[32m    SpamFilterTool getSpamFilterTool();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void run() {[m
[32m+[m[32m    ImmutableList<SmsMessage> messagesToFilter = getMessagesToFilter();[m
[32m+[m[32m    SpamFilter spamFilter = new SpamFilter(messagesToFilter);[m
[32m+[m[32m    ImmutableList<SmsMessage> messagesDetectedAsSpam = spamFilter.filter(messagesToFilter);[m
[32m+[m[32m    fileUtils.writePrototxtUnchecked([m
[32m+[m[32m        SmsMessageList.newBuilder().addAllMessage(messagesDetectedAsSpam).build(),[m
[32m+[m[32m        outputPrototxt.get());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void main(String[] args) throws Exception {[m
[32m+[m[32m    Flags.parse(args, SpamFilterTool.class.getPackage());[m
[32m+[m[32m    checkFlags();[m
[32m+[m[32m    DaggerSpamFilterTool_SpamFilterToolComponent.create().getSpamFilterTool().run();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/filter/bayes/BayesFilter.java b/projects/noloan/app/filter/bayes/BayesFilter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..2189157[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/filter/bayes/BayesFilter.java[m
[36m@@ -0,0 +1,144 @@[m
[32m+[m[32mpackage projects.noloan.app.filter.bayes;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.HashMap;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport projects.noloan.app.filter.bayes.Protos.WordInfo;[m
[32m+[m[32mimport projects.noloan.app.filter.bayes.Protos.WordInfoList;[m
[32m+[m[32mimport projects.noloan.app.filter.bayes.Protos.WordType;[m
[32m+[m
[32m+[m[32mpublic class BayesFilter {[m
[32m+[m[32m  private static final float MIN_PROBABILITY_THRESHOLD = 0.01f;[m
[32m+[m[32m  private static final float MAX_SPAM_THRESHOLD = 0.99f;[m
[32m+[m[32m  private HashMap<String, WordInfo> words = new HashMap<>();[m
[32m+[m[32m  private int totalSpamCount = 0;[m
[32m+[m[32m  private int totalHamCount = 0;[m
[32m+[m
[32m+[m[32m  private double probability(List<WordInfo> message) {[m
[32m+[m[32m    double positiveProbabilitiesProduct = 1.0f;[m
[32m+[m[32m    double negativeProbabilitiesProduct = 1.0f;[m
[32m+[m[32m    for (int i = 0; i < message.size(); i++) {[m
[32m+[m[32m      WordInfo wordInfo = message.get(i);[m
[32m+[m[32m      positiveProbabilitiesProduct *= wordInfo.getSpamProbability();[m
[32m+[m[32m      negativeProbabilitiesProduct *= (1.0f - wordInfo.getSpamProbability());[m
[32m+[m[32m    }[m
[32m+[m[32m    double probabilitiesProductsSum = positiveProbabilitiesProduct + negativeProbabilitiesProduct;[m
[32m+[m[32m    return positiveProbabilitiesProduct / probabilitiesProductsSum;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public boolean isSpam(String message) {[m
[32m+[m[32m    return calculateBayesianProbability(makeWordList(message));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public BayesFilter(List<String> spam, List<String> ham) {[m
[32m+[m[32m    train(spam, ham);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public BayesFilter(WordInfoList wordInfoList) {[m
[32m+[m[32m    totalHamCount = wordInfoList.getTotalHamCount();[m
[32m+[m[32m    totalSpamCount = wordInfoList.getTotalSpamCount();[m
[32m+[m[32m    for (WordInfo wordInfo : wordInfoList.getMessageList()) {[m
[32m+[m[32m      words.put(wordInfo.getWord(), wordInfo);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void train(List<String> spam, List<String> ham) {[m
[32m+[m[32m    for (String spamWord : spam) {[m
[32m+[m[32m      trainIteration(spamWord, WordType.SPAM);[m
[32m+[m[32m    }[m
[32m+[m[32m    for (String hamWord : ham) {[m
[32m+[m[32m      trainIteration(hamWord, WordType.HAM);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (String key : words.keySet()) {[m
[32m+[m[32m      words.put(key, wordInfoWithProbability(words.get(key)));[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String normalizeWord(String word) {[m
[32m+[m[32m    // strip non-word characters[m
[32m+[m[32m    word = word.replaceAll("\\W", "").toLowerCase();[m
[32m+[m
[32m+[m[32m    if (word.length() < 1 || word.matches("^[0-9]+$")) {[m
[32m+[m[32m      return null;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    return word;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void trainIteration(String string, WordType type) {[m
[32m+[m[32m    for (String word : string.split(" ")) {[m
[32m+[m[32m      word = normalizeWord(word);[m
[32m+[m
[32m+[m[32m      if (word == null) {[m
[32m+[m[32m        return;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      WordInfo.Builder w;[m
[32m+[m[32m      if (words.containsKey(word)) {[m
[32m+[m[32m        w = words.get(word).toBuilder();[m
[32m+[m[32m      } else {[m
[32m+[m[32m        w = WordInfo.newBuilder();[m
[32m+[m[32m      }[m
[32m+[m[32m      if (type == WordType.HAM) {[m
[32m+[m[32m        w.setHamCount(w.getHamCount() + 1);[m
[32m+[m[32m        totalHamCount++;[m
[32m+[m[32m      } else if (type == WordType.SPAM) {[m
[32m+[m[32m        w.setSpamCount(w.getSpamCount() + 1);[m
[32m+[m[32m        totalSpamCount++;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      words.put(word, w.build());[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private ArrayList<WordInfo> makeWordList(String sms) {[m
[32m+[m[32m    ArrayList<WordInfo> wordInfoList = new ArrayList<>();[m
[32m+[m[32m    // space-separate words[m
[32m+[m[32m    for (String word : sms.split(" ")) {[m
[32m+[m[32m      word = normalizeWord(word);[m
[32m+[m
[32m+[m[32m      if (word == null) {[m
[32m+[m[32m        continue;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      WordInfo w;[m
[32m+[m[32m      if (words.containsKey(word)) {[m
[32m+[m[32m        w = words.get(word);[m
[32m+[m[32m      } else {[m
[32m+[m[32m        w = WordInfo.getDefaultInstance();[m
[32m+[m[32m      }[m
[32m+[m[32m      wordInfoList.add(w);[m
[32m+[m[32m    }[m
[32m+[m[32m    return wordInfoList;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /** Given wordInfo with spam and ham counts, calculate spam/ham rate and spam probability. */[m
[32m+[m[32m  private WordInfo wordInfoWithProbability(WordInfo wordInfo) {[m
[32m+[m[32m    float spamRate;[m
[32m+[m[32m    float hamRate;[m
[32m+[m[32m    float spamProbability = 0;[m
[32m+[m
[32m+[m[32m    spamRate = wordInfo.getSpamCount() / (float) totalSpamCount;[m
[32m+[m[32m    hamRate = wordInfo.getHamCount() / (float) totalHamCount;[m
[32m+[m[32m    spamProbability = spamRate / (spamRate + hamRate);[m
[32m+[m
[32m+[m[32m    if (spamProbability < MIN_PROBABILITY_THRESHOLD) {[m
[32m+[m[32m      spamProbability = MIN_PROBABILITY_THRESHOLD;[m
[32m+[m[32m    } else if (spamProbability > MAX_SPAM_THRESHOLD) {[m
[32m+[m[32m      spamProbability = MAX_SPAM_THRESHOLD;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    return wordInfo[m
[32m+[m[32m        .toBuilder()[m
[32m+[m[32m        .setSpamRate(spamRate)[m
[32m+[m[32m        .setHamRate(hamRate)[m
[32m+[m[32m        .setSpamProbability(spamProbability)[m
[32m+[m[32m        .build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private boolean calculateBayesianProbability(ArrayList<WordInfo> sms) {[m
[32m+[m[32m    return probability(sms) > MAX_SPAM_THRESHOLD;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan/app/filter/spam.prototxt b/projects/noloan/app/filter/spam.prototxt[m
[1mnew file mode 100644[m
[1mindex 0000000..f649821[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/filter/spam.prototxt[m
[36m@@ -0,0 +1,612 @@[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "mobile"[m
[32m+[m[32m  contents: "ההלוואה הכי מהירה שיש עד 20 אלף שח אצלך ביד, החזר רק בצקים 023750707"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "mobile"[m
[32m+[m[32m  contents: "בהמשך לפנייתך להלוואה נא לחץ על הקישור למילוי הפרטים לזרז הטיפול בפנייתך"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "mobile"[m
[32m+[m[32m  contents: "http://leadata.info/forms/nv/"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Yeah-Atid"[m
[32m+[m[32m  contents: "ח\"כ מיקי לוי מגיע לחיפה לדבר איתכם על כל מה שבוער במדינה. יום א' (4/3) בשעה 19:30 בפאב \"סטלה\", רחוב הירקון 1 פינת מוריה, חיפה. להרשמה ופרטים נוספים: https://goo.gl/tzTVPc  להסרה: https://goo.gl/QjbrTs"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 55-9792611‬"[m
[32m+[m[32m  contents: "בעל עסק:  קניון העסקים הראשון בישראל עומד להיפתח ליד עזריאלי ואם הלקוחות שלך הם עסקים אחרים ואתה רוצה עוד לקוחות - בדוק עכשיו בחינם התאמתך, כל עוד נשאר מקום: goo.gl/7BnBP1    להסרה השב הסר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 52-9991818‬"[m
[32m+[m[32m  contents: "חוגגים סילבסטר במוזס! נפרדים מ 2017 ופותחים את 2018  עם מוזיקה טובה, אלכוהול, טעמים חדשים ומפתיעים.  אז שריינו מקום במסעדה 9449* מחכים לכם! להסרה השב 4111"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 3-3036370‬"[m
[32m+[m[32m  contents: "מגן שירותי חשמל ותיקונים מזמינה אתכם לחידוש האחריות נא חייגו 033036370"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 72-2562901‬"[m
[32m+[m[32m  contents: "רוצים לדעת איך לרזות בחינם ? חייגו 0722562901"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 3-6533600‬"[m
[32m+[m[32m  contents: "מרכז שירות המספנות מזמין אותך להגיע לבדיקת חורף חינם וליהנות ממגוון הטבות. בכפוף לתקנון. לפרטים: http://inwi.se/_7zr7pa3ct   להסרה http://inwi.se/_7zr7pa3cu"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+44 7463 761356‬"[m
[32m+[m[32m  contents: "YOUR MOBILE NUMBER HAS WON $2,000,000.00USD IN THE FREELOTTO MOBILE PROMO.FOR CLAIM SEND YOUR NAME & EMAIL TO: free.loto@hotmail.com"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "simple"[m
[32m+[m[32m  contents: "בהמשך לפנייתך להלוואה לחג הקרב ובא נא לחץ על הקישור למילוי הפרטים לזרוז הטיפול בפנייתך"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "simple"[m
[32m+[m[32m  contents: "https://goo.gl/forms/jyQ16jYLktA10FE03"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 72-2468848‬"[m
[32m+[m[32m  contents: "הלוואה מיידית לחגים עד 18 אלף, החזר בצקים, שליח עד הבית , 0722468848"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 72-2214274‬"[m
[32m+[m[32m  contents: "להלוואה מיידית עד 60 אלף שח בתנאי סף לכולם התקשר עכשיו 0722214274"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "055-6637390"[m
[32m+[m[32m  contents: "היי, מה שלומך? בעבר היינו בקשר בנוגע ללימודי שוק ההון. יש לנו הכשרה מקיפה בתחום המטבעות הדיגיטליים ועוד, אשמח מאוד ללהסביר לך בדיוק על מה מדובר. מתי פנוי לשיחה? אופיר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 72-2798622‬"[m
[32m+[m[32m  contents: "סימפל מימון מציעה הלוואה לחופשה ולתחילת הלימודים החזר בצקים 0722798622"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 52-8952700‬"[m
[32m+[m[32m  contents: "היי, , בהמשך למה שדיברנו, יש הלוואות עד 300,000 ש\"ח בהליך מהיר בפועלים ומסלולי קרנות חדשים. אשמח לפרט בטלפון, ליטל."[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 50-4530446‬"[m
[32m+[m[32m  contents: "הלוואה מידית לכל מטרה 20 עד 70 אלף החזר בצקים  לבית הלקוח כוכבית 3295"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭052-555555‬"[m
[32m+[m[32m  contents: "בוקר טוב ושבת שלום "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "PibaGovIL"[m
[32m+[m[32m  contents: "שר הפנים, אריה דרעי, שמח לעדכן-תחילת חוק הביומטריה. זקוקים לתעודת זהות או לדרכון ביומטריים? הזמינו תור: www.piba.gov.il. שימו לב: מי שבידיו תיעוד ישן בתוקף לא נדרש להגיע-התיעוד יכובד במוסדות הציבוריים."[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "055-8084731"[m
[32m+[m[32m  contents: "קלאסיקה ישראלית - \"הוא הלך בשדות\" אחד מסיפורי האהבה הגדולים והמרגשים ביותר  עם אגם רודברג גל אמיתי ועוד  55 ₪ לכרטיס במקום 200 ₪  יום ראשון 11.6.17 בשעה 20:30  יום שני 12.6.17 בשעה 20:30  יום שלישי 13.6.17 בשעה 20:30  באולם בית החייל  להזמנת כרטיסים 03-7255333  ולציין קוד בצע: 725  להסרה לחץ כאן http://o-r.co/u/veez7"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+82 63‬"[m
[32m+[m[32m  contents: "להלוואה מהירה עד 20,000 שח עד בית הלקוח ,החזר בצקים, חייג כוכבית 8263"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 55-9793171‬"[m
[32m+[m[32m  contents: "משהו מתוק מחב\"ד..  סמסי כעת את המילה אור ותקבלי תזכורת SMS להדלקת נרות שבת!  סמס כעת את המילה כח ותקבל תזכורת SMS להנחת תפילין!  חינם!"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+57 (4) 8‬"[m
[32m+[m[32m  contents: "חולם על רכב חדש? להצעה של 100% מימון, וחיסכון ברכישה חייג כוכבית 5748"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 1901-768-221‬"[m
[32m+[m[32m  contents: "הוא לא יכול להטריד יותר עם האפליקציה שמזהה מספר חסוי כל מטריד נתפס! ל90 ימים 1901768221 ל30 ימים 1901768321 פייסבוק  tinyurl.com/of4d5mm"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 72-3969399‬"[m
[32m+[m[32m  contents: "load_test"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 73-2805787‬"[m
[32m+[m[32m  contents: "איתותי מניות אג\"ח מט\"ח מדדים סחורות בסמס עכשיו ב: 20% הנחה השאר פרטים http://bit.ly/2mF9XWN להסרה שלח 25 למספר 0557000911"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭00 0‬"[m
[32m+[m[32m  contents: "hello"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 55-9663685‬"[m
[32m+[m[32m  contents: "זהו הסקר של המדינה!  אילו הבחירות היו נערכות היום לאיזו מפלגה הייתם מצביעים: לליכוד השב 1 למחנה הציוני/ העבודה השב 2 לבית היהודי- 3 לרשימה הערבית המשותפת- 4 יש עתיד - 5 כולנו - 6 ש\"ס -7 ישראל ביתנו - 8 מרץ- 9 יהדות התורה  השב 10  אנא העבירו לכל חבריכם -הצבעה אחת לכל מספר טלפון - הצבעה כפולה תיפסל. תודה שעניתם לסקר של המדינה! או השב \"הסר\""[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 55-9790972‬"[m
[32m+[m[32m  contents: "שבוע הקולינריה הצרפתי בקלואליס ,  השף ויקטור מארח את  \"אלקסי אלברכט\" בעל כוכב 1 במישלן. לפרטים נוספים: http://bit.ly/eamy2   להסרה השב הסר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 55-9793237‬"[m
[32m+[m[32m  contents: "למה כל כך חשוב לשמור על ניקיון הספות והשטיחים?  http://a4u.co/7/rhFtSQcf , להסרה השב הסר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Dental"[m
[32m+[m[32m  contents: "עד 40% הנחה על טיפולי שיניים ע\"י השוואה למידע/הסרה http://smc1.in/md"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "FOXRECORD"[m
[32m+[m[32m  contents: "מהיום ניתן להקליט שיחות בקלות באמצעות אפליקציה חדשה ובחינם שועל הקלטות - ניתן לשנות מספר ולשלם https://appsto.re/il/x27r-.i חפשי גם בפייסבוק"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "‭+972 53-6182165‬"[m
[32m+[m[32m  contents: "אם כואב לכם על המצב במדינה - אל תישארו בבית.  באים מחר לעצרת הענק בכיכר רבין.  מוצאי שבת, ה- 5/11/16, 19:00 בכיכר >>"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Esek123"[m
[32m+[m[32m  contents: "מרגיש שהעסק שלך לא מתקדם? יוזמה חדשה מאפשרת לך להתייעל באמצעות יעוץ עסקי ובניית תכנית עסקית מכוונת מטרה לפרטים gedm.co הסר gedm.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "053-6257047"[m
[32m+[m[32m  contents: "מזלונה מתרחבת ודרושים לנו עובדים אחרי צבא למשרה מלאה או חלקית במעדניה. בואו לעבוד באווירה חמה ומשפחתית. לפרטים לפנות לענת 03-6324433 להסרה השב הסר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "052-9999555"[m
[32m+[m[32m  contents: "חגיגת שבועות במזלונה גבינות ב 10% הנחה (בקנייה מעל 200₪ ), תפריט חגיגי ומבצעים מדהימים! הזמנות עד יום ג' בערב בטלפון 03-6324433 תפריט באתר, שיהיה חג שמח וטעים \\ להסרה 12"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "053-625-7600"[m
[32m+[m[32m  contents: "נמאס לך ממשכורות נמוכות ??? קבוצת \"יעדים פיננסים\" מתרחבת ומגייסת אנשי מכירות שרעבים להצליח השכר הכי גבוהה בשוק בסביבת עבודה צעירה ודינמית לבעלי ניסיון בלבד לפרטים השב \"עבודה\""[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1966"[m
[32m+[m[32m  contents: "נותרו לך למעלה מ-8 שנות תשלום מהמשנתא? פרצה בחוק מאפשרת להגשים חלום ולסיים את המשכנתא עוד השנה לפרטים calfd.co/11 להסרה calfd.co/s"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Bank1Now"[m
[32m+[m[32m  contents: "אזרחי ישראל הצטרפו למאבק נגד הבנקים. פרצה בחוק מאפשרת לבעלי משכנתא של מעל 8 שנים, להנות מהחזר כספי לפרטים slfb.co/11 הסר slfb.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Esek123"[m
[32m+[m[32m  contents: "מרגיש שהעסק שלך לא מתקדם? יוזמה חדשה מאפשרת לך לייעל באמצעות יעוץ עסקי ובניית תכנית עסקית מכוונת מטרה לפרטים gedm.co הסר gedm.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Hadash123"[m
[32m+[m[32m  contents: "לקוח יקר, פרצה בחוק מאפשר לקבל מימון לנכס חדש של עד 75% **לבעלי חשבון תקין בלבד לפרטים erir.co  הסר erir.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Save1TLV"[m
[32m+[m[32m  contents: "הקשיבו אזרחי ישראל! רפורמה חדשה בשוק המשכנתאות מקנה לבעלי משכנתא של מעל 5 שנים החזר כספי לחשבון העו\"ש לפרטים slfb.co/22 הסר slfb.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "algorithm"[m
[32m+[m[32m  contents: "לקוח יקר! אלגוריתם חדש יודע לחשב את המענק המגיע לך מתוך החזרי המשכנתא בתוך כמה שניות הקלק ותוכל לדעת wbce.co/24 הסר: wbce.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Bank1Now"[m
[32m+[m[32m  contents: "אזרחי ישראל הצטרפו למאבק נגד הבנקים. פרצה בחוק מאפשרת לבעלי משכנתא של מעל 8 שנים, להנות מהחזר כספי לפרטים slfb.co/11 הסר slfb.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Business"[m
[32m+[m[32m  contents: "חולם להקים עסק? קרנות בערבות המדינה מוכנות לעזור במימון של עד 200 אלף ₪ לפרטים: cnse.co/2 להסרה: cnse.co/t"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Dream"[m
[32m+[m[32m  contents: "חולם להקים עסק משלך? תכנית חדשה מטעם המדינה מאפשרת ליזמים צעירים לקבל מימון לשם הגשמת החלום לפרטים: cnse.co/4 להסרה: cnse.co/t"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Esek123"[m
[32m+[m[32m  contents: "מרגיש שהעסק שלך לא מתקדם? יוזמה חדשה מאפשרת לך להתייעל באמצעות יעוץ עסקי ובניית תכנית עסקית מכוונת מטרה לפרטים gdem.co הסר gdem.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Hadash123"[m
[32m+[m[32m  contents: "לקוח יקר, פרצה בחוק מאפשרת לקבל מימון לנכס חדש של עד 75% ** לבעלי חשבון תקין בלבד לפרטים erir.co הסר erir.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Loser"[m
[32m+[m[32m  contents: "לקוח יקר! נוסחה חדשה מאפשרת להקטין את תשלומי המשכנתא שברשותך! לחץ כאן ותפסיק להפסיד http://qwwe.co/ הסר: http://qwwe.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Money2u"[m
[32m+[m[32m  contents: "בעל עסק/מקים עסק? המדינה מקנה הלוואה בערבות קרנות המדינה, בריבית של כ-2% במידה והתזרים לוחץ אל תהסס לפרטים ckza.co/5 הסר ckza.co/t"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "NehesHadas"[m
[32m+[m[32m  contents: "מרוויחים למעלה מ 14 אלף ש\"ח? משכנתא חדשה לרכישת נכס בפחות מ 1% ריבית **בכפוף לנתוני הלקוח ולתנאי המבצע לפרטים: asga.co הסר: asga.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "algorithm"[m
[32m+[m[32m  contents: "לקוח יקר! אלגוריתם חדש יודע לחשב את המענק המגיע לך מתוך החזרי המשכנתא בתוך כמה שניות הקלק ותוכל לדעת wbce.co/24 הסר: wbce.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Attention1"[m
[32m+[m[32m  contents: "נותרו לך למעלה מ-8 שנות תשלום במשכנתא? פרצה בחוק מאפשרת להגשים חלום ולסיים את המשכנתא עוד השנה לפרטים slfb.co/21"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Hadasha001"[m
[32m+[m[32m  contents: "מתכוון לקחת בקרוב משכנתא חדשה? משכנתא בתנאים אטרקטיביים עד 40% פריים לנרשמים עכשיו לפרטים erir.co"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "HappyDay"[m
[32m+[m[32m  contents: "חג שמח! מבצע לכל לקוחות הבנים ריבית ממוצעת של 1% על המשכנתא הזדרזו מספר המקומות מוגבל לפרטים: http://qwwe.co"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "ReformaBan"[m
[32m+[m[32m  contents: "מעוניית לקחת משכנתא חדשה? בעקבות רפורמה בבנקים המובילים ישנה אופציה לנטילת משכנתא בריבית של 1% לפרטים: asga.co"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "With1u"[m
[32m+[m[32m  contents: "הודעה לנפגעי המשכנתאות גם אתם מרגישים שהבנק גזל מכם כספים מיותרים לאורך השנים. הקלק ע\"מ להשיב את הכספים שאבדו לפרטים wbce.co/25 הסר wbce.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "*LAW"[m
[32m+[m[32m  contents: "נותרו לך למעלה מ-8 שנות תשלום במשכנתא? פרצה בחוק מאפשרת להגשים חלום ולסיים את המשכנתא עוד השנה לפרטים CALFD.CO/11 הסר CALFD.CO/S"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1800808080"[m
[32m+[m[32m  contents: "אנגלית שוטפת ב-3 חודשים במחיר חסר תקדים רק לתלמידי/בוגרי היי-קיו!  1900 ש\"ח (במקום 4950) לנרשמים בינואר בלבד!  http://bit.ly/1UhZmbq "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1800808080"[m
[32m+[m[32m  contents: "בוגרי HIGH-Q, אנגלית שוטפת בחודשיים. הנחה מטורפת לנרשמים עד סוף פברואר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0556621706"[m
[32m+[m[32m  contents: " שלום הורד אפליקציה זו וזכה מייד באתר למובייל https://goo.gl/AOx9yP  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0509787096"[m
[32m+[m[32m  contents: "עדכון להלן הלינק לאתר החדש www.usavisas.co.il"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Nicotine"[m
[32m+[m[32m  contents: "שלום, אנו שמחים להציג בפניך את 10 עצות הזהב להפסקת עישון. לקריאה לחץ על הקישור: http://goo.gl/94v5Km"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "55555555"[m
[32m+[m[32m  contents: "חדש בישראל! שיטה חדשנית להפסקת עישון!  למידע לחץ: http://goo.gl/FlRb0k "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1901768225"[m
[32m+[m[32m  contents: "את חייבת את האפליקציה לזיהוי שיחה מחסוי יש מסלולים חדשים  ל90 ימים 1901768225  ל30 ימים 1901768125  לשבוע 1901767925  פייס tinyurl.com/of4d5mm "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "The Best"[m
[32m+[m[32m  contents: "תוכנת דמו חינם לשיפור הישגים בלימודים למידע/הסרה http://goo.gl/kNsWSk"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0546873343"[m
[32m+[m[32m  contents: "כרטיסים אחרונים ל WhiteFest: http://www.pashbar.co.il/show.php?id=2284 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "English4U"[m
[32m+[m[32m  contents: "דבר אנגלית שוטפת או שכספך יוחזר למידע והסרה http://goo.gl/bukWAQ "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709487"[m
[32m+[m[32m  contents: "נמאס לכם שחברות הביטוח גובות מכם כספים מיותרים? רוצים לעשות סדר בתיקי הביטוח? אנחנו נעזור לכם! לפרטים השב ביטוח ושם מלא!   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709210"[m
[32m+[m[32m  contents: "מרגיש שחברת הביטוח גובה ממך כסף מיותר? רוצה לחסוך ולעשות סדר בביטוחים שלך? אנחנו נעזור לכם! לפרטים השב ביטוח ושם מלא!   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97248124295"[m
[32m+[m[32m  contents: "מעוניין בהכנסה נוספת ממסחר מקצועי במניות?  הצטרף לקורס מעשי מהמרצים המובילים בתחום  והגדל את הכנסתך החודשית.   לפרטים: סמס שימך!  הסר 0 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0522826211"[m
[32m+[m[32m  contents: "דרושים ניצבים בכל הגילאים לסדרות טלוויזיה ופרסומות, הכנסה נוספת http://i4u.me/MKQ2J"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0548736530"[m
[32m+[m[32m  contents: "בוא ללמוד את המקצוע הכי מבוקש בשוק ההיטק בישראל! פיתוח אפליקציות לסלולאר השב קורס לפרטים מלאים להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529991515"[m
[32m+[m[32m  contents: "פבל השבוע בלוטו 5 מיליון ולך מגיע טבלת לוטו אישית במתנה! להשתתפות השב לוטו להסרה לא "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "service4"[m
[32m+[m[32m  contents: "קיבלת מתנה השתתפות חינם בהגרלת הטוטו למידע והסרה http://goo.gl/hG1yTW "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529991515"[m
[32m+[m[32m  contents: "פורים שמח!השבוע בלוטו 17 מליון שח גם לך מגיע לזכות סמארט מפנקת אותך בטופס לוטו קבוצתי מתנה. לקבלת המתנה השב \"לוטו\" להסרה השב לא "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0732433435"[m
[32m+[m[32m  contents: "    קיבלת שבוע מתנה להגרלות מפעל הפיס. למימוש ההטבה www.sw6.me   "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709399"[m
[32m+[m[32m  contents: "פיאט בהצעה חסרת תקדים על דגמי משפחת ה- 500, החל מ- 69,900 ₪! לבחירת ה- 500 שלך השב 'רכב' ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709376"[m
[32m+[m[32m  contents: "פיאט קובו דיזל בהנחה מיוחדת של 14,000 ₪! החל מ 106,900 ₪ לפרטים השב רכב ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709225"[m
[32m+[m[32m  contents: "ליומיים בלבד! מגוון דגמי פיאט במחירים מטורפים שאסור לפספס! וגם טרייד אין ותנאי מימון אטרקטיביים במיוחד! לפרטים השב/י רכב חדש!   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709219"[m
[32m+[m[32m  contents: "מגוון דגמי פיאט במחירים מטורפים שאסור לפספס! וגם טרייד אין ותנאי מימון אטרקטיביים במיוחד! לפרטים השב רכב חדש!   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Eng"[m
[32m+[m[32m  contents: "רוצה להיות מהנדס תעשייה וניהול? למידע או הסרה http://goo.gl/kl73Bi "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0549748390"[m
[32m+[m[32m  contents: "     קרקע מאושרת לבנייה בנתניה ב- 699 אלף₪ סמסו שם מלא לפרטים או הסר להסרה   "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Esek123"[m
[32m+[m[32m  contents: "מרגיש שהעסק שלך לא מתקדם? יוזמה חדשה מאפשרת לך להתייעל באמצעות יעוץ עסקי ובניית תכנית עסקית מכוונת מטרה לפרטים gdem.co הסר gdem.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Hadash123"[m
[32m+[m[32m  contents: "לקוח יקר, פרצה בחוק מאפשרת לקבל מימון לנכס חדש של עד 75% ** לבעלי חשבון תקין בלבד לפרטים erir.co הסר erir.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "NehesHadas"[m
[32m+[m[32m  contents: "מרוויחים למעלה מ 14 אלף ש\"ח? משכנתא חדשה לרכישת נכס בפחות מ 1% ריבית **בכפוף לנתוני הלקוח ולתנאי המבצע לפרטים: asga.co הסר: asga.co/r"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "barlev"[m
[32m+[m[32m  contents: "בדיקה להחזר מס ,לחץ :  http://bsms.bz/9iKQa   להסרה http://bsms.bz/hGK "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "funjoya"[m
[32m+[m[32m  contents: "עוד חודש בדיוק  נופש פאנג'ויה יוני 2016!  http://bit.ly/fun16  לפרטים והזמנת מקומות/חדרים: june@funjoya.co.il "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Loser"[m
[32m+[m[32m  contents: "לקוח יקר!  נוסחה חדשה מאפשרת להקטין את תשלומי המשכנתא שברשותך!  לחץ כאן ותפסיק להפסיד http://qwwe.co/  הסר:http://qwwe.co/r   "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Money2u"[m
[32m+[m[32m  contents: "בעל עסק/מקים עסק?  המדינה מקנה הלוואה בערבות קרנות המדינה, בריבית של כ-2% במידה והתזרים לוחץ אל תהסס  לפרטים ckza.co/5 הסר ckza.co/t "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "algorithm"[m
[32m+[m[32m  contents: "  לקוח יקר!  אלגוריתם חדש יודע לחשב את המענק המגיע לך מתוך החזרי המשכנתא בתוך כמה שניות  הקלק ותוכל לדעת wbce.co/24 הסר: wbce.co/m "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0"[m
[32m+[m[32m  contents: "סטודנטים יקרים!  נותרו חדרים אחרונים לנופש פאנג'ויה אפריל (14-16/4).  לפרטים והזמנות נא לשלוח צילום תעודת סטודנט ולטלפון לכתובת: april@funjoya.co.il או בדף הפייסבוק FUNJOYA "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Save1TLV"[m
[32m+[m[32m  contents: "הקשיבו אזרחי ישראל!  רפורמה חדשה בשוק המשכנתאות מקנה לבעלי משכנתא של מעל 5 שנים החזר כספי לחשבון העו\"ש  לפרטים slfb.co/22 הסר slfb.co/m"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Dream"[m
[32m+[m[32m  contents: "חולם להקים עסק משלך?  תכנית חדשה מטעם המדינה מאפשרת ליזמים צעירים לקבל מימון לשם הגשמת החלום  לפרטים: cnse.co/4 להסרה: cnse.co/t "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Bank1Now"[m
[32m+[m[32m  contents: "אזרחי ישראל   הצטרפו למאבק נגד הבנקים. פרצה בחוק מאפשרת לבעלי משכנתא של מעל 8 שנים, להנות מהחזר כספי   לפרטים slfb.co/11 הסר slfb.co/m "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0"[m
[32m+[m[32m  contents: " סטודנטים יקרים!  ההרשמה לנופש פאנג'ויה  אפריל 2016 (14-16/4)  תחל ביום שלישי הקרוב (1/12).  להרשמה נא לשלוח צילום ת.סטודנט + טלפון נייד לדוא\"ל: april@funjoya.co.il למידע נוסף ניתן להיכנס לדף FUNJOYA בפייסבוק :)  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Business"[m
[32m+[m[32m  contents: "    חולם להקים עסק?  קרנות בערבות המדינה מוכנות לעזור במימון של עד 200 אלף ₪ לפרטים: cnse.co/2 להסרה: cnse.co/t     "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1966"[m
[32m+[m[32m  contents: "נותרו לך למעלה מ-8 שנות תשלום במשכנתא? פרצה בחוק מאפשרת להגשים חלום ולסיים את המשכנתא עוד השנה לפרטים calfd.co/11 להסרה calfd.co/s "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "Land4U"[m
[32m+[m[32m  contents: "לראשונה קרקע פרטית בטאבו צמודה לקיבוץ למידע/הסרה http://goo.gl/2cHwrA "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "service3"[m
[32m+[m[32m  contents: "הזדמנויות אחרונות לקרקע פרטית בטאבו למידע והסרה http://goo.gl/3KwtSP "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "046666666"[m
[32m+[m[32m  contents: " רטלקס המתחרה הטבעית של ריטלין וללא תופעות לוואי לפרטים והזמנות חייגו  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0522825612"[m
[32m+[m[32m  contents: " ברמלה המתחדשת - דירות 3,4,5 חד' החל מ740 אלף לפרטים סמס רמלה להסרה הסר  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0523110541"[m
[32m+[m[32m  contents: "מבצע מטורף בהסרות שיער בלייזר! לפרטים סמס 3 ושם מלא להסרה סמס הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0526265497"[m
[32m+[m[32m  contents: "קבל 3 הצעות לחיסכון משמעותי בהוצאות הביטוח בשיחת טלפון אחת! לפרטים סמס ביטוח ושם להסרה סמס הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0526695275"[m
[32m+[m[32m  contents: "השתתפות בהגרלת לוטו שבועית ללא עלות וללא התחייבות, למימוש לחץ: http://goo.gl/tHuyHx   להסרה הקש 1 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529991818"[m
[32m+[m[32m  contents: "מעוניין/ת להתחיל לימודים בשנה הקרובה? פבל, ריכזנו עבורך את כל המידע בנושאי לימודים אקדמיים, קורסים ותואר ראשון. לייעוץ חינם השב/י \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529992212"[m
[32m+[m[32m  contents: "היי, ביומיים הקרובים אנו מעניקים ייעוץ והכוונה בתחום הלימודים לצעירים בגילאי 20-30 אם גם אתם רוצים להתחיל ללמוד, אל תפספסו עוד שנה! השיבו \"כן\" ויועץ לימודים יחזור אליכם עם האפשרויות המתאימות עבורכם. "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529992213"[m
[32m+[m[32m  contents: "למה להמשיך לקבל 0% ריבית מהבנק שלך כשאתה יכול להרוויח עשרות אלפי שקלים בהשקעה מהבית? עוברים למסחר אלקטרוני בליווי אישי עם טובי המומחים בתחום. לפרטים נוספים ללא התחייבות השב \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529992217"[m
[32m+[m[32m  contents: "היי, ההרשמה לשנת הלימודים הבאה במכללות המובילות מסתיימת בקרוב! חבל שתפספסו עוד שנה, אנחנו פה להעניק ייעוץ חינם ולמצוא עבורכם את המסלול המתאים לכם ביותר. מעוניינים? השיבו \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529992627"[m
[32m+[m[32m  contents: "פבל, רוצה להשתלב בתעשייה בתפקיד טכנולוגי? לימודי הנדסאי יאפשרו לך לרכוש מקצוע מבוקש ופרקטי במגוון תחומים מרתקים.  לייעוץ אישי חינם וללא כל התחייבות, השב/י \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529995060"[m
[32m+[m[32m  contents: " יש לך אזרחות אירופאית / אמריקאית או ויזה לארה\"ב? למה לא לעשות בהם שימוש? מגיעים לך תנאים מועדפים וייחודיים לעבודה בעגלות בחו\"ל. חג המולד מתקרב וזה הזמן לעשות מלא כסף! לקבלת פרטים והצעות עבודה במקומות היפים בעולם, השיבו \"כן\"  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529995400"[m
[32m+[m[32m  contents: "רוצה הכנסה חודשית נוספת? לקבלת ייעוץ והצעות בחינם ממיטב מוסדות הלימוד בתחום לימודי שוק ההון. השב/י \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529997209"[m
[32m+[m[32m  contents: "רוצה לעבוד במפעל ? תתקשר 052-6365219 להסרה השב \"הסר\""[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529999010"[m
[32m+[m[32m  contents: "היי פבל, הידעת? בעלי תואר ראשון מקבלים תנאים משודרגים לעבודה בסינגפור. חברה משפחתית מצליחה מחפשת עובדים איכותיים בעלי תואר להרחבת פעילות המכירות שלה בסינגפור. נשמע מעניין? לפרטים נוספים השיבו \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529999300"[m
[32m+[m[32m  contents: "אם יש לך תואר ראשון, יש לנו הזדמנות מדהימה בשבילך בסינגפור! בסינגפור תוכלו ליהנות מכל היתרונות של מדינה מערבית מתקדמת לצד קרבה למקומות אקזוטיים במזרח הרחוק. חברה מבוססת מחפשת בעלי תואר לעבודה חוקית בחנויות יוקרתיות בקניונים מובילים. תנאים מעולים למתאימים, לפרטים חינם השיבו \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0529999854"[m
[32m+[m[32m  contents: "היי, רוצה לעשות כסף גדול בזמן קצר מהבית? עבודה בתחום המסחר האלקטרוני היא ההזדמנות שלך. אנו נלווה אותך אישית עם טובי המומחים בתחום המסחר. לפרטים נוספים חינם, יש להשיב \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0542965991"[m
[32m+[m[32m  contents: "הצעה מיוחדת להשתלות שיניים, לפרטים השב שם מלא / להסרה מהרשימה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0542965991"[m
[32m+[m[32m  contents: "הצעה משתלמת להשתלות שיניים, לפרטים השב שם מלא או להסרה מהמאגר השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0549748925"[m
[32m+[m[32m  contents: " רוצה לדעת איך להרוויח כסף ממסחר באופציות בשוק ההון? תשואה פוטנציאלית גבוהה במיוחד ,לפרטים עכשיו השב מסחר ושם מלא, או להסרה מהמאגר השב הסר  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0549942127"[m
[32m+[m[32m  contents: "קורסים באנגלית בכל הרמות. לפרטים השב אנגלית ושם מלא להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709517"[m
[32m+[m[32m  contents: "זכות לדירה על הים בת\"א!  לפרטים: http://goo.gl/935v6d   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709377"[m
[32m+[m[32m  contents: "רוצה להרוויח עוד כסף כל חודש,מהבית?  לפרטים חינם סמס חזרה את שמך המלא"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709448"[m
[32m+[m[32m  contents: "קרקע בצפון תל אביב בתוכנית מאושרת במחיר מיוחד לזמן מוגבל וגם עד 50% מימון בנקאי לפרטים השב 'קרקע' ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709302"[m
[32m+[m[32m  contents: "מבצע מיוחד לבנות 40+ טיפול פילינג רפואי במתנה, לתיאום טיפול והרשמה להטבה סמסי פילינג ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709209"[m
[32m+[m[32m  contents: "השתלות שיניים בהרדמה מלאה עכשיו בתנאי תשלום מיוחדים לפגישת ייעוץ חינם סמסו השתלות ושם מלא  להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709214"[m
[32m+[m[32m  contents: "זכות לדירה מול הים בצפון החדש של ת\"א בתוכנית מאושרת במליון ו99 אלף ש\"ח בלבד לפרטים ותיאום פגישה השב/י קרקע ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709225"[m
[32m+[m[32m  contents: "רוצה להפסיק לעשן?בשיטה ייחודית! לפרטים השב עישון ושם מלא   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709235"[m
[32m+[m[32m  contents: "הזדמנות אדירה להגיע לבית בכרכור! 139 אלף ש\"ח לקרקע הרשומה על שמכם בטאבו! לפרטים השב קרקע ואת שמכם   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709204"[m
[32m+[m[32m  contents: "הזדמנות אדירה לבית בהוד השרון! רק 299 אלף ש\"ח לכחצי דונם קרקע בטאבו! לפרטים השב קרקע   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709205"[m
[32m+[m[32m  contents: "קרקע על קו הים של הרצליה פיתוח בפחות מ600 אלף ₪ לפרטים השב קרקע   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709209"[m
[32m+[m[32m  contents: " זכות לדירה בהוד השרון בפחות מ300 אלף ₪ לפרטים השב קרקע   להסרה השב הסר  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709201"[m
[32m+[m[32m  contents: "וילה בשרון בסלעית החל ממליון ו690 אלף ₪ למידע השב סלעית   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709222"[m
[32m+[m[32m  contents: "השתלות שיניים בהרדמה מלאה ,אנו עושים את הטיפולים הבאים :השתלות, ניתוחי חניכיים, ציפויים, כתרים, שיקום הפה, טיפולים בהרדמה מלאה, במידה ואחד הטיפולים רלונטים עבורך השב השתלות לתיאום פגישת יעוץ חינם!   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709215"[m
[32m+[m[32m  contents: "זכות מובטחת לדירה עתידית בנתניה בצמוד לחוף הים ב 420 אלף ₪ בלבד! למידע נוסף כנס/י: http://goo.gl/l3LrnD להסרה השב הסר"[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709231"[m
[32m+[m[32m  contents: "דירות 3 חד' במגדל יוקרה בבת ים החל מ1,299,000 ש\"ח בלבד לפרטים נוספים השב כן   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709226"[m
[32m+[m[32m  contents: "בית צמוד קרקע בכרכור ב139 אלף ש\"ח בלבד , למידע והשארת פרטים, כנסו : http://goo.gl/6sXKXi   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0559709212"[m
[32m+[m[32m  contents: "רבע דונם בטאבו בכרכור ב139 אלף ₪ בלבד למידע השב כרכור   להסרה השב הסר "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0722566205"[m
[32m+[m[32m  contents: "הלוואה לחגים פורים, פסח עד 10אלף החזר בצקים 0722566205 הסר http://mj6.co "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0722566205"[m
[32m+[m[32m  contents: "הלוואה מיידית לחגים פורים, פסח עד 10אלף החזר בצקים 0722566205 הסר http://mj6.co "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "0722566205"[m
[32m+[m[32m  contents: "הלוואה לשכיר/עצמאי עד 10אלף החזר בצקים 0722566205 הסר http://mj6.co "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "1599687096"[m
[32m+[m[32m  contents: "מגיע לך הטבה להלוואה בערבות המדינה לפרטים לחץ הלוואה "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97297688848"[m
[32m+[m[32m  contents: "בכרכור, זכות נדירה לבית/דירה  רק ₪139,000!   למידע: השב את שימך  הסרה 0 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97297689231"[m
[32m+[m[32m  contents: "    הזדמנות נדירה לדירה עתידית  בשדות כרכור!!  פרטים bit.ly/1H20Q6C  הסרה-0   "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97297711246"[m
[32m+[m[32m  contents: "ברמלה המתחדשת והצעירה  דירות אחרונות רק 750אלף₪   למידע השב שימך  הסר 0 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97298359716"[m
[32m+[m[32m  contents: "היי פבל , יש לנו הזדמנות מדהימה לבעלי תואר ראשון! חברה משפחתית מבוססת המעוניינת להרחיב את פעילותה בסינגפור, מחפשת בעלי תואר לעבודה חוקית בחנויות יוקרתיות בקניונים מובילים. העובדים בסינגפור נהנים מכל היתרונות של מדינה מערבית מתקדמת לצד קרבה למקומות אקזוטיים במזרח הרחוק. נשמע מעניין? לפרטים נוספים השיבו \"כן\" "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97298945563"[m
[32m+[m[32m  contents: "זכות נדירה! לבית פרטי/דירה בכרכור ₪139,000  למידע: השב שימך.  להסרה 0 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "97298945635"[m
[32m+[m[32m  contents: "נורמטיבי?  קבל מיד הלוואה עד 60 אלף ₪ ללא ערבים  לפרטים: השב שם  להסרה 0 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "dental"[m
[32m+[m[32m  contents: " עד 40% הנחה על טיפולי שיניים ע\"י השוואה למידע/הסרה http://smc1.in/sd1  "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "KARKOR"[m
[32m+[m[32m  contents: "     זכות נדירה לבית פרטי/דירה בכרכור ₪139,000  לחץ http://goo.gl/unKy68   "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "service1"[m
[32m+[m[32m  contents: "קרקע פרטית בטאבו בפחות מ-150 אלף למידע והסרה http://ba1.co.il/i/137 "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "youwin!"[m
[32m+[m[32m  contents: "רוצה אייפון 6? זכית להכנס להגרלה שמשגעת את המדינה -http://ow.ly/V6n3l "[m
[32m+[m[32m}[m
[32m+[m[32mmessage {[m
[32m+[m[32m  sender: "TLV"[m
[32m+[m[32m  contents: "זכות לדירה בצפון ת\"א רק 999 אלף שח למידע והסרה http://goo.gl/eTBbyY "[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan/app/proto/BUILD b/projects/noloan/app/proto/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..6d2cbed[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/proto/BUILD[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32mproto_library([m
[32m+[m[32m    name = "data_protos",[m
[32m+[m[32m    srcs = ["data.proto"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mproto_library([m
[32m+[m[32m    name = "bayes_protos",[m
[32m+[m[32m    srcs = ["bayes.proto"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_proto_library([m
[32m+[m[32m    name = "data_protos_java",[m
[32m+[m[32m    visibility = ["//visibility:public"],[m
[32m+[m[32m    deps = [":data_protos"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_proto_library([m
[32m+[m[32m    name = "bayes_protos_java",[m
[32m+[m[32m    visibility = ["//visibility:public"],[m
[32m+[m[32m    deps = [":bayes_protos"],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/noloan/app/proto/bayes.proto b/projects/noloan/app/proto/bayes.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..a794dbd[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/proto/bayes.proto[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32moption java_package = "projects.noloan.app.filter.bayes";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32menum WordType {[m
[32m+[m[32m  SPAM = 0;[m
[32m+[m[32m  HAM = 1;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage WordInfo {[m
[32m+[m[32m  string word = 1;[m
[32m+[m[32m  int32 spamCount = 2;[m
[32m+[m[32m  int32 hamCount = 3;[m
[32m+[m[32m  float spamRate = 4;[m
[32m+[m[32m  float hamRate = 5;[m
[32m+[m[32m  float spamProbability = 6;[m
[32m+[m[32m  WordType type = 7;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage WordInfoList {[m
[32m+[m[32m  repeated WordInfo message = 1;[m
[32m+[m[32m  int32 totalSpamCount = 2;[m
[32m+[m[32m  int32 totalHamCount = 3;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan/app/proto/data.proto b/projects/noloan/app/proto/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..4916701[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/proto/data.proto[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m
[32m+[m[32mpackage projects.noloan.app;[m
[32m+[m
[32m+[m[32moption java_package = "projects.noloan.app";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage SmsMessage {[m
[32m+[m[32m  // Unix milliseconds[m
[32m+[m[32m  int64 receivedDateTime = 1;[m
[32m+[m[32m  // Sender phone number[m
[32m+[m[32m  string sender = 2;[m
[32m+[m[32m  // The text in the message[m
[32m+[m[32m  string contents = 3;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage SmsMessageList { repeated SmsMessage message = 1; }[m
[1mdiff --git a/projects/noloan/app/res/drawable-hdpi/ic_info_black_24dp.png b/projects/noloan/app/res/drawable-hdpi/ic_info_black_24dp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..da56077[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-hdpi/ic_info_black_24dp.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-hdpi/status_image.png b/projects/noloan/app/res/drawable-hdpi/status_image.png[m
[1mnew file mode 100644[m
[1mindex 0000000..50b3bbd[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-hdpi/status_image.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-mdpi/ic_info_black_24dp.png b/projects/noloan/app/res/drawable-mdpi/ic_info_black_24dp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5ef3dc0[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-mdpi/ic_info_black_24dp.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-mdpi/status_image.png b/projects/noloan/app/res/drawable-mdpi/status_image.png[m
[1mnew file mode 100644[m
[1mindex 0000000..75de40e[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-mdpi/status_image.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xhdpi/ic_info_black_24dp.png b/projects/noloan/app/res/drawable-xhdpi/ic_info_black_24dp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..46ed12a[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xhdpi/ic_info_black_24dp.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xhdpi/status_image.png b/projects/noloan/app/res/drawable-xhdpi/status_image.png[m
[1mnew file mode 100644[m
[1mindex 0000000..bb6236a[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xhdpi/status_image.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xxhdpi/ic_info_black_24dp.png b/projects/noloan/app/res/drawable-xxhdpi/ic_info_black_24dp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a81eeb9[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xxhdpi/ic_info_black_24dp.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xxhdpi/status_image.png b/projects/noloan/app/res/drawable-xxhdpi/status_image.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c4c1b4a[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xxhdpi/status_image.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xxxhdpi/ic_info_black_24dp.png b/projects/noloan/app/res/drawable-xxxhdpi/ic_info_black_24dp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c8f86b9[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xxxhdpi/ic_info_black_24dp.png differ
[1mdiff --git a/projects/noloan/app/res/drawable-xxxhdpi/status_image.png b/projects/noloan/app/res/drawable-xxxhdpi/status_image.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f9bc2b8[m
Binary files /dev/null and b/projects/noloan/app/res/drawable-xxxhdpi/status_image.png differ
[1mdiff --git a/projects/noloan/app/res/layout/about_activity.xml b/projects/noloan/app/res/layout/about_activity.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..de74e2c[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/layout/about_activity.xml[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.design.widget.CoordinatorLayout[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    tools:context="projects.noloan.app.MainActivity"[m
[32m+[m[32m    android:fitsSystemWindows="true">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <include[m
[32m+[m[32m            android:id="@+id/toolbar_content"[m
[32m+[m[32m            layout="@layout/toolbar"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content" />[m
[32m+[m
[32m+[m[32m        <ScrollView[m
[32m+[m[32m            android:id="@+id/scroll_view"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="0dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            android:fillViewport="true">[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/aboutText"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_marginTop="20dp"[m
[32m+[m[32m                android:layout_marginHorizontal="16dp"[m
[32m+[m[32m                android:textIsSelectable="true"[m
[32m+[m[32m                android:gravity="right"[m
[32m+[m[32m                android:textAppearance="@style/aboutScreenText"[m
[32m+[m[32m                android:text="@string/about_information"/>[m
[32m+[m
[32m+[m[32m        </ScrollView>[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m[32m</android.support.design.widget.CoordinatorLayout>[m
[1mdiff --git a/projects/noloan/app/res/layout/main_activity.xml b/projects/noloan/app/res/layout/main_activity.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0088c8d[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/layout/main_activity.xml[m
[36m@@ -0,0 +1,68 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.design.widget.CoordinatorLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:fitsSystemWindows="true">[m
[32m+[m
[32m+[m[32m    <android.support.v4.widget.DrawerLayout[m
[32m+[m[32m        android:id="@+id/drawer_layout"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:fitsSystemWindows="true"[m
[32m+[m[32m        tools:openDrawer="start">[m
[32m+[m
[32m+[m[32m        <android.support.design.widget.CoordinatorLayout[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent">[m
[32m+[m
[32m+[m[32m            <include[m
[32m+[m[32m                android:id="@+id/toolbar_content"[m
[32m+[m[32m                layout="@layout/toolbar" />[m
[32m+[m
[32m+[m[32m            <android.support.constraint.ConstraintLayout[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                app:layout_behavior="@string/appbar_scrolling_view_behavior"[m
[32m+[m[32m                android:background="@color/colorGreyBackground">[m
[32m+[m
[32m+[m[32m                <LinearLayout[m
[32m+[m[32m                    android:layout_width="match_parent"[m
[32m+[m[32m                    android:layout_height="match_parent"[m
[32m+[m[32m                    android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <include[m
[32m+[m[32m                    android:id="@+id/summary_layout"[m
[32m+[m[32m                    layout="@layout/messages_summary_item"[m
[32m+[m[32m                    android:layout_width="match_parent"[m
[32m+[m[32m                    android:layout_height="wrap_content"/>[m
[32m+[m
[32m+[m[32m                <android.support.v7.widget.RecyclerView[m
[32m+[m[32m                    android:id="@+id/recycler_view"[m
[32m+[m[32m                    android:scrollbars="vertical"[m
[32m+[m[32m                    android:layout_width="match_parent"[m
[32m+[m[32m                    android:layout_height="0dp"[m
[32m+[m[32m                    android:layout_weight="1"[m
[32m+[m[32m                    android:paddingBottom="10dp"[m
[32m+[m[32m                    android:clipToPadding="false"/>[m
[32m+[m
[32m+[m[32m                </LinearLayout>[m
[32m+[m
[32m+[m[32m            </android.support.constraint.ConstraintLayout>[m
[32m+[m
[32m+[m[32m        </android.support.design.widget.CoordinatorLayout>[m
[32m+[m
[32m+[m[32m        <android.support.design.widget.NavigationView[m
[32m+[m[32m            android:id="@+id/nav_view"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_gravity="start"[m
[32m+[m[32m            android:fitsSystemWindows="true"[m
[32m+[m[32m            android:layoutDirection="rtl"[m
[32m+[m[32m            app:menu="@menu/main_activity_drawer" />[m
[32m+[m
[32m+[m[32m    </android.support.v4.widget.DrawerLayout>[m
[32m+[m
[32m+[m[32m</android.support.design.widget.CoordinatorLayout>[m
[1mdiff --git a/projects/noloan/app/res/layout/messages_list_item.xml b/projects/noloan/app/res/layout/messages_list_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..f252668[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/layout/messages_list_item.xml[m
[36m@@ -0,0 +1,54 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.v7.widget.CardView[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:card_view="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:id="@+id/card_view"[m
[32m+[m[32m    android:layout_gravity="center"[m
[32m+[m[32m    card_view:cardCornerRadius="2dp"[m
[32m+[m[32m    android:elevation="1dp"[m
[32m+[m[32m    android:layout_marginTop="10dp"[m
[32m+[m[32m    android:layout_marginHorizontal="8dp">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:orientation="vertical"[m
[32m+[m[32m        android:layoutDirection="ltr"[m
[32m+[m[32m        android:layout_marginHorizontal="12dp"[m
[32m+[m[32m        android:layout_marginVertical="8dp">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/received_from"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            style="@style/ListFrom"[m
[32m+[m[32m            android:ellipsize="end"[m
[32m+[m[32m            android:singleLine="true"[m
[32m+[m[32m            android:layout_marginBottom="3dp"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/received_at"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            style="@style/ListDate"[m
[32m+[m[32m            android:ellipsize="end"[m
[32m+[m[32m            android:singleLine="true"[m
[32m+[m[32m            android:layout_marginBottom="4dp"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/content"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            style="@style/ListContent"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</android.support.v7.widget.CardView>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan/app/res/layout/messages_summary_item.xml b/projects/noloan/app/res/layout/messages_summary_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..42a1fd2[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/layout/messages_summary_item.xml[m
[36m@@ -0,0 +1,87 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.v7.widget.CardView[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:card_view="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:id="@+id/card_view"[m
[32m+[m[32m    android:layout_gravity="center"[m
[32m+[m[32m    card_view:cardCornerRadius="2dp"[m
[32m+[m[32m    android:elevation="1dp"[m
[32m+[m[32m    android:layout_marginTop="10dp"[m
[32m+[m[32m    android:layout_marginHorizontal="8dp">[m
[32m+[m
[32m+[m[32m    <ImageView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:src="@drawable/status_image"/>[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:orientation="vertical"[m
[32m+[m[32m        android:layoutDirection="ltr"[m
[32m+[m[32m        android:layout_marginHorizontal="12dp"[m
[32m+[m[32m        android:layout_marginVertical="4dp">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/status_title"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            style="@style/SummaryTitle"[m
[32m+[m[32m            android:ellipsize="end"[m
[32m+[m[32m            android:singleLine="true"[m
[32m+[m[32m            android:text="@string/title_summary"[m
[32m+[m[32m            android:layout_marginBottom="3dp"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/status_summary"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            style="@style/SummarySubTitle"[m
[32m+[m[32m            android:ellipsize="end"[m
[32m+[m[32m            android:singleLine="true"[m
[32m+[m[32m            android:layout_marginBottom="2dp"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:id="@+id/lawsuit"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:orientation="horizontal"[m
[32m+[m[32m            android:layoutDirection="rtl"[m
[32m+[m[32m            android:gravity="right"[m
[32m+[m[32m            >[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/status_lawsuit"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:gravity="right"[m
[32m+[m[32m                style="@style/SummaryContent"[m
[32m+[m[32m                android:ellipsize="end"[m
[32m+[m[32m                android:singleLine="true"[m
[32m+[m[32m                android:text="@string/text_lawsuit"[m
[32m+[m[32m                android:paddingLeft="6dp"[m
[32m+[m[32m                />[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/status_lawsuit_press"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:gravity="right"[m
[32m+[m[32m                style="@style/SummaryContent"[m
[32m+[m[32m                android:linksClickable="true"[m
[32m+[m[32m                android:text="@string/text_lawsuit_press"[m
[32m+[m[32m                android:autoLink="web"[m
[32m+[m[32m                android:textColorLink="@color/colorPrimary"[m
[32m+[m[32m                />[m
[32m+[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</android.support.v7.widget.CardView>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan/app/res/layout/toolbar.xml b/projects/noloan/app/res/layout/toolbar.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..501e84f[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/layout/toolbar.xml[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.design.widget.AppBarLayout[m
[32m+[m[32m        xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m        xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:theme="@style/AppTheme.AppBarOverlay">[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.Toolbar[m
[32m+[m[32m            android:id="@+id/toolbar"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="?attr/actionBarSize"[m
[32m+[m[32m            android:background="?attr/colorPrimary"[m
[32m+[m[32m            app:popupTheme="@style/AppTheme.PopupOverlay" >[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/toolbar_title"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                style="@style/TextAppearance.AppCompat.Widget.ActionBar.Title"[m
[32m+[m[32m                android:fontFamily="sans-serif-medium"[m
[32m+[m[32m                android:layout_gravity="center"[m
[32m+[m[32m                android:singleLine="true"[m
[32m+[m[32m                android:ellipsize="end" />[m
[32m+[m
[32m+[m[32m        </android.support.v7.widget.Toolbar>[m
[32m+[m
[32m+[m[32m</android.support.design.widget.AppBarLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan/app/res/menu/main_activity_drawer.xml b/projects/noloan/app/res/menu/main_activity_drawer.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..298aa83[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/menu/main_activity_drawer.xml[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<menu[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    tools:showIn="navigation_view">[m
[32m+[m
[32m+[m[32m    <item[m
[32m+[m[32m        android:id="@+id/nav_about"[m
[32m+[m[32m        android:icon="@drawable/ic_info_black_24dp"[m
[32m+[m[32m        android:title="@string/title_about" />[m
[32m+[m
[32m+[m[32m</menu>[m
[1mdiff --git a/projects/noloan/app/res/mipmap-hdpi/ic_launcher.png b/projects/noloan/app/res/mipmap-hdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..6e386fd[m
Binary files /dev/null and b/projects/noloan/app/res/mipmap-hdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan/app/res/mipmap-mdpi/ic_launcher.png b/projects/noloan/app/res/mipmap-mdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c0d83c5[m
Binary files /dev/null and b/projects/noloan/app/res/mipmap-mdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan/app/res/mipmap-xhdpi/ic_launcher.png b/projects/noloan/app/res/mipmap-xhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..d2e59ba[m
Binary files /dev/null and b/projects/noloan/app/res/mipmap-xhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan/app/res/mipmap-xxhdpi/ic_launcher.png b/projects/noloan/app/res/mipmap-xxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b343599[m
Binary files /dev/null and b/projects/noloan/app/res/mipmap-xxhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan/app/res/mipmap-xxxhdpi/ic_launcher.png b/projects/noloan/app/res/mipmap-xxxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4a9f641[m
Binary files /dev/null and b/projects/noloan/app/res/mipmap-xxxhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan/app/res/values-v21/styles.xml b/projects/noloan/app/res/values-v21/styles.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..fd7a058[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values-v21/styles.xml[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m<resources>[m
[32m+[m
[32m+[m[32m    <style name="AppTheme.NoActionBar">[m
[32m+[m[32m        <item name="windowActionBar">false</item>[m
[32m+[m[32m        <item name="windowNoTitle">true</item>[m
[32m+[m[32m        <item name="android:statusBarColor">@android:color/transparent</item>[m
[32m+[m[32m    </style>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan/app/res/values/colors.xml b/projects/noloan/app/res/values/colors.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..97c6e81[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values/colors.xml[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <color name="colorPrimary">#0C63D2</color>[m
[32m+[m[32m    <color name="colorPrimaryDark">#094fa7</color>[m
[32m+[m[32m    <color name="colorAccent">#48949A</color>[m
[32m+[m[32m    <color name="colorTextGrey1">#525252</color>[m
[32m+[m[32m    <color name="colorTextGrey2">#5F5F5F</color>[m
[32m+[m[32m    <color name="colorTextGrey3">#454545</color>[m
[32m+[m[32m    <color name="colorTextGrey4">#3F3F3F</color>[m
[32m+[m[32m    <color name="colorGreyBackground">#F0F0F0</color>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan/app/res/values/dimens.xml b/projects/noloan/app/res/values/dimens.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..4ab4520[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values/dimens.xml[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <!-- Default screen margins, per the Android Design guidelines. -->[m
[32m+[m[32m    <dimen name="activity_horizontal_margin">16dp</dimen>[m
[32m+[m[32m    <dimen name="activity_vertical_margin">16dp</dimen>[m
[32m+[m[32m    <dimen name="nav_header_vertical_spacing">8dp</dimen>[m
[32m+[m[32m    <dimen name="nav_header_height">176dp</dimen>[m
[32m+[m[32m    <dimen name="fab_margin">16dp</dimen>[m
[32m+[m[32m</resources>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan/app/res/values/drawables.xml b/projects/noloan/app/res/values/drawables.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..d1f4027[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values/drawables.xml[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<resources xmlns:android="http://schemas.android.com/apk/res/android">[m
[32m+[m[32m    <item name="ic_menu_about" type="drawable">@android:drawable/ic_menu_camera</item>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan/app/res/values/strings.xml b/projects/noloan/app/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..a77bc8f[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values/strings.xml[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">לא רוצה הלוואה</string>[m
[32m+[m
[32m+[m[32m    <string name="navigation_drawer_open">Open navigation drawer</string>[m
[32m+[m[32m    <string name="navigation_drawer_close">Close navigation drawer</string>[m
[32m+[m
[32m+[m[32m    <string name="title_about">אודות</string>[m
[32m+[m[32m    <string name="title_summary">סיכום סטטוס</string>[m
[32m+[m[32m    <string name="content_summary">סה״כ &lt;b&gt; %1$s &lt;/b&gt;  הודעות חשודות</string>[m
[32m+[m[32m    <string name="content_summary_empty">אין הודעות חשודות</string>[m
[32m+[m[32m    <!--<string name="text_lawsuit">להנחיות לתביעה לחצו &lt;a href="http://www.google.com/"&gt;כאן&lt;/a&gt;</string>-->[m
[32m+[m[32m    <string name="text_lawsuit">להנחיות לתביעה לחצו </string>[m
[32m+[m[32m    <string name="text_lawsuit_press"><a href="http://www.google.com">כאן</a></string>[m
[32m+[m[32m    <string name="list_item_title">מאת: %1$s</string>[m
[32m+[m[32m    <string name="list_item_date">ב: %1$s</string>[m
[32m+[m[32m    <string name="about_information">האפליקציה מוצאת הודעות ספאם.</string>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan/app/res/values/styles.xml b/projects/noloan/app/res/values/styles.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..c9c2800[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan/app/res/values/styles.xml[m
[36m@@ -0,0 +1,59 @@[m
[32m+[m[32m<resources>[m
[32m+[m
[32m+[m[32m    <!-- Base application theme. -->[m
[32m+[m[32m    <style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar">[m
[32m+[m[32m        <!-- Customize your theme here. -->[m
[32m+[m[32m        <item name="colorPrimary">@color/colorPrimary</item>[m
[32m+[m[32m        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>[m
[32m+[m[32m        <item name="colorAccent">@color/colorAccent</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="AppTheme.NoActionBar">[m
[32m+[m[32m        <item name="windowActionBar">false</item>[m
[32m+[m[32m        <item name="windowNoTitle">true</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />[m
[32m+[m
[32m+[m[32m    <style name="AppTheme.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" />[m
[32m+[m
[32m+[m[32m    <style name="SummaryTitle" parent="@android:style/TextAppearance.Medium">[m
[32m+[m[32m        <item name="android:fontFamily">sans-serif-medium</item>[m
[32m+[m[32m        <item name="android:textSize">26sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorTextGrey1</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="SummarySubTitle" parent="SummaryTitle">[m
[32m+[m[32m        <item name="android:textSize">18sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorTextGrey3</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="SummaryContent" parent="@android:style/TextAppearance.Medium">[m
[32m+[m[32m        <item name="android:fontFamily">sans-serif-medium</item>[m
[32m+[m[32m        <item name="android:textSize">18sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorTextGrey3</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="ListFrom" parent="@android:style/TextAppearance.Medium">[m
[32m+[m[32m        <item name="android:fontFamily">sans-serif-medium</item>[m
[32m+[m[32m        <item name="android:textSize">20sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorTextGrey1</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="ListDate" parent="@android:style/TextAppearance.Medium">[m
[32m+[m[32m        <item name="android:fontFamily">sans-serif-medium</item>[m
[32m+[m[32m        <item name="android:textSize">20sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorAccent</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="ListContent" parent="@android:style/TextAppearance.Small">[m
[32m+[m[32m        <item name="android:fontFamily">sans-serif</item>[m
[32m+[m[32m        <item name="android:textSize">16sp</item>[m
[32m+[m[32m        <item name="android:textColor">@color/colorTextGrey4</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m    <style name="aboutScreenText" parent="ListContent">[m
[32m+[m[32m        <item name="android:textSize">18dp</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan2/.gitignore b/projects/noloan2/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..d4f4ecf[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/.gitignore[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m*.iml[m
[32m+[m[32m.gradle[m
[32m+[m[32m/local.properties[m
[32m+[m[32m/.idea/caches/build_file_checksums.ser[m
[32m+[m[32m/.idea/libraries[m
[32m+[m[32m/.idea/modules.xml[m
[32m+[m[32m/.idea/workspace.xml[m
[32m+[m[32m.DS_Store[m
[32m+[m[32m/build[m
[32m+[m[32m/captures[m
[32m+[m[32m.externalNativeBuild[m
[32m+[m[32m.settings/[m
[32m+[m[32m.project[m
[32m+[m[32m.classpath[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/.gitignore b/projects/noloan2/app/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..796b96d[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/.gitignore[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/build[m
[1mdiff --git a/projects/noloan2/app/build.gradle b/projects/noloan2/app/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..5f2a30f[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/build.gradle[m
[36m@@ -0,0 +1,67 @@[m
[32m+[m[32mapply plugin: 'com.android.application'[m
[32m+[m[32mapply plugin: 'com.google.gms.google-services'[m
[32m+[m[32mapply plugin: 'com.google.protobuf'[m
[32m+[m
[32m+[m[32mandroid {[m
[32m+[m[32m    compileSdkVersion 28[m
[32m+[m[32m    defaultConfig {[m
[32m+[m[32m        applicationId "hasadna.noloan2"[m
[32m+[m[32m        minSdkVersion 28[m
[32m+[m[32m        targetSdkVersion 28[m
[32m+[m[32m        versionCode 1[m
[32m+[m[32m        versionName "1.0"[m
[32m+[m[32m        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"[m
[32m+[m[32m        multiDexEnabled true[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m[32m    buildTypes {[m
[32m+[m[32m        release {[m
[32m+[m[32m            minifyEnabled false[m
[32m+[m[32m            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32msourceSets {[m
[32m+[m[32m    main.java.srcDirs += "${protobuf.generatedFilesBaseDir}/main/javalite"[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mprotobuf {[m
[32m+[m[32m    protoc {[m
[32m+[m[32m        artifact = 'com.google.protobuf:protoc:3.0.0'[m
[32m+[m[32m    }[m
[32m+[m[32m    plugins {[m
[32m+[m[32m        javalite {[m
[32m+[m[32m            artifact = 'com.google.protobuf:protoc-gen-javalite:3.0.0'[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    generateProtoTasks {[m
[32m+[m[32m        all().each { task ->[m
[32m+[m[32m            task.builtins {[m
[32m+[m[32m                remove java[m
[32m+[m[32m            }[m
[32m+[m[32m            task.plugins {[m
[32m+[m[32m                javalite {}[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdependencies {[m
[32m+[m[32m    implementation fileTree(dir: 'libs', include: ['*.jar'])[m
[32m+[m[32m    implementation 'com.android.support:appcompat-v7:28.0.0'[m
[32m+[m[32m    implementation 'com.android.support.constraint:constraint-layout:1.1.3'[m
[32m+[m[32m    implementation 'com.android.support:design:28.0.0'[m
[32m+[m[32m    testImplementation 'junit:junit:4.12'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test:runner:1.0.2'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'[m
[32m+[m
[32m+[m[32m    //firebase[m
[32m+[m[32m    implementation 'com.google.firebase:firebase-firestore:17.1.4'[m
[32m+[m[32m    implementation 'com.google.firebase:firebase-core:16.0.6'[m
[32m+[m[32m    //multidex[m
[32m+[m[32m    implementation 'com.android.support:multidex:1.0.3'[m
[32m+[m
[32m+[m[32m    //protobuf[m
[32m+[m[32m    implementation 'com.google.protobuf:protobuf-lite:3.0.1'[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan2/app/google-services.json b/projects/noloan2/app/google-services.json[m
[1mnew file mode 100755[m
[1mindex 0000000..c086809[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/google-services.json[m
[36m@@ -0,0 +1,73 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "project_info": {[m
[32m+[m[32m    "project_number": "160348327132",[m
[32m+[m[32m    "firebase_url": "https://startupos-5f279.firebaseio.com",[m
[32m+[m[32m    "project_id": "startupos-5f279",[m
[32m+[m[32m    "storage_bucket": "startupos-5f279.appspot.com"[m
[32m+[m[32m  },[m
[32m+[m[32m  "client": [[m
[32m+[m[32m    {[m
[32m+[m[32m      "client_info": {[m
[32m+[m[32m        "mobilesdk_app_id": "1:160348327132:android:bdd5d315ff0abbd5",[m
[32m+[m[32m        "android_client_info": {[m
[32m+[m[32m          "package_name": "com.google.startupos.androidexample"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "oauth_client": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "client_id": "160348327132-4rhk97ket6mgv86gapqlscjs27i0pigh.apps.googleusercontent.com",[m
[32m+[m[32m          "client_type": 3[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "api_key": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "current_key": "AIzaSyDO8EvJvxK9QNqhyMdTCU2AZM3W6A26eh4"[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "services": {[m
[32m+[m[32m        "analytics_service": {[m
[32m+[m[32m          "status": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "appinvite_service": {[m
[32m+[m[32m          "status": 1,[m
[32m+[m[32m          "other_platform_oauth_client": [][m
[32m+[m[32m        },[m
[32m+[m[32m        "ads_service": {[m
[32m+[m[32m          "status": 2[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    {[m
[32m+[m[32m      "client_info": {[m
[32m+[m[32m        "mobilesdk_app_id": "1:160348327132:android:94ed03d6d174aa9f",[m
[32m+[m[32m        "android_client_info": {[m
[32m+[m[32m          "package_name": "noloan.hasadna.org.il"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "oauth_client": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "client_id": "160348327132-4rhk97ket6mgv86gapqlscjs27i0pigh.apps.googleusercontent.com",[m
[32m+[m[32m          "client_type": 3[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "api_key": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "current_key": "AIzaSyDO8EvJvxK9QNqhyMdTCU2AZM3W6A26eh4"[m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "services": {[m
[32m+[m[32m        "analytics_service": {[m
[32m+[m[32m          "status": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "appinvite_service": {[m
[32m+[m[32m          "status": 1,[m
[32m+[m[32m          "other_platform_oauth_client": [][m
[32m+[m[32m        },[m
[32m+[m[32m        "ads_service": {[m
[32m+[m[32m          "status": 2[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  ],[m
[32m+[m[32m  "configuration_version": "1"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan2/app/proguard-rules.pro b/projects/noloan2/app/proguard-rules.pro[m
[1mnew file mode 100644[m
[1mindex 0000000..f1b4245[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/proguard-rules.pro[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m# Add project specific ProGuard rules here.[m
[32m+[m[32m# You can control the set of applied configuration files using the[m
[32m+[m[32m# proguardFiles setting in build.gradle.[m
[32m+[m[32m#[m
[32m+[m[32m# For more details, see[m
[32m+[m[32m#   http://developer.android.com/guide/developing/tools/proguard.html[m
[32m+[m
[32m+[m[32m# If your project uses WebView with JS, uncomment the following[m
[32m+[m[32m# and specify the fully qualified class name to the JavaScript interface[m
[32m+[m[32m# class:[m
[32m+[m[32m#-keepclassmembers class fqcn.of.javascript.interface.for.webview {[m
[32m+[m[32m#   public *;[m
[32m+[m[32m#}[m
[32m+[m
[32m+[m[32m# Uncomment this to preserve the line number information for[m
[32m+[m[32m# debugging stack traces.[m
[32m+[m[32m#-keepattributes SourceFile,LineNumberTable[m
[32m+[m
[32m+[m[32m# If you keep the line number information, uncomment this to[m
[32m+[m[32m# hide the original source file name.[m
[32m+[m[32m#-renamesourcefileattribute SourceFile[m
[1mdiff --git a/projects/noloan2/app/src/androidTest/java/hasadna/noloan2/ExampleInstrumentedTest.java b/projects/noloan2/app/src/androidTest/java/hasadna/noloan2/ExampleInstrumentedTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..dfe5316[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/androidTest/java/hasadna/noloan2/ExampleInstrumentedTest.java[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.support.test.InstrumentationRegistry;[m
[32m+[m[32mimport android.support.test.runner.AndroidJUnit4;[m
[32m+[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m[32mimport org.junit.runner.RunWith;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Instrumented test, which will execute on an Android device.[m
[32m+[m[32m *[m
[32m+[m[32m * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>[m
[32m+[m[32m */[m
[32m+[m[32m@RunWith(AndroidJUnit4.class)[m
[32m+[m[32mpublic class ExampleInstrumentedTest {[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void useAppContext() {[m
[32m+[m[32m    // Context of the app under test.[m
[32m+[m[32m    Context appContext = InstrumentationRegistry.getTargetContext();[m
[32m+[m
[32m+[m[32m    assertEquals("hasadna.noloan2", appContext.getPackageName());[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/AndroidManifest.xml b/projects/noloan2/app/src/main/AndroidManifest.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..04b685d[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/AndroidManifest.xml[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<manifest xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    package="noloan">[m
[32m+[m
[32m+[m[32m    <uses-permission android:name="android.permission.READ_SMS" />[m
[32m+[m
[32m+[m[32m    <application[m
[32m+[m[32m        android:allowBackup="true"[m
[32m+[m[32m        android:icon="@mipmap/ic_launcher"[m
[32m+[m[32m        android:label="@string/app_name"[m
[32m+[m[32m        android:roundIcon="@mipmap/ic_launcher_round"[m
[32m+[m[32m        android:supportsRtl="true"[m
[32m+[m[32m        android:theme="@style/AppTheme">[m
[32m+[m[32m        <activity[m
[32m+[m[32m            android:name="hasadna.noloan2.MainActivity"[m
[32m+[m[32m            android:label="@string/app_name"[m
[32m+[m[32m            android:theme="@style/Theme.Design.NoActionBar">[m
[32m+[m
[32m+[m[32m        </activity>[m
[32m+[m[32m        <activity android:name="hasadna.noloan2.SplashPermissionActivity">[m
[32m+[m[32m            <intent-filter>[m
[32m+[m[32m                <action android:name="android.intent.action.MAIN" />[m
[32m+[m
[32m+[m[32m                <category android:name="android.intent.category.LAUNCHER" />[m
[32m+[m[32m            </intent-filter>[m
[32m+[m[32m        </activity>[m
[32m+[m[32m    </application>[m
[32m+[m
[32m+[m[32m</manifest>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreAdapter.java b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreAdapter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..6ce1a39[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreAdapter.java[m
[36m@@ -0,0 +1,90 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport android.support.v7.widget.RecyclerView;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m
[32m+[m[32mimport com.google.firebase.firestore.DocumentChange;[m
[32m+[m[32mimport com.google.firebase.firestore.DocumentSnapshot;[m
[32m+[m[32mimport com.google.firebase.firestore.EventListener;[m
[32m+[m[32mimport com.google.firebase.firestore.FirebaseFirestoreException;[m
[32m+[m[32mimport com.google.firebase.firestore.ListenerRegistration;[m
[32m+[m[32mimport com.google.firebase.firestore.Query;[m
[32m+[m[32mimport com.google.firebase.firestore.QuerySnapshot;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m
[32m+[m[32mimport javax.annotation.Nullable;[m
[32m+[m
[32m+[m[32mpublic abstract class FirestoreAdapter<VH extends RecyclerView.ViewHolder>[m
[32m+[m[32m    extends RecyclerView.Adapter implements EventListener<QuerySnapshot> {[m
[32m+[m[32m  private Query query;[m
[32m+[m[32m  private ListenerRegistration registration;[m
[32m+[m
[32m+[m[32m  private ArrayList<DocumentSnapshot> snapshots = new ArrayList<>();[m
[32m+[m
[32m+[m[32m  public FirestoreAdapter(Query query) {[m
[32m+[m[32m    this.query = query;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void startListening() {[m
[32m+[m[32m    if (query != null && registration == null) {[m
[32m+[m[32m      registration = query.addSnapshotListener(this);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public int getItemCount() {[m
[32m+[m[32m    return snapshots.size();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onEvent([m
[32m+[m[32m      @Nullable QuerySnapshot querySnapshots, @Nullable FirebaseFirestoreException e) {[m
[32m+[m[32m    if (e != null) {[m
[32m+[m[32m      Log.w("firestore adapter", e);[m
[32m+[m[32m      return;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (DocumentChange change : querySnapshots.getDocumentChanges()) {[m
[32m+[m[32m      DocumentSnapshot snapshot = change.getDocument();[m
[32m+[m
[32m+[m[32m      switch (change.getType()) {[m
[32m+[m[32m        case ADDED:[m
[32m+[m[32m          added(change);[m
[32m+[m[32m          break;[m
[32m+[m[32m        case MODIFIED:[m
[32m+[m[32m          modified(change);[m
[32m+[m[32m          break;[m
[32m+[m[32m        case REMOVED:[m
[32m+[m[32m          removed(change);[m
[32m+[m[32m          break;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void added(DocumentChange change) {[m
[32m+[m[32m    snapshots.add(change.getNewIndex(), change.getDocument());[m
[32m+[m[32m    notifyItemInserted(change.getNewIndex());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void modified(DocumentChange change) {[m
[32m+[m[32m    if (change.getOldIndex() == change.getNewIndex()) {[m
[32m+[m[32m      snapshots.set(change.getOldIndex(), change.getDocument());[m
[32m+[m[32m      notifyItemChanged(change.getOldIndex());[m
[32m+[m[32m    } else {[m
[32m+[m[32m      snapshots.remove(change.getOldIndex());[m
[32m+[m[32m      snapshots.add(change.getNewIndex(), change.getDocument());[m
[32m+[m[32m      notifyItemMoved(change.getOldIndex(), change.getNewIndex());[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void removed(DocumentChange change) {[m
[32m+[m[32m    snapshots.remove(change.getOldIndex());[m
[32m+[m[32m    notifyItemRemoved(change.getOldIndex());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public ArrayList<DocumentSnapshot> getSnapshots() {[m
[32m+[m[32m    return snapshots;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreClient.java b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreClient.java[m
[1mnew file mode 100644[m
[1mindex 0000000..c52ed64[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreClient.java[m
[36m@@ -0,0 +1,118 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport android.support.annotation.NonNull;[m
[32m+[m[32mimport android.util.Base64;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m
[32m+[m[32mimport com.google.android.gms.tasks.OnCompleteListener;[m
[32m+[m[32mimport com.google.android.gms.tasks.Task;[m
[32m+[m[32mimport com.google.android.gms.tasks.Tasks;[m
[32m+[m[32mimport com.google.firebase.firestore.CollectionReference;[m
[32m+[m[32mimport com.google.firebase.firestore.DocumentReference;[m
[32m+[m[32mimport com.google.firebase.firestore.DocumentSnapshot;[m
[32m+[m[32mimport com.google.firebase.firestore.FirebaseFirestore;[m
[32m+[m[32mimport com.google.firebase.firestore.QuerySnapshot;[m
[32m+[m[32mimport com.google.protobuf.InvalidProtocolBufferException;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.concurrent.ExecutionException;[m
[32m+[m
[32m+[m[32mimport hasadna.noloan2.protobuf.SMSProto.SpamList;[m
[32m+[m[32mimport hasadna.noloan2.protobuf.SMSProto.SmsMessage;[m
[32m+[m
[32m+[m[32mpublic class FirestoreClient {[m
[32m+[m[32m  private final String SPAM_DOCUMENT_PATH = "noloan/smss";[m
[32m+[m
[32m+[m[32m  // < - 22 > - 31 for removing and changing with the user name[m
[32m+[m[32m  private final String USER_SUGGEST_COLLECTION =[m
[32m+[m[32m      "noloan/user_data/user/<username>/spam_suggestions";[m
[32m+[m
[32m+[m[32m  private FirebaseFirestore client;[m
[32m+[m
[32m+[m[32m  public FirestoreClient() {[m
[32m+[m[32m    client = FirebaseFirestore.getInstance();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Write the message to the Firestore[m
[32m+[m[32m  public void writeMessage(SmsMessage message) {[m
[32m+[m[32m    FirestoreElement element = encodeMessage(message);[m
[32m+[m
[32m+[m[32m    // TODO add code to remove the <username> from the path and add the actual user name[m
[32m+[m
[32m+[m[32m    client.collection(USER_SUGGEST_COLLECTION).add(element);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public SpamList getSpam() {[m
[32m+[m[32m    DocumentReference document = client.document(SPAM_DOCUMENT_PATH);[m
[32m+[m[32m    SpamList spam = decodeSpam(document.get().getResult().toObject(FirestoreElement.class));[m
[32m+[m[32m    return spam;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Not in use, there for future reference[m
[32m+[m[32m  /* QuerySnapshot snapshot;[m
[32m+[m[32m  public ArrayList<SmsMessage> getMessages() {[m
[32m+[m[32m    ArrayList<SmsMessage> results = new ArrayList<>();[m
[32m+[m
[32m+[m[32m    Task<QuerySnapshot> task = client.get();[m
[32m+[m[32m    task.addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {[m
[32m+[m[32m      @Override[m
[32m+[m[32m      public void onComplete(@NonNull Task<QuerySnapshot> task) {[m
[32m+[m[32m        if (task.isSuccessful()) {[m
[32m+[m[32m          snapshot = task.getResult();[m
[32m+[m[32m        } else {[m
[32m+[m[32m          Log.e("Firesotre", "Failed to get snapsot from the Firestore");[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    });[m
[32m+[m
[32m+[m[32m    try {[m
[32m+[m[32m      snapshot = Tasks.await(task);[m
[32m+[m[32m    } catch (ExecutionException | InterruptedException e) {[m
[32m+[m[32m      Log.e("Firesotre", "Wait interrupted");[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    if (snapshot != null) {[m
[32m+[m[32m      List<DocumentSnapshot> list = snapshot.getDocuments();[m
[32m+[m[32m      for (DocumentSnapshot document : list) {[m
[32m+[m[32m        FirestoreElement element = document.toObject(FirestoreElement.class);[m
[32m+[m[32m        results.add(decodeMessage(element));[m
[32m+[m[32m      }[m
[32m+[m[32m      return results;[m
[32m+[m[32m    } else {[m
[32m+[m[32m      // onComplete failed[m
[32m+[m[32m      return null;[m
[32m+[m[32m    }[m
[32m+[m[32m  }*/[m
[32m+[m
[32m+[m[32m  // Encode user proto to base64 for storing in Firestore[m
[32m+[m[32m  private FirestoreElement encodeMessage(SmsMessage message) {[m
[32m+[m[32m    byte[] protoBytes = message.toByteArray();[m
[32m+[m[32m    String base64BinaryString = Base64.encodeToString(protoBytes, Base64.DEFAULT);[m
[32m+[m[32m    return new FirestoreElement(base64BinaryString);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private SmsMessage decodeMessage(FirestoreElement element) {[m
[32m+[m[32m    byte[] messageBytes = Base64.decode(element.getBase64(), Base64.DEFAULT);[m
[32m+[m[32m    SmsMessage message = null;[m
[32m+[m[32m    try {[m
[32m+[m[32m      message = SmsMessage.getDefaultInstance().getParserForType().parseFrom(messageBytes);[m
[32m+[m[32m    } catch (InvalidProtocolBufferException e) {[m
[32m+[m[32m      e.printStackTrace();[m
[32m+[m[32m    }[m
[32m+[m[32m    return message;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // TODO combine the two decoders[m
[32m+[m[32m  private SpamList decodeSpam(FirestoreElement element) {[m
[32m+[m[32m    byte[] messageBytes = Base64.decode(element.getBase64(), Base64.DEFAULT);[m
[32m+[m[32m    SpamList spam = null;[m
[32m+[m[32m    try {[m
[32m+[m[32m      spam = SpamList.getDefaultInstance().getParserForType().parseFrom(messageBytes);[m
[32m+[m[32m    } catch (InvalidProtocolBufferException e) {[m
[32m+[m[32m      e.printStackTrace();[m
[32m+[m[32m    }[m
[32m+[m[32m    return spam;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreElement.java b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreElement.java[m
[1mnew file mode 100644[m
[1mindex 0000000..bc9231c[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/java/hasadna/noloan2/FirestoreElement.java[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32m// For storing proto type to Firestore[m
[32m+[m[32mpublic class FirestoreElement {[m
[32m+[m
[32m+[m[32m  private String base64;[m
[32m+[m
[32m+[m[32m  public FirestoreElement(String base64) {[m
[32m+[m
[32m+[m[32m    this.base64 = base64;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public String getBase64() {[m
[32m+[m[32m    return base64;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void setBase64(String base64) {[m
[32m+[m[32m    this.base64 = base64;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/java/hasadna/noloan2/MainActivity.java b/projects/noloan2/app/src/main/java/hasadna/noloan2/MainActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..be603a6[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/java/hasadna/noloan2/MainActivity.java[m
[36m@@ -0,0 +1,94 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport android.Manifest;[m
[32m+[m[32mimport android.content.pm.PackageManager;[m
[32m+[m[32mimport android.database.Cursor;[m
[32m+[m[32mimport android.net.Uri;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m
[32m+[m[32mimport hasadna.noloan2.protobuf.SMSProto.SmsMessage;[m
[32m+[m[32mimport noloan.R;[m
[32m+[m
[32m+[m[32mpublic class MainActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m  TextView text;[m
[32m+[m
[32m+[m[32m  ArrayList<SmsMessage> spamList;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m    super.onCreate(savedInstanceState);[m
[32m+[m[32m    setContentView(R.layout.activity_main);[m
[32m+[m
[32m+[m[32m    text = findViewById(R.id.TV_text);[m
[32m+[m
[32m+[m[32m    spamList = new ArrayList<>();[m
[32m+[m[32m    ArrayList<SmsMessage> messages = readSmsFromDevice();[m
[32m+[m
[32m+[m[32m    // For testing, adding the first message read to the list of spam.[m
[32m+[m[32m    spamList.add([m
[32m+[m[32m        SmsMessage.newBuilder()[m
[32m+[m[32m            .setSender(messages.get(0).getSender())[m
[32m+[m[32m            .setBody(messages.get(0).getBody())[m
[32m+[m[32m            .build());[m
[32m+[m
[32m+[m[32m    int count = 0;[m
[32m+[m[32m    for (SmsMessage message : messages) {[m
[32m+[m[32m      for (SmsMessage spam : spamList) {[m
[32m+[m[32m        if (comparingMessages(message, spam)) {[m
[32m+[m[32m          count++;[m
[32m+[m[32m          break;[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    text.setText(count + "");[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Basic comparing of two SMS massages[m
[32m+[m[32m  private boolean comparingMessages(SmsMessage m1, SmsMessage m2) {[m
[32m+[m[32m    return m1.equals(m2);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Reads SMS. If no permissions are granted, exit app.[m
[32m+[m[32m  private ArrayList<SmsMessage> readSmsFromDevice() {[m
[32m+[m[32m    // Check for permission reading sms[m
[32m+[m[32m    int permissionStatus = checkSelfPermission(Manifest.permission.READ_SMS);[m
[32m+[m[32m    // If don't have permission show toast and close the app[m
[32m+[m[32m    if (permissionStatus != PackageManager.PERMISSION_GRANTED) {[m
[32m+[m[32m      Log.e("ReadSms", "No permission for reading SMSs");[m
[32m+[m[32m      Toast.makeText(this, "Permission for reading sms required", Toast.LENGTH_LONG).show();[m
[32m+[m[32m      finish();[m
[32m+[m[32m      return null;[m
[32m+[m[32m    }[m
[32m+[m[32m    return getSmsList();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Get a list of all SMS messages in the inbox.[m
[32m+[m[32m  private ArrayList<SmsMessage> getSmsList() {[m
[32m+[m[32m    ArrayList<SmsMessage> smsList = new ArrayList<>();[m
[32m+[m[32m    Cursor cursor = getContentResolver().query(Uri.parse("content://sms/"), null, null, null, null);[m
[32m+[m
[32m+[m[32m    if (cursor.moveToFirst()) {[m
[32m+[m[32m      for (int i = 0; i < cursor.getColumnCount(); i++, cursor.moveToNext()) {[m
[32m+[m[32m        SmsMessage sms =[m
[32m+[m[32m            SmsMessage.newBuilder()[m
[32m+[m[32m                .setSender(cursor.getString(cursor.getColumnIndexOrThrow("address")))[m
[32m+[m[32m                .setBody(cursor.getString(cursor.getColumnIndexOrThrow("body")))[m
[32m+[m[32m                .build();[m
[32m+[m[32m        smsList.add(sms);[m
[32m+[m[32m      }[m
[32m+[m[32m    } else {[m
[32m+[m[32m      // There are no SMS in the inbox[m
[32m+[m[32m    }[m
[32m+[m[32m    cursor.close();[m
[32m+[m[32m    return smsList;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/java/hasadna/noloan2/SplashPermissionActivity.java b/projects/noloan2/app/src/main/java/hasadna/noloan2/SplashPermissionActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..32c5864[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/java/hasadna/noloan2/SplashPermissionActivity.java[m
[36m@@ -0,0 +1,82 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport android.Manifest;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.pm.PackageManager;[m
[32m+[m[32mimport android.os.Build;[m
[32m+[m[32mimport android.os.Handler;[m
[32m+[m[32mimport android.support.annotation.NonNull;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m
[32m+[m[32mimport noloan.R;[m
[32m+[m
[32m+[m[32m// Based on http://pcessflight.com/smart-android-splash-screen-grabbing-permissions/[m
[32m+[m[32mpublic class SplashPermissionActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m  private static final int PERMISSION_REQUEST_CODE = 123;[m
[32m+[m[32m  final String[] requiredPermissions = new String[] {Manifest.permission.READ_SMS};[m
[32m+[m
[32m+[m[32m  static final long SPLASH_TIME_MS = 1000;[m
[32m+[m
[32m+[m[32m  long startTime;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m    super.onCreate(savedInstanceState);[m
[32m+[m[32m    setContentView(R.layout.activity_splash_permission);[m
[32m+[m
[32m+[m[32m    startTime = System.currentTimeMillis();[m
[32m+[m
[32m+[m[32m    if (Build.VERSION.SDK_INT >= 23) {[m
[32m+[m[32m      checkPermissions();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      startNextActivity();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void checkPermissions() {[m
[32m+[m[32m    String[] ungrantedPermissions = permissionsStillNeeded();[m
[32m+[m[32m    if (ungrantedPermissions.length == 0) {[m
[32m+[m[32m      startNextActivity();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      Toast.makeText(this, "Permission for reading sms required", Toast.LENGTH_LONG).show();[m
[32m+[m[32m      requestPermissions(ungrantedPermissions, PERMISSION_REQUEST_CODE);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String[] permissionsStillNeeded() {[m
[32m+[m[32m    ArrayList<String> result = new ArrayList<>();[m
[32m+[m[32m    for (String permission : requiredPermissions) {[m
[32m+[m[32m      if (checkSelfPermission(permission) != PackageManager.PERMISSION_GRANTED) {[m
[32m+[m[32m        result.add(permission);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    return result.toArray(new String[result.size()]);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void onRequestPermissionsResult([m
[32m+[m[32m      int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {[m
[32m+[m[32m    if (requestCode == PERMISSION_REQUEST_CODE) {[m
[32m+[m[32m      checkPermissions();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void startNextActivity() {[m
[32m+[m[32m    new Handler()[m
[32m+[m[32m        .postDelayed([m
[32m+[m[32m            new Runnable() {[m
[32m+[m[32m              @Override[m
[32m+[m[32m              public void run() {[m
[32m+[m[32m                startActivity(new Intent(SplashPermissionActivity.this, MainActivity.class));[m
[32m+[m[32m                finish();[m
[32m+[m[32m              }[m
[32m+[m[32m            },[m
[32m+[m[32m            SPLASH_TIME_MS);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/app/src/main/proto/SMS.proto b/projects/noloan2/app/src/main/proto/SMS.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..61f838c[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/proto/SMS.proto[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32moption java_package = "hasadna.noloan2.protobuf";[m
[32m+[m[32moption java_outer_classname = "SMSProto";[m
[32m+[m
[32m+[m[32mmessage SmsMessage {[m
[32m+[m[32m    string sender = 1;[m
[32m+[m[32m    string body = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage SpamList {[m
[32m+[m[32m    repeated SmsMessage sms = 1;[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/drawable-v24/ic_launcher_foreground.xml b/projects/noloan2/app/src/main/res/drawable-v24/ic_launcher_foreground.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..1f6bb29[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/drawable-v24/ic_launcher_foreground.xml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<vector xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:aapt="http://schemas.android.com/aapt"[m
[32m+[m[32m    android:width="108dp"[m
[32m+[m[32m    android:height="108dp"[m
[32m+[m[32m    android:viewportWidth="108"[m
[32m+[m[32m    android:viewportHeight="108">[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillType="evenOdd"[m
[32m+[m[32m        android:pathData="M32,64C32,64 38.39,52.99 44.13,50.95C51.37,48.37 70.14,49.57 70.14,49.57L108.26,87.69L108,109.01L75.97,107.97L32,64Z"[m
[32m+[m[32m        android:strokeWidth="1"[m
[32m+[m[32m        android:strokeColor="#00000000">[m
[32m+[m[32m        <aapt:attr name="android:fillColor">[m
[32m+[m[32m            <gradient[m
[32m+[m[32m                android:endX="78.5885"[m
[32m+[m[32m                android:endY="90.9159"[m
[32m+[m[32m                android:startX="48.7653"[m
[32m+[m[32m                android:startY="61.0927"[m
[32m+[m[32m                android:type="linear">[m
[32m+[m[32m                <item[m
[32m+[m[32m                    android:color="#44000000"[m
[32m+[m[32m                    android:offset="0.0" />[m
[32m+[m[32m                <item[m
[32m+[m[32m                    android:color="#00000000"[m
[32m+[m[32m                    android:offset="1.0" />[m
[32m+[m[32m            </gradient>[m
[32m+[m[32m        </aapt:attr>[m
[32m+[m[32m    </path>[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#FFFFFF"[m
[32m+[m[32m        android:fillType="nonZero"[m
[32m+[m[32m        android:pathData="M66.94,46.02L66.94,46.02C72.44,50.07 76,56.61 76,64L32,64C32,56.61 35.56,50.11 40.98,46.06L36.18,41.19C35.45,40.45 35.45,39.3 36.18,38.56C36.91,37.81 38.05,37.81 38.78,38.56L44.25,44.05C47.18,42.57 50.48,41.71 54,41.71C57.48,41.71 60.78,42.57 63.68,44.05L69.11,38.56C69.84,37.81 70.98,37.81 71.71,38.56C72.44,39.3 72.44,40.45 71.71,41.19L66.94,46.02ZM62.94,56.92C64.08,56.92 65,56.01 65,54.88C65,53.76 64.08,52.85 62.94,52.85C61.8,52.85 60.88,53.76 60.88,54.88C60.88,56.01 61.8,56.92 62.94,56.92ZM45.06,56.92C46.2,56.92 47.13,56.01 47.13,54.88C47.13,53.76 46.2,52.85 45.06,52.85C43.92,52.85 43,53.76 43,54.88C43,56.01 43.92,56.92 45.06,56.92Z"[m
[32m+[m[32m        android:strokeWidth="1"[m
[32m+[m[32m        android:strokeColor="#00000000" />[m
[32m+[m[32m</vector>[m
[1mdiff --git a/projects/noloan2/app/src/main/res/drawable/ic_launcher_background.xml b/projects/noloan2/app/src/main/res/drawable/ic_launcher_background.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0d025f9[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/drawable/ic_launcher_background.xml[m
[36m@@ -0,0 +1,170 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<vector xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:width="108dp"[m
[32m+[m[32m    android:height="108dp"[m
[32m+[m[32m    android:viewportWidth="108"[m
[32m+[m[32m    android:viewportHeight="108">[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#008577"[m
[32m+[m[32m        android:pathData="M0,0h108v108h-108z" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M9,0L9,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,0L19,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M29,0L29,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M39,0L39,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M49,0L49,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M59,0L59,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M69,0L69,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M79,0L79,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M89,0L89,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M99,0L99,108"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,9L108,9"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,19L108,19"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,29L108,29"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,39L108,39"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,49L108,49"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,59L108,59"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,69L108,69"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,79L108,79"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,89L108,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,99L108,99"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,29L89,29"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,39L89,39"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,49L89,49"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,59L89,59"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,69L89,69"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,79L89,79"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M29,19L29,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M39,19L39,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M49,19L49,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M59,19L59,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M69,19L69,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M79,19L79,89"[m
[32m+[m[32m        android:strokeWidth="0.8"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF" />[m
[32m+[m[32m</vector>[m
[1mdiff --git a/projects/noloan2/app/src/main/res/layout/activity_main.xml b/projects/noloan2/app/src/main/res/layout/activity_main.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..e20819a[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/layout/activity_main.xml[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    tools:context="hasadna.noloan2.MainActivity">[m
[32m+[m
[32m+[m[32m    <include layout="@layout/content_main" />[m
[32m+[m
[32m+[m[32m</android.support.design.widget.CoordinatorLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/layout/activity_splash_permission.xml b/projects/noloan2/app/src/main/res/layout/activity_splash_permission.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..ed932c1[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/layout/activity_splash_permission.xml[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    tools:context="hasadna.noloan2.SplashPermissionActivity">[m
[32m+[m
[32m+[m[32m</android.support.constraint.ConstraintLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/layout/content_main.xml b/projects/noloan2/app/src/main/res/layout/content_main.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0b34ce2[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/layout/content_main.xml[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    app:layout_behavior="@string/appbar_scrolling_view_behavior"[m
[32m+[m[32m    tools:context=".MainActivity"[m
[32m+[m[32m    tools:showIn="@layout/activity_main2">[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/TV_text"[m
[32m+[m[32m        android:layout_width="416dp"[m
[32m+[m[32m        android:layout_height="663dp"[m
[32m+[m[32m        android:text="TextView"[m
[32m+[m[32m        app:layout_constraintStart_toStartOf="parent"[m
[32m+[m[32m        app:layout_constraintTop_toTopOf="parent" />[m
[32m+[m[32m</android.support.constraint.ConstraintLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/layout/sms_listitem.xml b/projects/noloan2/app/src/main/res/layout/sms_listitem.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..1711bba[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/layout/sms_listitem.xml[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/TV_smsaddress"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginStart="27dp"[m
[32m+[m[32m        android:layout_marginTop="16dp"[m
[32m+[m[32m        android:text="address"[m
[32m+[m[32m        app:layout_constraintStart_toStartOf="parent"[m
[32m+[m[32m        app:layout_constraintTop_toTopOf="parent" />[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/TV_smsdate"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:text="date"[m
[32m+[m[32m        tools:layout_editor_absoluteX="191dp"[m
[32m+[m[32m        tools:layout_editor_absoluteY="16dp" />[m
[32m+[m[32m</android.support.constraint.ConstraintLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/layout/user_listitem.xml b/projects/noloan2/app/src/main/res/layout/user_listitem.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b0927b6[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/layout/user_listitem.xml[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/TV_username"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="45dp"[m
[32m+[m[32m        android:layout_alignParentStart="true"[m
[32m+[m[32m        android:layout_alignParentTop="true"[m
[32m+[m[32m        android:layout_marginStart="170dp"[m
[32m+[m[32m        android:layout_marginTop="0dp"[m
[32m+[m[32m        android:text="username"[m
[32m+[m[32m        app:layout_constraintBottom_toBottomOf="parent"[m
[32m+[m[32m        app:layout_constraintStart_toStartOf="parent"[m
[32m+[m[32m        app:layout_constraintTop_toTopOf="parent"[m
[32m+[m[32m        app:layout_constraintVertical_bias="0.0" />[m
[32m+[m[32m</RelativeLayout>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml b/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eca70cf[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">[m
[32m+[m[32m    <background android:drawable="@drawable/ic_launcher_background" />[m
[32m+[m[32m    <foreground android:drawable="@drawable/ic_launcher_foreground" />[m
[32m+[m[32m</adaptive-icon>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml b/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eca70cf[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">[m
[32m+[m[32m    <background android:drawable="@drawable/ic_launcher_background" />[m
[32m+[m[32m    <foreground android:drawable="@drawable/ic_launcher_foreground" />[m
[32m+[m[32m</adaptive-icon>[m
\ No newline at end of file[m
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher.png b/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..898f3ed[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher_round.png b/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..dffca36[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-hdpi/ic_launcher_round.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher.png b/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..64ba76f[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher_round.png b/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..dae5e08[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-mdpi/ic_launcher_round.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher.png b/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e5ed465[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png b/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..14ed0af[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher.png b/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b0907ca[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png b/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..d8ae031[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png b/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..2c18de9[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png b/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..beed3cd[m
Binary files /dev/null and b/projects/noloan2/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png differ
[1mdiff --git a/projects/noloan2/app/src/main/res/values/colors.xml b/projects/noloan2/app/src/main/res/values/colors.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..69b2233[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/values/colors.xml[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <color name="colorPrimary">#008577</color>[m
[32m+[m[32m    <color name="colorPrimaryDark">#00574B</color>[m
[32m+[m[32m    <color name="colorAccent">#D81B60</color>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan2/app/src/main/res/values/strings.xml b/projects/noloan2/app/src/main/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..4da5543[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/values/strings.xml[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">Noloan2</string>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan2/app/src/main/res/values/styles.xml b/projects/noloan2/app/src/main/res/values/styles.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..5885930[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/main/res/values/styles.xml[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m<resources>[m
[32m+[m
[32m+[m[32m    <!-- Base application theme. -->[m
[32m+[m[32m    <style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar">[m
[32m+[m[32m        <!-- Customize your theme here. -->[m
[32m+[m[32m        <item name="colorPrimary">@color/colorPrimary</item>[m
[32m+[m[32m        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>[m
[32m+[m[32m        <item name="colorAccent">@color/colorAccent</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/projects/noloan2/app/src/test/java/hasadna/noloan2/ExampleUnitTest.java b/projects/noloan2/app/src/test/java/hasadna/noloan2/ExampleUnitTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..6e791fa[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/app/src/test/java/hasadna/noloan2/ExampleUnitTest.java[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mpackage hasadna.noloan2;[m
[32m+[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Example local unit test, which will execute on the development machine (host).[m
[32m+[m[32m *[m
[32m+[m[32m * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>[m
[32m+[m[32m */[m
[32m+[m[32mpublic class ExampleUnitTest {[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void addition_isCorrect() {[m
[32m+[m[32m    assertEquals(4, 2 + 2);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/build.gradle b/projects/noloan2/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..25179e8[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/build.gradle[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[32m// Top-level build file where you can add configuration options common to all sub-projects/modules.[m
[32m+[m
[32m+[m[32mbuildscript {[m
[32m+[m[41m    [m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m        maven { url 'https://dl.bintray.com/android/android-tools' }[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m[32m    dependencies {[m
[32m+[m[32m        classpath 'com.android.tools.build:gradle:3.2.1'[m
[32m+[m[32m        classpath 'com.google.gms:google-services:4.0.1'[m
[32m+[m[32m        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.6'[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m        // NOTE: Do not place your application dependencies here; they belong[m
[32m+[m[32m        // in the individual module build.gradle files[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mallprojects {[m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mtask clean(type: Delete) {[m
[32m+[m[32m    delete rootProject.buildDir[m
[32m+[m[32m}[m
[1mdiff --git a/projects/noloan2/gradle.properties b/projects/noloan2/gradle.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..82618ce[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/gradle.properties[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32m# Project-wide Gradle settings.[m
[32m+[m[32m# IDE (e.g. Android Studio) users:[m
[32m+[m[32m# Gradle settings configured through the IDE *will override*[m
[32m+[m[32m# any settings specified in this file.[m
[32m+[m[32m# For more details on how to configure your build environment visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/build_environment.html[m
[32m+[m[32m# Specifies the JVM arguments used for the daemon process.[m
[32m+[m[32m# The setting is particularly useful for tweaking memory settings.[m
[32m+[m[32morg.gradle.jvmargs=-Xmx1536m[m
[32m+[m[32m# When configured, Gradle will run in incubating parallel mode.[m
[32m+[m[32m# This option should only be used with decoupled projects. More details, visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects[m
[32m+[m[32m# org.gradle.parallel=true[m
[32m+[m
[32m+[m
[1mdiff --git a/projects/noloan2/gradle/wrapper/gradle-wrapper.jar b/projects/noloan2/gradle/wrapper/gradle-wrapper.jar[m
[1mnew file mode 100644[m
[1mindex 0000000..f6b961f[m
Binary files /dev/null and b/projects/noloan2/gradle/wrapper/gradle-wrapper.jar differ
[1mdiff --git a/projects/noloan2/gradle/wrapper/gradle-wrapper.properties b/projects/noloan2/gradle/wrapper/gradle-wrapper.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..9a4163a[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/gradle/wrapper/gradle-wrapper.properties[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mdistributionBase=GRADLE_USER_HOME[m
[32m+[m[32mdistributionPath=wrapper/dists[m
[32m+[m[32mdistributionUrl=https\://services.gradle.org/distributions/gradle-4.6-all.zip[m
[32m+[m[32mzipStoreBase=GRADLE_USER_HOME[m
[32m+[m[32mzipStorePath=wrapper/dists[m
[1mdiff --git a/projects/noloan2/gradlew b/projects/noloan2/gradlew[m
[1mnew file mode 100755[m
[1mindex 0000000..cccdd3d[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/gradlew[m
[36m@@ -0,0 +1,172 @@[m
[32m+[m[32m#!/usr/bin/env sh[m
[32m+[m
[32m+[m[32m##############################################################################[m
[32m+[m[32m##[m
[32m+[m[32m##  Gradle start up script for UN*X[m
[32m+[m[32m##[m
[32m+[m[32m##############################################################################[m
[32m+[m
[32m+[m[32m# Attempt to set APP_HOME[m
[32m+[m[32m# Resolve links: $0 may be a link[m
[32m+[m[32mPRG="$0"[m
[32m+[m[32m# Need this for relative symlinks.[m
[32m+[m[32mwhile [ -h "$PRG" ] ; do[m
[32m+[m[32m    ls=`ls -ld "$PRG"`[m
[32m+[m[32m    link=`expr "$ls" : '.*-> \(.*\)$'`[m
[32m+[m[32m    if expr "$link" : '/.*' > /dev/null; then[m
[32m+[m[32m        PRG="$link"[m
[32m+[m[32m    else[m
[32m+[m[32m        PRG=`dirname "$PRG"`"/$link"[m
[32m+[m[32m    fi[m
[32m+[m[32mdone[m
[32m+[m[32mSAVED="`pwd`"[m
[32m+[m[32mcd "`dirname \"$PRG\"`/" >/dev/null[m
[32m+[m[32mAPP_HOME="`pwd -P`"[m
[32m+[m[32mcd "$SAVED" >/dev/null[m
[32m+[m
[32m+[m[32mAPP_NAME="Gradle"[m
[32m+[m[32mAPP_BASE_NAME=`basename "$0"`[m
[32m+[m
[32m+[m[32m# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mDEFAULT_JVM_OPTS=""[m
[32m+[m
[32m+[m[32m# Use the maximum available, or set MAX_FD != -1 to use that value.[m
[32m+[m[32mMAX_FD="maximum"[m
[32m+[m
[32m+[m[32mwarn () {[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdie () {[m
[32m+[m[32m    echo[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m    echo[m
[32m+[m[32m    exit 1[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m# OS specific support (must be 'true' or 'false').[m
[32m+[m[32mcygwin=false[m
[32m+[m[32mmsys=false[m
[32m+[m[32mdarwin=false[m
[32m+[m[32mnonstop=false[m
[32m+[m[32mcase "`uname`" in[m
[32m+[m[32m  CYGWIN* )[m
[32m+[m[32m    cygwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  Darwin* )[m
[32m+[m[32m    darwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  MINGW* )[m
[32m+[m[32m    msys=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  NONSTOP* )[m
[32m+[m[32m    nonstop=true[m
[32m+[m[32m    ;;[m
[32m+[m[32mesac[m
[32m+[m
[32m+[m[32mCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m# Determine the Java command to use to start the JVM.[m
[32m+[m[32mif [ -n "$JAVA_HOME" ] ; then[m
[32m+[m[32m    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then[m
[32m+[m[32m        # IBM's JDK on AIX uses strange locations for the executables[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/jre/sh/java"[m
[32m+[m[32m    else[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/bin/java"[m
[32m+[m[32m    fi[m
[32m+[m[32m    if [ ! -x "$JAVACMD" ] ; then[m
[32m+[m[32m        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32m    fi[m
[32m+[m[32melse[m
[32m+[m[32m    JAVACMD="java"[m
[32m+[m[32m    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Increase the maximum file descriptors if we can.[m
[32m+[m[32mif [ "$cygwin" = "false" -a "$darwin" = "false" -a "$nonstop" = "false" ] ; then[m
[32m+[m[32m    MAX_FD_LIMIT=`ulimit -H -n`[m
[32m+[m[32m    if [ $? -eq 0 ] ; then[m
[32m+[m[32m        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then[m
[32m+[m[32m            MAX_FD="$MAX_FD_LIMIT"[m
[32m+[m[32m        fi[m
[32m+[m[32m        ulimit -n $MAX_FD[m
[32m+[m[32m        if [ $? -ne 0 ] ; then[m
[32m+[m[32m            warn "Could not set maximum file descriptor limit: $MAX_FD"[m
[32m+[m[32m        fi[m
[32m+[m[32m    else[m
[32m+[m[32m        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"[m
[32m+[m[32m    fi[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Darwin, add options to specify how the application appears in the dock[m
[32m+[m[32mif $darwin; then[m
[32m+[m[32m    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Cygwin, switch paths to Windows format before running java[m
[32m+[m[32mif $cygwin ; then[m
[32m+[m[32m    APP_HOME=`cygpath --path --mixed "$APP_HOME"`[m
[32m+[m[32m    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`[m
[32m+[m[32m    JAVACMD=`cygpath --unix "$JAVACMD"`[m
[32m+[m
[32m+[m[32m    # We build the pattern for arguments to be converted via cygpath[m
[32m+[m[32m    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`[m
[32m+[m[32m    SEP=""[m
[32m+[m[32m    for dir in $ROOTDIRSRAW ; do[m
[32m+[m[32m        ROOTDIRS="$ROOTDIRS$SEP$dir"[m
[32m+[m[32m        SEP="|"[m
[32m+[m[32m    done[m
[32m+[m[32m    OURCYGPATTERN="(^($ROOTDIRS))"[m
[32m+[m[32m    # Add a user-defined pattern to the cygpath arguments[m
[32m+[m[32m    if [ "$GRADLE_CYGPATTERN" != "" ] ; then[m
[32m+[m[32m        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"[m
[32m+[m[32m    fi[m
[32m+[m[32m    # Now convert the arguments - kludge to limit ourselves to /bin/sh[m
[32m+[m[32m    i=0[m
[32m+[m[32m    for arg in "$@" ; do[m
[32m+[m[32m        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`[m
[32m+[m[32m        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option[m
[32m+[m
[32m+[m[32m        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition[m
[32m+[m[32m            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`[m
[32m+[m[32m        else[m
[32m+[m[32m            eval `echo args$i`="\"$arg\""[m
[32m+[m[32m        fi[m
[32m+[m[32m        i=$((i+1))[m
[32m+[m[32m    done[m
[32m+[m[32m    case $i in[m
[32m+[m[32m        (0) set -- ;;[m
[32m+[m[32m        (1) set -- "$args0" ;;[m
[32m+[m[32m        (2) set -- "$args0" "$args1" ;;[m
[32m+[m[32m        (3) set -- "$args0" "$args1" "$args2" ;;[m
[32m+[m[32m        (4) set -- "$args0" "$args1" "$args2" "$args3" ;;[m
[32m+[m[32m        (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;[m
[32m+[m[32m        (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;[m
[32m+[m[32m        (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;[m
[32m+[m[32m        (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;[m
[32m+[m[32m        (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;[m
[32m+[m[32m    esac[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Escape application args[m
[32m+[m[32msave () {[m
[32m+[m[32m    for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done[m
[32m+[m[32m    echo " "[m
[32m+[m[32m}[m
[32m+[m[32mAPP_ARGS=$(save "$@")[m
[32m+[m
[32m+[m[32m# Collect all arguments for the java command, following the shell quoting and substitution rules[m
[32m+[m[32meval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "\"-Dorg.gradle.appname=$APP_BASE_NAME\"" -classpath "\"$CLASSPATH\"" org.gradle.wrapper.GradleWrapperMain "$APP_ARGS"[m
[32m+[m
[32m+[m[32m# by default we should be in the correct project dir, but when run from Finder on Mac, the cwd is wrong[m
[32m+[m[32mif [ "$(uname)" = "Darwin" ] && [ "$HOME" = "$PWD" ]; then[m
[32m+[m[32m  cd "$(dirname "$0")"[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mexec "$JAVACMD" "$@"[m
[1mdiff --git a/projects/noloan2/gradlew.bat b/projects/noloan2/gradlew.bat[m
[1mnew file mode 100644[m
[1mindex 0000000..f955316[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/gradlew.bat[m
[36m@@ -0,0 +1,84 @@[m
[32m+[m[32m@if "%DEBUG%" == "" @echo off[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem  Gradle startup script for Windows[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m
[32m+[m[32m@rem Set local scope for the variables with windows NT shell[m
[32m+[m[32mif "%OS%"=="Windows_NT" setlocal[m
[32m+[m
[32m+[m[32mset DIRNAME=%~dp0[m
[32m+[m[32mif "%DIRNAME%" == "" set DIRNAME=.[m
[32m+[m[32mset APP_BASE_NAME=%~n0[m
[32m+[m[32mset APP_HOME=%DIRNAME%[m
[32m+[m
[32m+[m[32m@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mset DEFAULT_JVM_OPTS=[m
[32m+[m
[32m+[m[32m@rem Find java.exe[m
[32m+[m[32mif defined JAVA_HOME goto findJavaFromJavaHome[m
[32m+[m
[32m+[m[32mset JAVA_EXE=java.exe[m
[32m+[m[32m%JAVA_EXE% -version >NUL 2>&1[m
[32m+[m[32mif "%ERRORLEVEL%" == "0" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:findJavaFromJavaHome[m
[32m+[m[32mset JAVA_HOME=%JAVA_HOME:"=%[m
[32m+[m[32mset JAVA_EXE=%JAVA_HOME%/bin/java.exe[m
[32m+[m
[32m+[m[32mif exist "%JAVA_EXE%" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:init[m
[32m+[m[32m@rem Get command-line arguments, handling Windows variants[m
[32m+[m
[32m+[m[32mif not "%OS%" == "Windows_NT" goto win9xME_args[m
[32m+[m
[32m+[m[32m:win9xME_args[m
[32m+[m[32m@rem Slurp the command line arguments.[m
[32m+[m[32mset CMD_LINE_ARGS=[m
[32m+[m[32mset _SKIP=2[m
[32m+[m
[32m+[m[32m:win9xME_args_slurp[m
[32m+[m[32mif "x%~1" == "x" goto execute[m
[32m+[m
[32m+[m[32mset CMD_LINE_ARGS=%*[m
[32m+[m
[32m+[m[32m:execute[m
[32m+[m[32m@rem Setup the command line[m
[32m+[m
[32m+[m[32mset CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m@rem Execute Gradle[m
[32m+[m[32m"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%[m
[32m+[m
[32m+[m[32m:end[m
[32m+[m[32m@rem End local scope for the variables with windows NT shell[m
[32m+[m[32mif "%ERRORLEVEL%"=="0" goto mainEnd[m
[32m+[m
[32m+[m[32m:fail[m
[32m+[m[32mrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of[m
[32m+[m[32mrem the _cmd.exe /c_ return code![m
[32m+[m[32mif  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1[m
[32m+[m[32mexit /b 1[m
[32m+[m
[32m+[m[32m:mainEnd[m
[32m+[m[32mif "%OS%"=="Windows_NT" endlocal[m
[32m+[m
[32m+[m[32m:omega[m
[1mdiff --git a/projects/noloan2/server/BUILD b/projects/noloan2/server/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e6d8080[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/server/BUILD[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "Data_Uploader",[m
[32m+[m[32m    srcs = ["DataUploader.java"],[m
[32m+[m[32m    main_class = "hasadna.projects.noloan2.server.DataUploader",[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/flogger:flogger_system_backend",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "@startup_os//common",[m
[32m+[m[32m        "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m        "@startup_os//common/flags",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "Data_Uploader-checkstyle",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m    target = ":Data_Uploader",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/noloan2/server/DataUploader.java b/projects/noloan2/server/DataUploader.java[m
[1mnew file mode 100644[m
[1mindex 0000000..7d39431[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/server/DataUploader.java[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32mpackage hasadna.projects.noloan2.server;[m
[32m+[m
[32m+[m[32mimport com.google.startupos.common.CommonModule;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flag;[m
[32m+[m[32mimport com.google.startupos.common.flags.FlagDesc;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flags;[m
[32m+[m[32mimport dagger.Component;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.util.Base64;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m
[32m+[m[32m@Singleton[m
[32m+[m[32mpublic class DataUploader {[m
[32m+[m
[32m+[m[32m  private FileUtils fileUtils;[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  DataUploader(FileUtils fileUtils) {[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void run() throws IOException {[m
[32m+[m[32m    // TODO Implement[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Singleton[m
[32m+[m[32m  @Component(modules = CommonModule.class)[m
[32m+[m[32m  interface ToolComponent {[m
[32m+[m[32m    DataUploader getTool();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void main(String[] args) throws IOException {[m
[32m+[m[32m    Flags.parseCurrentPackage(args);[m
[32m+[m[32m    DaggerDataUploader_ToolComponent.create().getTool().run();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/noloan2/settings.gradle b/projects/noloan2/settings.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..e7b4def[m
[1m--- /dev/null[m
[1m+++ b/projects/noloan2/settings.gradle[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32minclude ':app'[m
[1mdiff --git a/projects/opentrain/pipeline/BUILD b/projects/opentrain/pipeline/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..bbff818[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/BUILD[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m# pipeline definition[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "data_analysis_part1",[m
[32m+[m[32m    srcs = ["@gtfs_data//:agency.txt",[m
[32m+[m[32m            "@gtfs_data//:calendar.txt",[m
[32m+[m[32m            "@gtfs_data//:fare_attributes.txt",[m
[32m+[m[32m            "@gtfs_data//:fare_rules.txt",[m
[32m+[m[32m            "@gtfs_data//:routes.txt",[m
[32m+[m[32m            "@gtfs_data//:shapes.txt",[m
[32m+[m[32m            "@gtfs_data//:stop_times.txt",[m
[32m+[m[32m            "@gtfs_data//:stops.txt",[m
[32m+[m[32m            "@gtfs_data//:translations.txt",[m
[32m+[m[32m            "@gtfs_data//:trips.txt"[m
[32m+[m[32m            ],[m
[32m+[m[32m    cmd = "$(location //projects/opentrain/pipeline/data_handler:data_handler) $(location @gtfs_data//:agency.txt) $(location @gtfs_data//:calendar.txt) $(location @gtfs_data//:fare_attributes.txt) $(location @gtfs_data//:fare_rules.txt) $(location @gtfs_data//:routes.txt) $(location @gtfs_data//:shapes.txt) $(location @gtfs_data//:stop_times.txt) $(location @gtfs_data//:stops.txt) $(location @gtfs_data//:translations.txt) $(location @gtfs_data//:trips.txt) $(location agency.p) $(location calendar.p) $(location fare_attributes.p) $(location fare_rules.p) $(location routes.p) $(location shapes.p) $(location stop_times.p) $(location stops.p) $(location translations.p) $(location trips.p)",[m
[32m+[m[32m    outs = ["agency.p",[m
[32m+[m[32m            "calendar.p",[m
[32m+[m[32m            "fare_attributes.p",[m
[32m+[m[32m            "fare_rules.p",[m
[32m+[m[32m            "routes.p",[m
[32m+[m[32m            "shapes.p",[m
[32m+[m[32m            "stop_times.p",[m
[32m+[m[32m            "stops.p",[m
[32m+[m[32m            "translations.p",[m
[32m+[m[32m            "trips.p"],[m
[32m+[m[32m    tools = ["//projects/opentrain/pipeline/data_handler:data_handler"],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/builds/BUILD b/projects/opentrain/pipeline/builds/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..60086d1[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/builds/BUILD[m
[36m@@ -0,0 +1,35 @@[m
[32m+[m[32m# Pipeline definition[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step1",[m
[32m+[m[32m    srcs = ["@step1_data//:file1.txt", "@step1_data//:file2.txt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task1:task1) $(location @step1_data//:file1.txt) $(location @step1_data//:file2.txt) $@",[m
[32m+[m[32m    outs = ["merged_file1_file2.prototxt"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task1:task1"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2",[m
[32m+[m[32m    srcs = [":step1"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location :step1) $@",[m
[32m+[m[32m    outs = ["all_users.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses pre-downloaded output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_output//file:file"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_output//file:file) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt_from_archive",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_zipped_output//:merged_file1_file2.prototxt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_zipped_output//:merged_file1_file2.prototxt) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt_archive.count"],[m
[32m+[m[32m    tools = ["//projects/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/builds/task1 build/BUILD b/projects/opentrain/pipeline/builds/task1 build/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..7a806e5[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/builds/task1 build/BUILD[m	
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task1",[m
[32m+[m[32m    srcs = ["Task1.java"],[m
[32m+[m[32m    deps = ["//projects/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task1",[m
[32m+[m[32m    visibility = ["//projects/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task1-checkstyle",[m
[32m+[m[32m    target = ":task1",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/builds/task2 build/BUILD b/projects/opentrain/pipeline/builds/task2 build/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..20be311[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/builds/task2 build/BUILD[m	
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task2",[m
[32m+[m[32m    srcs = ["Task2.java"],[m
[32m+[m[32m    deps = ["//projects/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task2",[m
[32m+[m[32m    visibility = ["//projects/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task2-checkstyle",[m
[32m+[m[32m    target = ":task2",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/common/BUILD b/projects/opentrain/pipeline/common/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..874cbaa[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/common/BUILD[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mproto_library([m[41m[m
[32m+[m[32m    name = "common_proto",[m[41m[m
[32m+[m[32m    srcs = ["common.proto"][m[41m[m
[32m+[m[32m)[m[41m[m
[32m+[m[41m[m
[32m+[m[32mjava_proto_library([m[41m[m
[32m+[m[32m    name = "common_java_proto",[m[41m[m
[32m+[m[32m    deps = [":common_proto"],[m[41m[m
[32m+[m[32m    visibility = ["//visibility:public"][m[41m[m
[32m+[m[32m)[m
\ No newline at end of file[m
[1mdiff --git a/projects/opentrain/pipeline/common/common.proto b/projects/opentrain/pipeline/common/common.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..9e49c98[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/common/common.proto[m
[36m@@ -0,0 +1,102 @@[m
[32m+[m[32msyntax = "proto3";[m[41m[m
[32m+[m[41m[m
[32m+[m[32mpackage com.projects.opentrain.gtfs_pipeline;[m[41m[m
[32m+[m[41m[m
[32m+[m[32moption java_package = "com.projects.opentrain.gtfs_pipeline";[m[41m[m
[32m+[m[32moption java_outer_classname = "Protos";[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Agency {[m[41m[m
[32m+[m[32m   int32 agency_id = 1;[m[41m[m
[32m+[m[32m   string agency_name = 2;[m[41m[m
[32m+[m[32m   string agency_url = 3;[m[41m[m
[32m+[m[32m   string agency_timezone = 4;[m[41m[m
[32m+[m[32m   string agency_lang = 5;[m[41m[m
[32m+[m[32m   string agency_phone = 6;[m[41m[m
[32m+[m[32m   string agency_fare_url = 7;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Calendar {[m[41m[m
[32m+[m[32m   int32 service_id = 1;[m[41m[m
[32m+[m[32m   int32 sunday = 2;[m[41m[m
[32m+[m[32m   int32 monday = 3;[m[41m[m
[32m+[m[32m   int32 tuesday = 4;[m[41m[m
[32m+[m[32m   int32 wednesday = 5;[m[41m[m
[32m+[m[32m   int32 thursday = 6;[m[41m[m
[32m+[m[32m   int32 friday = 7;[m[41m[m
[32m+[m[32m   int32 saturday = 8;[m[41m[m
[32m+[m[32m   int32 start_date = 9;[m[41m[m
[32m+[m[32m   int32 end_date = 10;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage FareAttributes {[m[41m[m
[32m+[m[32m   int32 fare_id = 1;[m[41m[m
[32m+[m[32m   double price = 2;[m[41m[m
[32m+[m[32m   string currency_type = 3;[m[41m[m
[32m+[m[32m   int32 payment_method = 4;[m[41m[m
[32m+[m[32m   int32 transfers = 5;[m[41m[m
[32m+[m[32m   int32 agency_id = 6;[m[41m[m
[32m+[m[32m   string transfer_duration = 7;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage FareRules {[m[41m[m
[32m+[m[32m   int32 fare_id = 1;[m[41m[m
[32m+[m[32m   int32 route_id = 2;[m[41m[m
[32m+[m[32m   int32 origin_id = 3;[m[41m[m
[32m+[m[32m   int32 destination_id = 4;[m[41m[m
[32m+[m[32m   string contains_id = 5;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Route {[m[41m[m
[32m+[m[32m   int32 route_id = 1;[m[41m[m
[32m+[m[32m   int32 agency_id = 2;[m[41m[m
[32m+[m[32m   string route_short_name = 3;[m[41m[m
[32m+[m[32m   string route_long_name = 4;[m[41m[m
[32m+[m[32m   string route_desc = 5;[m[41m[m
[32m+[m[32m   int32 route_type = 6;[m[41m[m
[32m+[m[32m   string route_color = 7;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Shape {[m[41m[m
[32m+[m[32m   int32 shape_id = 1;[m[41m[m
[32m+[m[32m   double shape_pt_lat = 2;[m[41m[m
[32m+[m[32m   double shape_pt_lot = 3;[m[41m[m
[32m+[m[32m   int32 shape_pt_sequence = 4;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage StopTime {[m[41m[m
[32m+[m[32m   string trip_id = 1;[m[41m[m
[32m+[m[32m   string arrival_time = 2;[m[41m[m
[32m+[m[32m   string departure_time = 3;[m[41m[m
[32m+[m[32m   string stop_id = 4;[m[41m[m
[32m+[m[32m   string stop_sequence = 5;[m[41m[m
[32m+[m[32m   string pickup_type = 6;[m[41m[m
[32m+[m[32m   string drop_off_type = 7;[m[41m[m
[32m+[m[32m   string shape_dist_traveled = 8;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Stop {[m[41m[m
[32m+[m[32m   int32 stop_id = 1;[m[41m[m
[32m+[m[32m   int32 stop_code = 2;[m[41m[m
[32m+[m[32m   string stop_name = 3;[m[41m[m
[32m+[m[32m   string stop_desc = 4;[m[41m[m
[32m+[m[32m   double stop_lat = 5;[m[41m[m
[32m+[m[32m   double stop_lon = 6;[m[41m[m
[32m+[m[32m   int32 location_type = 7;[m[41m[m
[32m+[m[32m   string parent_station = 8;[m[41m[m
[32m+[m[32m   int32 zone_id = 9;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Translation {[m[41m[m
[32m+[m[32m   string trans_id = 1;[m[41m[m
[32m+[m[32m   string lang = 2;[m[41m[m
[32m+[m[32m   string translation = 3;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mmessage Trip {[m[41m[m
[32m+[m[32m   int32 route_id = 1;[m[41m[m
[32m+[m[32m   int32 service_id = 2;[m[41m[m
[32m+[m[32m   string trip_id = 3;[m[41m[m
[32m+[m[32m   string trip_headsign = 4;[m[41m[m
[32m+[m[32m   int32 direction_id = 5;[m[41m[m
[32m+[m[32m   string shape_id = 6;[m[41m[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/BUILD b/projects/opentrain/pipeline/data_analysis/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..f42af6f[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/BUILD[m
[36m@@ -0,0 +1,35 @@[m
[32m+[m[32m# Pipeline definition[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step1",[m
[32m+[m[32m    srcs = ["@step1_data//:file1.txt", "@step1_data//:file2.txt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task1:task1) $(location @step1_data//:file1.txt) $(location @step1_data//:file2.txt) $@",[m
[32m+[m[32m    outs = ["merged_file1_file2.prototxt"],[m
[32m+[m[32m    tools = ["//projects/opentrain/pipeline/data_analysis/task1:task1"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2",[m
[32m+[m[32m    srcs = [":step1"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location :step1) $@",[m
[32m+[m[32m    outs = ["all_users.count"],[m
[32m+[m[32m    tools = ["//projects/opentrain/pipeline/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32m# Uses pre-downloaded output of step 1[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_output//file:file"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_output//file:file) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt.count"],[m
[32m+[m[32m    tools = ["//projects/opentrain/pipeline/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mgenrule([m
[32m+[m[32m    name = "step2_prebuilt_from_archive",[m
[32m+[m[32m    srcs = ["@step1_prebuilt_zipped_output//:merged_file1_file2.prototxt"],[m
[32m+[m[32m    cmd = "$(location //projects/data_analysis/task2:task2) $(location @step1_prebuilt_zipped_output//:merged_file1_file2.prototxt) $@",[m
[32m+[m[32m    outs = ["all_users_prebuilt_archive.count"],[m
[32m+[m[32m    tools = ["//projects/opentrain/pipeline/data_analysis/task2:task2"],[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/README.md b/projects/opentrain/pipeline/data_analysis/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..176eeaa[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/README.md[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m# Sample data analysis pipeline[m
[32m+[m
[32m+[m[32mThis project simulates data analysis workflow with two steps:[m
[32m+[m[32m* step1: take first names from file1.txt, last names from file2.txt and make a prototxt out of them[m
[32m+[m[32m* step2: take prototxt from step1 (either from the task, or uploaded result file, or uploaded archive with file) and count number of users[m[41m [m
[32m+[m
[32m+[m[32mTo run step1:[m
[32m+[m[32m`bazel build //projects/data_analysis:step1`[m
[32m+[m
[32m+[m[32mThat will print out:[m
[32m+[m[32m```[m
[32m+[m[32mINFO: Invocation ID: 3d5cdade-758d-4505-b3c7-f4390ad90d32[m
[32m+[m[32mINFO: Analysed target //projects/data_analysis:step1 (0 packages loaded, 0 targets configured).[m
[32m+[m[32mINFO: Found 1 target...[m
[32m+[m[32mTarget //projects/data_analysis:step1 up-to-date:[m
[32m+[m[32m  bazel-genfiles/projects/data_analysis/merged_file1_file2.prototxt[m
[32m+[m[32mINFO: Elapsed time: 0.171s, Critical Path: 0.00s[m
[32m+[m[32mINFO: 0 processes.[m
[32m+[m[32mINFO: Build completed successfully, 1 total action[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32mThe output is in `bazel-genfiles/projects/data_analysis/merged_file1_file2.prototxt` (it is printed in the output above).[m
[32m+[m
[32m+[m[32mSimilarly, you can run:[m
[32m+[m[32m`bazel build //projects/data_analysis:step2`[m
[32m+[m[32m`bazel build //projects/data_analysis:step2_prebuilt`[m
[32m+[m[32m`bazel build //projects/data_analysis:step2_prebuilt_from_archive`[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/common/BUILD b/projects/opentrain/pipeline/data_analysis/common/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..466bd4a[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/common/BUILD[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mproto_library([m
[32m+[m[32m    name = "common",[m
[32m+[m[32m    srcs = ["messages.proto"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_proto_library([m
[32m+[m[32m    name = "java_common",[m
[32m+[m[32m    deps = [":common"],[m
[32m+[m[32m    visibility = ["//visibility:public"][m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/common/messages.proto b/projects/opentrain/pipeline/data_analysis/common/messages.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..617cdf3[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/common/messages.proto[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m
[32m+[m[32moption java_package = "com.example.tasks";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage User {[m
[32m+[m[32m    string first_name = 1;[m
[32m+[m[32m    string last_name = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Users {[m
[32m+[m[32m    repeated User users = 1;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/data/file1.txt b/projects/opentrain/pipeline/data_analysis/data/file1.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..8687273[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/data/file1.txt[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mOfer[m
[32m+[m[32mMax[m
[32m+[m[32mValerii[m
[32m+[m[32mVadim[m
[32m+[m[32mElina[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/data/file2.txt b/projects/opentrain/pipeline/data_analysis/data/file2.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..48c6b1a[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/data/file2.txt[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mBartal[m
[32m+[m[32mVorobev[m
[32m+[m[32mFedorenko[m
[32m+[m[32mWebdevelopland[m
[32m+[m[32mBartal[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/data/merged_file1_file2.prototxt b/projects/opentrain/pipeline/data_analysis/data/merged_file1_file2.prototxt[m
[1mnew file mode 100755[m
[1mindex 0000000..088d377[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/data/merged_file1_file2.prototxt[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Ofer"[m
[32m+[m[32m  last_name: "Bartal"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Max"[m
[32m+[m[32m  last_name: "Vorobev"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Valerii"[m
[32m+[m[32m  last_name: "Fedorenko"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Vadim"[m
[32m+[m[32m  last_name: "Webdevelopland"[m
[32m+[m[32m}[m
[32m+[m[32musers {[m
[32m+[m[32m  first_name: "Elina"[m
[32m+[m[32m  last_name: "Bartal"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/task1/BUILD b/projects/opentrain/pipeline/data_analysis/task1/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e823a4b[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/task1/BUILD[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task1",[m
[32m+[m[32m    srcs = ["Task1.java"],[m
[32m+[m[32m    deps = ["//projects/opentrain/pipeline/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task1",[m
[32m+[m[32m    visibility = ["//projects/opentrain/pipeline/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task1-checkstyle",[m
[32m+[m[32m    target = ":task1",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/task1/Task1.java b/projects/opentrain/pipeline/data_analysis/task1/Task1.java[m
[1mnew file mode 100644[m
[1mindex 0000000..c779492[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/task1/Task1.java[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32mpackage com.example.tasks;[m
[32m+[m
[32m+[m[32mimport com.example.tasks.Protos.User;[m
[32m+[m[32mimport com.example.tasks.Protos.Users;[m
[32m+[m[32mimport com.google.protobuf.TextFormat;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Files;[m
[32m+[m[32mimport java.nio.file.Path;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.stream.IntStream;[m
[32m+[m
[32m+[m[32mclass Task1 {[m
[32m+[m[32m  public static void main(String[] args) throws IOException {[m
[32m+[m[32m    Path file1 = Paths.get(args[0]);[m
[32m+[m[32m    Path file2 = Paths.get(args[1]);[m
[32m+[m[32m    Path outfile = Paths.get(args[2]);[m
[32m+[m
[32m+[m[32m    // read list of first and last names from two files[m
[32m+[m[32m    List<String> firstNames = Files.readAllLines(file1);[m
[32m+[m[32m    List<String> lastNames = Files.readAllLines(file2);[m
[32m+[m
[32m+[m[32m    Users.Builder allUsersBuilder = Users.newBuilder();[m
[32m+[m
[32m+[m[32m    // combine them into proto messages one-by-one and add to allUsersBuilder[m
[32m+[m[32m    IntStream.range(0, firstNames.size())[m
[32m+[m[32m        .mapToObj([m
[32m+[m[32m            i ->[m
[32m+[m[32m                User.newBuilder()[m
[32m+[m[32m                    .setFirstName(firstNames.get(i))[m
[32m+[m[32m                    .setLastName(lastNames.get(i))[m
[32m+[m[32m                    .build())[m
[32m+[m[32m        .forEach(allUsersBuilder::addUsers);[m
[32m+[m
[32m+[m[32m    // write to output file as prototxt for further processing[m
[32m+[m[32m    Files.write(outfile, TextFormat.printToString(allUsersBuilder).getBytes());[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/task2/BUILD b/projects/opentrain/pipeline/data_analysis/task2/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..a7fba20[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/task2/BUILD[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "task2",[m
[32m+[m[32m    srcs = ["Task2.java"],[m
[32m+[m[32m    deps = ["//projects/opentrain/pipeline/data_analysis/common:java_common", "//third_party/maven/com/google/protobuf:protobuf_java"],[m
[32m+[m[32m    main_class = "com.example.tasks.Task2",[m
[32m+[m[32m    visibility = ["//projects/opentrain/pipeline/data_analysis:__pkg__"][m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "task2-checkstyle",[m
[32m+[m[32m    target = ":task2",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[1mdiff --git a/projects/opentrain/pipeline/data_analysis/task2/Task2.java b/projects/opentrain/pipeline/data_analysis/task2/Task2.java[m
[1mnew file mode 100644[m
[1mindex 0000000..29c850e[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_analysis/task2/Task2.java[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32mpackage com.example.tasks;[m
[32m+[m
[32m+[m[32mimport com.example.tasks.Protos.Users;[m
[32m+[m[32mimport com.google.protobuf.TextFormat;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Files;[m
[32m+[m[32mimport java.nio.file.Path;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m
[32m+[m[32mclass Task2 {[m
[32m+[m[32m  public static void main(String[] args) throws IOException {[m
[32m+[m[32m    Path file1 = Paths.get(args[0]);[m
[32m+[m[32m    Path outfile = Paths.get(args[1]);[m
[32m+[m
[32m+[m[32m    // read prototxt[m
[32m+[m[32m    String protoTxt = new String(Files.readAllBytes(file1));[m
[32m+[m
[32m+[m[32m    // parse into proto message instance[m
[32m+[m[32m    Users.Builder builder = Users.newBuilder();[m
[32m+[m[32m    TextFormat.merge(protoTxt, builder);[m
[32m+[m
[32m+[m[32m    // count all users in parsed proto[m
[32m+[m[32m    String stats =[m
[32m+[m[32m        String.format("Total number of users read: %d\n", builder.build().getUsersCount());[m
[32m+[m
[32m+[m[32m    // write out stats for further processing[m
[32m+[m[32m    Files.write(outfile, stats.getBytes());[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/opentrain/pipeline/data_handler/BUILD b/projects/opentrain/pipeline/data_handler/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..a3d275e[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_handler/BUILD[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m[41m[m
[32m+[m[41m[m
[32m+[m[32mcheckstyle_test([m[41m[m
[32m+[m[32m    name = "data_handler-checkstyle",[m[41m[m
[32m+[m[32m    target = ":data_handler",[m[41m[m
[32m+[m[32m    allow_failure = 1,[m[41m[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m[41m[m
[32m+[m[32m)[m[41m[m
[32m+[m[41m[m
[32m+[m[32mjava_binary([m[41m[m
[32m+[m[32m    name = "data_handler",[m[41m[m
[32m+[m[32m    srcs = ["DataHandler.java"],[m[41m[m
[32m+[m[32m    deps = ["//projects/opentrain/gtfs_pipeline/common:common_java_proto",[m[41m[m
[32m+[m[32m            "//third_party/maven/com/google/protobuf:protobuf_java",[m[41m[m
[32m+[m[32m            "//third_party/maven/org/apache/commons:commons_csv"],[m[41m[m
[32m+[m[32m    main_class = "projects.opentrain.gtfs_pipeline.data_handler.DataHandler",[m[41m[m
[32m+[m[32m    visibility = ["//visibility:public"],[m[41m[m
[32m+[m[32m)[m
\ No newline at end of file[m
[1mdiff --git a/projects/opentrain/pipeline/data_handler/DataHandler.java b/projects/opentrain/pipeline/data_handler/DataHandler.java[m
[1mnew file mode 100644[m
[1mindex 0000000..3a2fdee[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/data_handler/DataHandler.java[m
[36m@@ -0,0 +1,413 @@[m
[32m+[m[32mpackage projects.opentrain.gtfs_pipeline.data_handler;[m
[32m+[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Agency;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Calendar;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.FareAttributes;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.FareRules;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Route;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Shape;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Stop;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.StopTime;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Translation;[m
[32m+[m[32mimport com.projects.opentrain.gtfs_pipeline.Protos.Trip;[m
[32m+[m
[32m+[m[32mimport java.io.FileOutputStream;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.charset.StandardCharsets;[m
[32m+[m[32mimport java.nio.file.Path;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m
[32m+[m[32mimport org.apache.commons.csv.CSVFormat;[m
[32m+[m[32mimport org.apache.commons.csv.CSVParser;[m
[32m+[m[32mimport org.apache.commons.csv.CSVRecord;[m
[32m+[m
[32m+[m[32mclass DataHandler {[m
[32m+[m
[32m+[m[32m  public static void saveAgency(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "agency_id",[m
[32m+[m[32m                  "agency_name",[m
[32m+[m[32m                  "agency_url",[m
[32m+[m[32m                  "agency_timezone",[m
[32m+[m[32m                  "agency_lang",[m
[32m+[m[32m                  "agency_phone",[m
[32m+[m[32m                  "agency_fare_url"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Agency.Builder agency = Agency.newBuilder();[m
[32m+[m[32m        agency[m
[32m+[m[32m            .setAgencyId(Integer.parseInt(record.get("agency_id")))[m
[32m+[m[32m            .setAgencyName(record.get("agency_name"))[m
[32m+[m[32m            .setAgencyUrl(record.get("agency_url"))[m
[32m+[m[32m            .setAgencyTimezone(record.get("agency_timezone"))[m
[32m+[m[32m            .setAgencyLang(record.get("agency_lang"))[m
[32m+[m[32m            .setAgencyPhone(record.get("agency_phone"))[m
[32m+[m[32m            .setAgencyFareUrl(record.get("agency_fare_url"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveCalendar(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "service_id",[m
[32m+[m[32m                  "sunday",[m
[32m+[m[32m                  "monday",[m
[32m+[m[32m                  "tuesday",[m
[32m+[m[32m                  "wednesday",[m
[32m+[m[32m                  "thursday",[m
[32m+[m[32m                  "friday",[m
[32m+[m[32m                  "saturday",[m
[32m+[m[32m                  "start_date",[m
[32m+[m[32m                  "end_date"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Calendar.Builder calendar = Calendar.newBuilder();[m
[32m+[m[32m        calendar[m
[32m+[m[32m            .setServiceId(Integer.parseInt(record.get("service_id")))[m
[32m+[m[32m            .setSunday(Integer.parseInt(record.get("sunday")))[m
[32m+[m[32m            .setMonday(Integer.parseInt(record.get("monday")))[m
[32m+[m[32m            .setTuesday(Integer.parseInt(record.get("tuesday")))[m
[32m+[m[32m            .setWednesday(Integer.parseInt(record.get("wednesday")))[m
[32m+[m[32m            .setThursday(Integer.parseInt(record.get("thursday")))[m
[32m+[m[32m            .setFriday(Integer.parseInt(record.get("friday")))[m
[32m+[m[32m            .setSaturday(Integer.parseInt(record.get("saturday")))[m
[32m+[m[32m            .setStartDate(Integer.parseInt(record.get("start_date")))[m
[32m+[m[32m            .setEndDate(Integer.parseInt(record.get("end_date")))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveFareAttributes(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "fare_id",[m
[32m+[m[32m                  "price",[m
[32m+[m[32m                  "currency_type",[m
[32m+[m[32m                  "payment_method",[m
[32m+[m[32m                  "transfers",[m
[32m+[m[32m                  "agency_id",[m
[32m+[m[32m                  "transfer_duration"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        FareAttributes.Builder fareAttributes = FareAttributes.newBuilder();[m
[32m+[m[32m        fareAttributes[m
[32m+[m[32m            .setFareId(Integer.parseInt(record.get("fare_id")))[m
[32m+[m[32m            .setPrice(Double.parseDouble(record.get("price")))[m
[32m+[m[32m            .setCurrencyType(record.get("currency_type"))[m
[32m+[m[32m            .setPaymentMethod(Integer.parseInt(record.get("payment_method")))[m
[32m+[m[32m            .setTransfers(Integer.parseInt(record.get("transfers")))[m
[32m+[m[32m            .setAgencyId(Integer.parseInt(record.get("agency_id")))[m
[32m+[m[32m            .setTransferDuration(record.get("transfer_duration"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveFareRules(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "fare_id", "route_id", "origin_id", "destination_id", "contains_id"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        FareRules.Builder fareRule = FareRules.newBuilder();[m
[32m+[m[32m        fareRule[m
[32m+[m[32m            .setFareId(Integer.parseInt(record.get("fare_id")))[m
[32m+[m[32m            .setRouteId(Integer.parseInt(record.get("route_id")))[m
[32m+[m[32m            .setOriginId(Integer.parseInt(record.get("origin_id")))[m
[32m+[m[32m            .setDestinationId(Integer.parseInt(record.get("destination_id")))[m
[32m+[m[32m            .setContainsId(record.get("contains_id"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveRoutes(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "route_id",[m
[32m+[m[32m                  "agency_id",[m
[32m+[m[32m                  "route_short_name",[m
[32m+[m[32m                  "route_long_name",[m
[32m+[m[32m                  "route_desc",[m
[32m+[m[32m                  "route_type",[m
[32m+[m[32m                  "route_color"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Route.Builder route = Route.newBuilder();[m
[32m+[m[32m        route[m
[32m+[m[32m            .setRouteId(Integer.parseInt(record.get("route_id")))[m
[32m+[m[32m            .setAgencyId(Integer.parseInt(record.get("agency_id")))[m
[32m+[m[32m            .setRouteShortName(record.get("route_short_name"))[m
[32m+[m[32m            .setRouteLongName(record.get("route_long_name"))[m
[32m+[m[32m            .setRouteDesc(record.get("route_desc"))[m
[32m+[m[32m            .setRouteType(Integer.parseInt(record.get("route_type")))[m
[32m+[m[32m            .setRouteColor(record.get("route_color"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveShapes(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "shape_id", "shape_pt_lat", "shape_pt_lon", "shape_pt_sequence"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Shape.Builder shape = Shape.newBuilder();[m
[32m+[m[32m        shape[m
[32m+[m[32m            .setShapeId(Integer.parseInt(record.get("shape_id")))[m
[32m+[m[32m            .setShapePtLat(Double.parseDouble(record.get("shape_pt_lat")))[m
[32m+[m[32m            .setShapePtLot(Double.parseDouble(record.get("shape_pt_lon")))[m
[32m+[m[32m            .setShapePtSequence(Integer.parseInt(record.get("shape_pt_sequence")))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveStopTimes(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "trip_id",[m
[32m+[m[32m                  "arrival_time",[m
[32m+[m[32m                  "departure_time",[m
[32m+[m[32m                  "stop_id",[m
[32m+[m[32m                  "stop_sequence",[m
[32m+[m[32m                  "pickup_type",[m
[32m+[m[32m                  "drop_off_type",[m
[32m+[m[32m                  "shape_dist_traveled"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        StopTime.Builder stopTime = StopTime.newBuilder();[m
[32m+[m[32m        stopTime[m
[32m+[m[32m            .setTripId(record.get("trip_id"))[m
[32m+[m[32m            .setArrivalTime(record.get("arrival_time"))[m
[32m+[m[32m            .setDepartureTime(record.get("departure_time"))[m
[32m+[m[32m            .setStopId(record.get("stop_id"))[m
[32m+[m[32m            .setStopSequence(record.get("stop_sequence"))[m
[32m+[m[32m            .setPickupType(record.get("pickup_type"))[m
[32m+[m[32m            .setDropOffType(record.get("drop_off_type"))[m
[32m+[m[32m            .setShapeDistTraveled(record.get("shape_dist_traveled"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveStops(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "stop_id",[m
[32m+[m[32m                  "stop_code",[m
[32m+[m[32m                  "stop_name",[m
[32m+[m[32m                  "stop_desc",[m
[32m+[m[32m                  "stop_lat",[m
[32m+[m[32m                  "stop_lon",[m
[32m+[m[32m                  "location_type",[m
[32m+[m[32m                  "parent_station",[m
[32m+[m[32m                  "zone_id"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Stop.Builder stop = Stop.newBuilder();[m
[32m+[m[32m        stop.setStopId(Integer.parseInt(record.get("stop_id")))[m
[32m+[m[32m            .setStopCode(Integer.parseInt(record.get("stop_code")))[m
[32m+[m[32m            .setStopName(record.get("stop_name"))[m
[32m+[m[32m            .setStopDesc(record.get("stop_desc"))[m
[32m+[m[32m            .setStopLat(Double.parseDouble(record.get("stop_lat")))[m
[32m+[m[32m            .setStopLon(Double.parseDouble(record.get("stop_lon")))[m
[32m+[m[32m            .setLocationType(Integer.parseInt(record.get("location_type")))[m
[32m+[m[32m            .setParentStation(record.get("parent_station"))[m
[32m+[m[32m            .setZoneId(Integer.parseInt(record.get("zone_id")))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveTranslations(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withQuote(null).withHeader("trans_id", "lang", "translation"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Translation.Builder translation = Translation.newBuilder();[m
[32m+[m[32m        translation[m
[32m+[m[32m            .setTransId(record.get("trans_id"))[m
[32m+[m[32m            .setLang(record.get("lang"))[m
[32m+[m[32m            .setTranslation(record.get("translation"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveTrips(Path csvPath, String path) {[m
[32m+[m[32m    try (FileOutputStream output = new FileOutputStream(path)) {[m
[32m+[m[32m      CSVParser parser =[m
[32m+[m[32m          CSVParser.parse([m
[32m+[m[32m              csvPath,[m
[32m+[m[32m              StandardCharsets.UTF_8,[m
[32m+[m[32m              CSVFormat.DEFAULT.withHeader([m
[32m+[m[32m                  "route_id",[m
[32m+[m[32m                  "service_id",[m
[32m+[m[32m                  "trip_id",[m
[32m+[m[32m                  "trip_headsign",[m
[32m+[m[32m                  "direction_id",[m
[32m+[m[32m                  "shape_id"));[m
[32m+[m[32m      boolean isHeader = true;[m
[32m+[m[32m      for (CSVRecord record : parser) {[m
[32m+[m[32m        if (isHeader) {[m
[32m+[m[32m          isHeader = false;[m
[32m+[m[32m          continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        Trip.Builder trip = Trip.newBuilder();[m
[32m+[m[32m        trip.setRouteId(Integer.parseInt(record.get("route_id")))[m
[32m+[m[32m            .setServiceId(Integer.parseInt(record.get("service_id")))[m
[32m+[m[32m            .setTripId(record.get("trip_id"))[m
[32m+[m[32m            .setTripHeadsign(record.get("trip_headsign"))[m
[32m+[m[32m            .setDirectionId(Integer.parseInt(record.get("direction_id")))[m
[32m+[m[32m            .setShapeId(record.get("shape_id"))[m
[32m+[m[32m            .build()[m
[32m+[m[32m            .writeDelimitedTo(output);[m
[32m+[m[32m      }[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void main(String[] args) {[m
[32m+[m[32m    // Paths to the CSVs files[m
[32m+[m[32m    final Path agencyTxt = Paths.get(args[0]);[m
[32m+[m[32m    final Path calendarTxt = Paths.get(args[1]);[m
[32m+[m[32m    final Path fareAttributesTxt = Paths.get(args[2]);[m
[32m+[m[32m    final Path fareRulesTxt = Paths.get(args[3]);[m
[32m+[m[32m    final Path routesTxt = Paths.get(args[4]);[m
[32m+[m[32m    final Path shapesTxt = Paths.get(args[5]);[m
[32m+[m[32m    final Path stopTimesTxt = Paths.get(args[6]);[m
[32m+[m[32m    final Path stopsTxt = Paths.get(args[7]);[m
[32m+[m[32m    final Path translationsTxt = Paths.get(args[8]);[m
[32m+[m[32m    final Path tripsTxt = Paths.get(args[9]);[m
[32m+[m
[32m+[m[32m    // Paths to the output files[m
[32m+[m[32m    final String agencyOutputPath = args[args.length - 10];[m
[32m+[m[32m    final String calendarOutputPath = args[args.length - 9];[m
[32m+[m[32m    final String fareAttributesOutputPath = args[args.length - 8];[m
[32m+[m[32m    final String fareRulesOutputPath = args[args.length - 7];[m
[32m+[m[32m    final String routesOutputPath = args[args.length - 6];[m
[32m+[m[32m    final String shapesOutputPath = args[args.length - 5];[m
[32m+[m[32m    final String stopTimesOutputPath = args[args.length - 4];[m
[32m+[m[32m    final String stopsOutputPath = args[args.length - 3];[m
[32m+[m[32m    final String translationsOutputPath = args[args.length - 2];[m
[32m+[m[32m    final String tripsOutputPath = args[args.length - 1];[m
[32m+[m
[32m+[m[32m    saveAgency(agencyTxt, agencyOutputPath);[m
[32m+[m[32m    saveCalendar(calendarTxt, calendarOutputPath);[m
[32m+[m[32m    saveFareAttributes(fareAttributesTxt, fareAttributesOutputPath);[m
[32m+[m[32m    saveFareRules(fareRulesTxt, fareRulesOutputPath);[m
[32m+[m[32m    saveRoutes(routesTxt, routesOutputPath);[m
[32m+[m[32m    saveShapes(shapesTxt, shapesOutputPath);[m
[32m+[m[32m    saveStopTimes(stopTimesTxt, stopTimesOutputPath);[m
[32m+[m[32m    saveStops(stopsTxt, stopsOutputPath);[m
[32m+[m[32m    saveTranslations(translationsTxt, translationsOutputPath);[m
[32m+[m[32m    saveTrips(tripsTxt, tripsOutputPath);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/projects/opentrain/pipeline/hasadna b/projects/opentrain/pipeline/hasadna[m
[1mnew file mode 160000[m
[1mindex 0000000..73ffd54[m
[1m--- /dev/null[m
[1m+++ b/projects/opentrain/pipeline/hasadna[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mSubproject commit 73ffd540e6a5416a1045fcacd46408326a8518b5[m
[1mdiff --git a/projects/program-website/.editorconfig b/projects/program-website/.editorconfig[m
[1mnew file mode 100644[m
[1mindex 0000000..e89330a[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/.editorconfig[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m# Editor configuration, see https://editorconfig.org[m
[32m+[m[32mroot = true[m
[32m+[m
[32m+[m[32m[*][m
[32m+[m[32mcharset = utf-8[m
[32m+[m[32mindent_style = space[m
[32m+[m[32mindent_size = 2[m
[32m+[m[32minsert_final_newline = true[m
[32m+[m[32mtrim_trailing_whitespace = true[m
[32m+[m
[32m+[m[32m[*.md][m
[32m+[m[32mmax_line_length = off[m
[32m+[m[32mtrim_trailing_whitespace = false[m
[1mdiff --git a/projects/program-website/.gitignore b/projects/program-website/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..6b65e09[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/.gitignore[m
[36m@@ -0,0 +1,45 @@[m
[32m+[m[32m# See http://help.github.com/ignore-files/ for more about ignoring files.[m
[32m+[m
[32m+[m[32m# compiled output[m
[32m+[m[32m/dist[m
[32m+[m[32m/tmp[m
[32m+[m[32m/out-tsc[m
[32m+[m
[32m+[m[32m# dependencies[m
[32m+[m[32m/node_modules[m
[32m+[m[32m/src/app/core/proto[m
[32m+[m
[32m+[m[32m# profiling files[m
[32m+[m[32mchrome-profiler-events.json[m
[32m+[m[32mspeed-measure-plugin.json[m
[32m+[m
[32m+[m[32m# IDEs and editors[m
[32m+[m[32m/.idea[m
[32m+[m[32m.project[m
[32m+[m[32m.classpath[m
[32m+[m[32m.c9/[m
[32m+[m[32m*.launch[m
[32m+[m[32m.settings/[m
[32m+[m[32m*.sublime-workspace[m
[32m+[m
[32m+[m[32m# IDE - VSCode[m
[32m+[m[32m.vscode/*[m
[32m+[m[32m!.vscode/settings.json[m
[32m+[m[32m!.vscode/tasks.json[m
[32m+[m[32m!.vscode/launch.json[m
[32m+[m[32m!.vscode/extensions.json[m
[32m+[m[32m.history/*[m
[32m+[m
[32m+[m[32m# misc[m
[32m+[m[32m/.sass-cache[m
[32m+[m[32m/connect.lock[m
[32m+[m[32m/coverage[m
[32m+[m[32m/libpeerconnection.log[m
[32m+[m[32mnpm-debug.log[m
[32m+[m[32myarn-error.log[m
[32m+[m[32mtestem.log[m
[32m+[m[32m/typings[m
[32m+[m
[32m+[m[32m# System Files[m
[32m+[m[32m.DS_Store[m
[32m+[m[32mThumbs.db[m
[1mdiff --git a/projects/program-website/README.md b/projects/program-website/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..1c4ecca[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/README.md[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m# Protobin reader template[m
[32m+[m
[32m+[m[32mTo set up your development environment, follow these steps:[m
[32m+[m
[32m+[m[32m## Installation[m
[32m+[m[32mInstall these:[m
[32m+[m[32m* [node](https://nodejs.org/) version 8.11.4[m
[32m+[m[32m* [npm](https://www.npmjs.com/) version 5.6.0[m
[32m+[m[32m* [google-protobuf](https://github.com/protocolbuffers/protobuf/releases), version 3.6.1[m
[32m+[m
[32m+[m[32m(Installation of exact versions is not required, but recommended. We can't guarantee that webapp will work properly with different versions.)[m
[32m+[m
[32m+[m[32mOptional:[m
[32m+[m[32m* [firebase](https://firebase.google.com/docs/hosting/quickstart), to be able to deploy.[m
[32m+[m[32m* [angular](https://angular.io/), to use `ng` features.[m
[32m+[m
[32m+[m[32mRun `npm install` to install npm modules[m[41m  [m
[32m+[m
[32m+[m[32mRun `npm run protoc` to generate proto functions.[m[41m  [m
[32m+[m
[32m+[m[32m## Running the server locally[m
[32m+[m[32mRun `npm start` to start a dev server. Navigate to `http://localhost:4200/`[m[41m  [m
[32m+[m[32mRun `npm run build` to make a build.[m[41m  [m
[32m+[m[32mRun `npm run deploy` to publish the app on the server.[m[41m  [m
[32m+[m[32mRun `npm run functions` to update cloud functions on the server.[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase hosting:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/hosting/quickstart[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase functions:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/functions/get-started[m[41m  [m
[32m+[m
[32m+[m[32m## Updating protos[m
[32m+[m[32mAfter every proto update, run `npm run protoc`.[m
[32m+[m
[32m+[m[32m## Supported platforms[m
[32m+[m[32mDevelopment is supported on Linux and Mac only (`npm run protoc` doesn't support Windows).[m
[32m+[m
[32m+[m[32m## Development[m
[32m+[m[32mThe information might be useful:[m
[32m+[m[32m* [AngularFire](https://github.com/angular/angularfire2/tree/master/docs)[m
[32m+[m[32m* [Protocol Buffers](https://developers.google.com/protocol-buffers/)[m
[1mdiff --git a/projects/program-website/angular.json b/projects/program-website/angular.json[m
[1mnew file mode 100644[m
[1mindex 0000000..ef59dba[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/angular.json[m
[36m@@ -0,0 +1,139 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",[m
[32m+[m[32m  "version": 1,[m
[32m+[m[32m  "newProjectRoot": "projects",[m
[32m+[m[32m  "projects": {[m
[32m+[m[32m    "protobin-reader": {[m
[32m+[m[32m      "root": "",[m
[32m+[m[32m      "sourceRoot": "src",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "app",[m
[32m+[m[32m      "schematics": {[m
[32m+[m[32m        "@schematics/angular:component": {[m
[32m+[m[32m          "styleext": "scss"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "build": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:browser",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "outputPath": "dist/protobin-reader",[m
[32m+[m[32m            "index": "src/index.html",[m
[32m+[m[32m            "main": "src/main.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.app.json",[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [][m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "fileReplacements": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "replace": "src/environments/environment.ts",[m
[32m+[m[32m                  "with": "src/environments/environment.prod.ts"[m
[32m+[m[32m                }[m
[32m+[m[32m              ],[m
[32m+[m[32m              "optimization": true,[m
[32m+[m[32m              "outputHashing": "all",[m
[32m+[m[32m              "sourceMap": false,[m
[32m+[m[32m              "extractCss": true,[m
[32m+[m[32m              "namedChunks": false,[m
[32m+[m[32m              "aot": true,[m
[32m+[m[32m              "extractLicenses": true,[m
[32m+[m[32m              "vendorChunk": false,[m
[32m+[m[32m              "buildOptimizer": true,[m
[32m+[m[32m              "budgets": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "type": "initial",[m
[32m+[m[32m                  "maximumWarning": "2mb",[m
[32m+[m[32m                  "maximumError": "5mb"[m
[32m+[m[32m                }[m
[32m+[m[32m              ][m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "serve": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:dev-server",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "browserTarget": "protobin-reader:build:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "extract-i18n": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:extract-i18n",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "test": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:karma",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "main": "src/test.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.spec.json",[m
[32m+[m[32m            "karmaConfig": "src/karma.conf.js",[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [],[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": [[m
[32m+[m[32m              "src/tsconfig.app.json",[m
[32m+[m[32m              "src/tsconfig.spec.json"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    "protobin-reader-e2e": {[m
[32m+[m[32m      "root": "e2e/",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "",[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "e2e": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:protractor",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "protractorConfig": "e2e/protractor.conf.js",[m
[32m+[m[32m            "devServerTarget": "protobin-reader:serve"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "devServerTarget": "protobin-reader:serve:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": "e2e/tsconfig.e2e.json",[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  "defaultProject": "protobin-reader"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/e2e/protractor.conf.js b/projects/program-website/e2e/protractor.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..440ef8f[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/e2e/protractor.conf.js[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m// Protractor configuration file, see link for more information[m
[32m+[m[32m// https://github.com/angular/protractor/blob/master/lib/config.ts[m
[32m+[m
[32m+[m[32mconst { SpecReporter } = require('jasmine-spec-reporter');[m
[32m+[m
[32m+[m[32mexports.config = {[m
[32m+[m[32m  allScriptsTimeout: 11000,[m
[32m+[m[32m  specs: [[m
[32m+[m[32m    './src/**/*.e2e-spec.ts'[m
[32m+[m[32m  ],[m
[32m+[m[32m  capabilities: {[m
[32m+[m[32m    'browserName': 'chrome'[m
[32m+[m[32m  },[m
[32m+[m[32m  directConnect: true,[m
[32m+[m[32m  baseUrl: 'http://localhost:4200/',[m
[32m+[m[32m  framework: 'jasmine',[m
[32m+[m[32m  jasmineNodeOpts: {[m
[32m+[m[32m    showColors: true,[m
[32m+[m[32m    defaultTimeoutInterval: 30000,[m
[32m+[m[32m    print: function() {}[m
[32m+[m[32m  },[m
[32m+[m[32m  onPrepare() {[m
[32m+[m[32m    require('ts-node').register({[m
[32m+[m[32m      project: require('path').join(__dirname, './tsconfig.e2e.json')[m
[32m+[m[32m    });[m
[32m+[m[32m    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));[m
[32m+[m[32m  }[m
[32m+[m[32m};[m
[1mdiff --git a/projects/program-website/e2e/src/app.e2e-spec.ts b/projects/program-website/e2e/src/app.e2e-spec.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..50bfc7b[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/e2e/src/app.e2e-spec.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { AppPage } from './app.po';[m
[32m+[m
[32m+[m[32mdescribe('workspace-project App', () => {[m
[32m+[m[32m  let page: AppPage;[m
[32m+[m
[32m+[m[32m  beforeEach(() => {[m
[32m+[m[32m    page = new AppPage();[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  it('should display welcome message', () => {[m
[32m+[m[32m    page.navigateTo();[m
[32m+[m[32m    expect(page.getTitleText()).toEqual('Welcome to protobin-reader!');[m
[32m+[m[32m  });[m
[32m+[m[32m});[m
[1mdiff --git a/projects/program-website/e2e/src/app.po.ts b/projects/program-website/e2e/src/app.po.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..72e463a[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/e2e/src/app.po.ts[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mimport { browser, by, element } from 'protractor';[m
[32m+[m
[32m+[m[32mexport class AppPage {[m
[32m+[m[32m  navigateTo() {[m
[32m+[m[32m    return browser.get('/');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getTitleText() {[m
[32m+[m[32m    return element(by.css('app-root h1')).getText();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/e2e/tsconfig.e2e.json b/projects/program-website/e2e/tsconfig.e2e.json[m
[1mnew file mode 100644[m
[1mindex 0000000..77d311e[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/e2e/tsconfig.e2e.json[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "module": "commonjs",[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "jasminewd2",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/gulpfile.js b/projects/program-website/gulpfile.js[m
[1mnew file mode 100644[m
[1mindex 0000000..e3fd4d2[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/gulpfile.js[m
[36m@@ -0,0 +1,89 @@[m
[32m+[m[32mconst path = require('path');[m
[32m+[m[32mconst fs = require('fs-extra');[m[41m  [m
[32m+[m[32mconst gulp = require('gulp');[m
[32m+[m[32mconst clean = require('gulp-clean');[m
[32m+[m[32mconst { exec } = require('child_process');[m
[32m+[m
[32m+[m[32mconst protoImportPathList = [[m
[32m+[m[32m  './proto/data.proto',[m
[32m+[m[32m];[m
[32m+[m[32mconst exportProtoPath = './src/app/core/proto';[m
[32m+[m[32mconst functionsPath = path.join(exportProtoPath, 'functions');[m
[32m+[m
[32m+[m[32mgulp.task('protoc', (done) => {[m
[32m+[m[32m  let protoImportList = [];[m
[32m+[m[41m  [m
[32m+[m[32m  // Remove old functions (if they exist)[m
[32m+[m[32m  fs.exists(exportProtoPath, exists => {[m
[32m+[m[32m    if (exists) {[m
[32m+[m[32m      gulp.src(exportProtoPath)[m
[32m+[m[32m        .pipe(clean())[m
[32m+[m[32m        .on('data', () => {})[m
[32m+[m[32m        .on('end', createFunctions);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      createFunctions();[m
[32m+[m[32m    }[m
[32m+[m[32m  });[m
[32m+[m[41m  [m
[32m+[m[32m  function createFunctions() {[m
[32m+[m[32m    // Create a proto folder[m
[32m+[m[32m    fs.mkdirSync(exportProtoPath);[m
[32m+[m
[32m+[m[32m    // Copy all packages to the proto folder[m
[32m+[m[32m    function copyPackage(relativePath) {[m
[32m+[m[32m      const filename = path.parse(relativePath).base;[m
[32m+[m[32m      protoImportList.push(filename);[m
[32m+[m[32m      const newPackagePath = path.join(functionsPath, filename);[m
[32m+[m[32m      fs.copySync(relativePath, newPackagePath);[m
[32m+[m
[32m+[m[32m      return newPackagePath;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (const importPathList of protoImportPathList) {[m
[32m+[m[32m      copyPackage(importPathList);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Create proto functions from the packages in the proto folder[m
[32m+[m[32m    const protoImport = protoImportList.join(' ');[m
[32m+[m[32m    exec([m
[32m+[m[32m      'protoc ' +[m
[32m+[m[32m        `--proto_path=${functionsPath} ` +[m
[32m+[m[32m        `--js_out=import_style=commonjs,binary:${functionsPath} ` +[m
[32m+[m[32m        '--plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts ' +[m
[32m+[m[32m        `--ts_out=${functionsPath} ` +[m
[32m+[m[32m        protoImport,[m
[32m+[m[32m      removeProtoFiles[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Removes all *.proto files from the proto folder[m
[32m+[m[32m  function removeProtoFiles(error) {[m
[32m+[m[32m    if (error) {[m
[32m+[m[32m      throw error;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    gulp.src(path.join(functionsPath, '**/*.proto'))[m
[32m+[m[32m      .pipe(clean())[m
[32m+[m[32m      .on('data', () => {})[m
[32m+[m[32m      .on('end', createIndexFile);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Creates index file for proto functions[m
[32m+[m[32m  function createIndexFile() {[m
[32m+[m[32m    let indexTS = '';[m
[32m+[m[32m    for(let filepath of protoImportList) {[m
[32m+[m[32m      const dir = path.parse(filepath).dir;[m
[32m+[m[32m      const filename = path.parse(filepath).name + '_pb';[m
[32m+[m[32m      const indexpath = path.join(dir, filename);[m
[32m+[m[32m      indexTS += "export * from './functions/" + indexpath + "';\n";[m
[32m+[m[32m    }[m
[32m+[m[32m    fs.writeFileSync(path.join(exportProtoPath, 'index.ts'), indexTS);[m
[32m+[m
[32m+[m[32m    onLoad();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function onLoad() {[m
[32m+[m[32m    console.log('Proto functions are successfully created.');[m
[32m+[m[32m    done();[m
[32m+[m[32m  }[m
[32m+[m[32m});[m
[1mdiff --git a/projects/program-website/package.json b/projects/program-website/package.json[m
[1mnew file mode 100644[m
[1mindex 0000000..3978503[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/package.json[m
[36m@@ -0,0 +1,55 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "name": "protobin-reader",[m
[32m+[m[32m  "version": "0.0.0",[m
[32m+[m[32m  "scripts": {[m
[32m+[m[32m    "ng": "ng",[m
[32m+[m[32m    "start": "ng serve",[m
[32m+[m[32m    "build": "ng build",[m
[32m+[m[32m    "test": "ng test",[m
[32m+[m[32m    "lint": "ng lint",[m
[32m+[m[32m    "e2e": "ng e2e",[m
[32m+[m[32m    "protoc": "gulp protoc"[m
[32m+[m[32m  },[m
[32m+[m[32m  "dependencies": {[m
[32m+[m[32m    "@angular/animations": "~7.2.0",[m
[32m+[m[32m    "@angular/common": "~7.2.0",[m
[32m+[m[32m    "@angular/compiler": "~7.2.0",[m
[32m+[m[32m    "@angular/core": "~7.2.0",[m
[32m+[m[32m    "@angular/forms": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser-dynamic": "~7.2.0",[m
[32m+[m[32m    "@angular/router": "~7.2.0",[m
[32m+[m[32m    "core-js": "^2.5.4",[m
[32m+[m[32m    "rxjs": "~6.3.3",[m
[32m+[m[32m    "tslib": "^1.9.0",[m
[32m+[m[32m    "zone.js": "~0.8.26"[m
[32m+[m[32m  },[m
[32m+[m[32m  "devDependencies": {[m
[32m+[m[32m    "@angular-devkit/build-angular": "~0.12.0",[m
[32m+[m[32m    "@angular/cli": "~7.2.1",[m
[32m+[m[32m    "@angular/compiler-cli": "~7.2.0",[m
[32m+[m[32m    "@angular/language-service": "~7.2.0",[m
[32m+[m[32m    "@types/jasmine": "~2.8.8",[m
[32m+[m[32m    "@types/jasminewd2": "~2.0.3",[m
[32m+[m[32m    "@types/node": "~8.9.4",[m
[32m+[m[32m    "angularfire2": "^5.1.1",[m
[32m+[m[32m    "codelyzer": "~4.5.0",[m
[32m+[m[32m    "firebase": "^5.8.1",[m
[32m+[m[32m    "fs-extra": "^7.0.1",[m
[32m+[m[32m    "google-protobuf": "^3.6.1",[m
[32m+[m[32m    "gulp": "^4.0.0",[m
[32m+[m[32m    "gulp-clean": "^0.4.0",[m
[32m+[m[32m    "jasmine-core": "~2.99.1",[m
[32m+[m[32m    "jasmine-spec-reporter": "~4.2.1",[m
[32m+[m[32m    "karma": "~3.1.1",[m
[32m+[m[32m    "karma-chrome-launcher": "~2.2.0",[m
[32m+[m[32m    "karma-coverage-istanbul-reporter": "~2.0.1",[m
[32m+[m[32m    "karma-jasmine": "~1.1.2",[m
[32m+[m[32m    "karma-jasmine-html-reporter": "^0.2.2",[m
[32m+[m[32m    "protractor": "~5.4.0",[m
[32m+[m[32m    "ts-node": "~7.0.0",[m
[32m+[m[32m    "ts-protoc-gen": "^0.8.0",[m
[32m+[m[32m    "tslint": "~5.11.0",[m
[32m+[m[32m    "typescript": "~3.2.2"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/proto/data.proto b/projects/program-website/proto/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..544ce80[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/proto/data.proto[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m[32mpackage com.hasadna.protobin_reader;[m
[32m+[m
[32m+[m[32moption java_package = "com.hasadna.protobin_reader";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage Book {[m
[32m+[m[32m  string title = 1;[m
[32m+[m[32m  int32 pages = 2;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/app/app.component.html b/projects/program-website/src/app/app.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..3f5f640[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/app.component.html[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m<div *ngIf="!book">[m
[32m+[m[32m  Loading[m
[32m+[m[32m</div>[m
[32m+[m[32m<div *ngIf="book">[m
[32m+[m[32m  <div>[m
[32m+[m[32m    <span>Title: </span>[m
[32m+[m[32m    <span>{{ book.getTitle() }}</span>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <div>[m
[32m+[m[32m    <span>Amount of pages: </span>[m
[32m+[m[32m    <span>{{ book.getPages() }}</span>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/projects/program-website/src/app/app.component.scss b/projects/program-website/src/app/app.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/program-website/src/app/app.component.ts b/projects/program-website/src/app/app.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..b811228[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/app.component.ts[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mimport { Component } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { Book } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService, FirebaseService } from '@/core/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-root',[m
[32m+[m[32m  templateUrl: './app.component.html',[m
[32m+[m[32m  styleUrls: ['./app.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppComponent {[m
[32m+[m[32m  book: Book;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m    private firebaseService: FirebaseService,[m
[32m+[m[32m  ) {[m
[32m+[m[32m    this.firebaseService.getBook().subscribe(book => {[m
[32m+[m[32m      this.book = book;[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/app/app.module.ts b/projects/program-website/src/app/app.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d359455[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/app.module.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mimport { BrowserModule } from '@angular/platform-browser';[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { AppComponent } from './app.component';[m
[32m+[m[32mimport { CoreModule } from './core/core.module';[m
[32m+[m[32mimport { FirebaseModule } from './import/firebase/firebase.module';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  declarations: [[m
[32m+[m[32m    AppComponent,[m
[32m+[m[32m  ],[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    BrowserModule,[m
[32m+[m[32m    CoreModule,[m
[32m+[m[32m    FirebaseModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m  providers: [],[m
[32m+[m[32m  bootstrap: [AppComponent][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppModule { }[m
[1mdiff --git a/projects/program-website/src/app/core/core.module.ts b/projects/program-website/src/app/core/core.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..980ff6e[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/core/core.module.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport {[m
[32m+[m[32m  EncodingService,[m
[32m+[m[32m  FirebaseService[m
[32m+[m[32m} from './services';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    EncodingService,[m
[32m+[m[32m    FirebaseService,[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class CoreModule { }[m
[1mdiff --git a/projects/program-website/src/app/core/services/encoding.service.ts b/projects/program-website/src/app/core/services/encoding.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2002dea[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/core/services/encoding.service.ts[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class EncodingService {[m
[32m+[m[32m  encodeUint8ArrayToBase64String(binary: Uint8Array): string {[m
[32m+[m[32m    return btoa(String.fromCharCode.apply(null, binary));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  decodeBase64StringToUint8Array(base64: string): Uint8Array {[m
[32m+[m[32m    const raw: string = window.atob(base64);[m
[32m+[m[32m    const uint8Array = new Uint8Array(new ArrayBuffer(raw.length));[m
[32m+[m[32m    for (let i = 0; i < raw.length; i++) {[m
[32m+[m[32m      uint8Array[i] = raw.charCodeAt(i);[m
[32m+[m[32m    }[m
[32m+[m[32m    return uint8Array;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/app/core/services/firebase.service.ts b/projects/program-website/src/app/core/services/firebase.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..035300a[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/core/services/firebase.service.ts[m
[36m@@ -0,0 +1,49 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m[32mimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';[m
[32m+[m[32mimport { Observable } from 'rxjs';[m
[32m+[m[32mimport { map } from 'rxjs/operators';[m
[32m+[m
[32m+[m[32mimport { Book } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService } from './encoding.service';[m
[32m+[m
[32m+[m[32minterface FirebaseElement {[m
[32m+[m[32m  proto: string;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class FirebaseService {[m
[32m+[m[32m  private protobin: AngularFirestoreCollection<FirebaseElement>;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private db: AngularFirestore,[m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m  ) {[m
[32m+[m[32m    this.protobin = this.db.collection('protobin');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getBook(): Observable<Book> {[m
[32m+[m[32m    return this.protobin[m
[32m+[m[32m      .doc('book')[m
[32m+[m[32m      .snapshotChanges()[m
[32m+[m[32m      .pipe([m
[32m+[m[32m        map(action => {[m
[32m+[m[32m          const firebaseElement = action.payload.data() as FirebaseElement;[m
[32m+[m[32m          if (firebaseElement === undefined) {[m
[32m+[m[32m            // Element not found[m
[32m+[m[32m            return;[m
[32m+[m[32m          }[m
[32m+[m[32m          return this.convertFirebaseElementToBook(firebaseElement);[m
[32m+[m[32m        })[m
[32m+[m[32m      );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private convertFirebaseElementToBook(firebaseElement: FirebaseElement): Book {[m
[32m+[m[32m    // Convert firebaseElement to binary[m
[32m+[m[32m    const binary: Uint8Array = this.encodingService[m
[32m+[m[32m      .decodeBase64StringToUint8Array(firebaseElement.proto);[m
[32m+[m[32m    // Convert binary to book[m
[32m+[m[32m    const book: Book = Book.deserializeBinary(binary);[m
[32m+[m
[32m+[m[32m    return book;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/app/core/services/index.ts b/projects/program-website/src/app/core/services/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..e513f18[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/core/services/index.ts[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mexport * from './encoding.service';[m
[32m+[m[32mexport * from './firebase.service';[m
[1mdiff --git a/projects/program-website/src/app/import/firebase/config.ts b/projects/program-website/src/app/import/firebase/config.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2a98c48[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/import/firebase/config.ts[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mexport const config = {[m
[32m+[m[32m  apiKey: 'AIzaSyAWwTuTi9P6Fy0iK_Ux2R5LWUkFgN7lhEQ',[m
[32m+[m[32m  authDomain: 'protobin-reader.firebaseapp.com',[m
[32m+[m[32m  databaseURL: 'https://protobin-reader.firebaseio.com',[m
[32m+[m[32m  projectId: 'protobin-reader',[m
[32m+[m[32m  storageBucket: 'protobin-reader.appspot.com',[m
[32m+[m[32m  messagingSenderId: '229513278474',[m
[32m+[m[32m};[m
[1mdiff --git a/projects/program-website/src/app/import/firebase/firebase.module.ts b/projects/program-website/src/app/import/firebase/firebase.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..ebf4b89[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/app/import/firebase/firebase.module.ts[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { AngularFireModule } from '@angular/fire';[m
[32m+[m[32mimport { AngularFireAuth, AngularFireAuthModule } from '@angular/fire/auth';[m
[32m+[m[32mimport { AngularFireDatabase } from '@angular/fire/database';[m
[32m+[m[32mimport { AngularFirestoreModule, FirestoreSettingsToken } from '@angular/fire/firestore';[m
[32m+[m
[32m+[m[32mimport { config } from './config';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    AngularFireModule.initializeApp(config),[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m  declarations: [],[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    AngularFireDatabase,[m
[32m+[m[32m    AngularFireAuth,[m
[32m+[m[32m    { provide: FirestoreSettingsToken, useValue: {} },[m
[32m+[m[32m  ],[m
[32m+[m[32m  exports: [[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class FirebaseModule { }[m
[1mdiff --git a/projects/program-website/src/assets/.gitkeep b/projects/program-website/src/assets/.gitkeep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/program-website/src/browserslist b/projects/program-website/src/browserslist[m
[1mnew file mode 100644[m
[1mindex 0000000..c6cb1d3[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/browserslist[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m# This file is currently used by autoprefixer to adjust CSS to support the below specified browsers[m
[32m+[m[32m# For additional information regarding the format and rule options, please see:[m
[32m+[m[32m# https://github.com/browserslist/browserslist#queries[m
[32m+[m[32m#[m
[32m+[m[32m# For IE 9-11 support, please remove 'not' from the last line of the file and adjust as needed[m
[32m+[m
[32m+[m[32m> 0.5%[m
[32m+[m[32mlast 2 versions[m
[32m+[m[32mFirefox ESR[m
[32m+[m[32mnot dead[m
[32m+[m[32mnot IE 9-11[m
[1mdiff --git a/projects/program-website/src/environments/environment.prod.ts b/projects/program-website/src/environments/environment.prod.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..3612073[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/environments/environment.prod.ts[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: true[m
[32m+[m[32m};[m
[1mdiff --git a/projects/program-website/src/environments/environment.ts b/projects/program-website/src/environments/environment.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..7b4f817[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/environments/environment.ts[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m// This file can be replaced during build by using the `fileReplacements` array.[m
[32m+[m[32m// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.[m
[32m+[m[32m// The list of file replacements can be found in `angular.json`.[m
[32m+[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: false[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * For easier debugging in development mode, you can import the following file[m
[32m+[m[32m * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.[m
[32m+[m[32m *[m
[32m+[m[32m * This import should be commented out in production mode because it will have a negative impact[m
[32m+[m[32m * on performance if an error is thrown.[m
[32m+[m[32m */[m
[32m+[m[32m// import 'zone.js/dist/zone-error';  // Included with Angular CLI.[m
[1mdiff --git a/projects/program-website/src/favicon.ico b/projects/program-website/src/favicon.ico[m
[1mnew file mode 100644[m
[1mindex 0000000..8081c7c[m
Binary files /dev/null and b/projects/program-website/src/favicon.ico differ
[1mdiff --git a/projects/program-website/src/index.html b/projects/program-website/src/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..615e535[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/index.html[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<!doctype html>[m
[32m+[m[32m<html lang="en">[m
[32m+[m[32m<head>[m
[32m+[m[32m  <meta charset="utf-8">[m
[32m+[m[32m  <title>Protobin Reader</title>[m
[32m+[m[32m  <base href="/">[m
[32m+[m
[32m+[m[32m  <meta name="viewport" content="width=device-width, initial-scale=1">[m
[32m+[m[32m  <link rel="icon" type="image/x-icon" href="favicon.ico">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m  <app-root></app-root>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/projects/program-website/src/karma.conf.js b/projects/program-website/src/karma.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..ffd7c16[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/karma.conf.js[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m// Karma configuration file, see link for more information[m
[32m+[m[32m// https://karma-runner.github.io/1.0/config/configuration-file.html[m
[32m+[m
[32m+[m[32mmodule.exports = function (config) {[m
[32m+[m[32m  config.set({[m
[32m+[m[32m    basePath: '',[m
[32m+[m[32m    frameworks: ['jasmine', '@angular-devkit/build-angular'],[m
[32m+[m[32m    plugins: [[m
[32m+[m[32m      require('karma-jasmine'),[m
[32m+[m[32m      require('karma-chrome-launcher'),[m
[32m+[m[32m      require('karma-jasmine-html-reporter'),[m
[32m+[m[32m      require('karma-coverage-istanbul-reporter'),[m
[32m+[m[32m      require('@angular-devkit/build-angular/plugins/karma')[m
[32m+[m[32m    ],[m
[32m+[m[32m    client: {[m
[32m+[m[32m      clearContext: false // leave Jasmine Spec Runner output visible in browser[m
[32m+[m[32m    },[m
[32m+[m[32m    coverageIstanbulReporter: {[m
[32m+[m[32m      dir: require('path').join(__dirname, '../coverage'),[m
[32m+[m[32m      reports: ['html', 'lcovonly', 'text-summary'],[m
[32m+[m[32m      fixWebpackSourcePaths: true[m
[32m+[m[32m    },[m
[32m+[m[32m    reporters: ['progress', 'kjhtml'],[m
[32m+[m[32m    port: 9876,[m
[32m+[m[32m    colors: true,[m
[32m+[m[32m    logLevel: config.LOG_INFO,[m
[32m+[m[32m    autoWatch: true,[m
[32m+[m[32m    browsers: ['Chrome'],[m
[32m+[m[32m    singleRun: false[m
[32m+[m[32m  });[m
[32m+[m[32m};[m
[1mdiff --git a/projects/program-website/src/main.ts b/projects/program-website/src/main.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..c7b673c[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/main.ts[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mimport { enableProdMode } from '@angular/core';[m
[32m+[m[32mimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';[m
[32m+[m
[32m+[m[32mimport { AppModule } from './app/app.module';[m
[32m+[m[32mimport { environment } from './environments/environment';[m
[32m+[m
[32m+[m[32mif (environment.production) {[m
[32m+[m[32m  enableProdMode();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mplatformBrowserDynamic().bootstrapModule(AppModule)[m
[32m+[m[32m  .catch(err => console.error(err));[m
[1mdiff --git a/projects/program-website/src/polyfills.ts b/projects/program-website/src/polyfills.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..a6d34ea[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/polyfills.ts[m
[36m@@ -0,0 +1,85 @@[m
[32m+[m[32m/**[m
[32m+[m[32m * This file includes polyfills needed by Angular and is loaded before the app.[m
[32m+[m[32m * You can add your own extra polyfills to this file.[m
[32m+[m[32m *[m
[32m+[m[32m * This file is divided into 2 sections:[m
[32m+[m[32m *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.[m
[32m+[m[32m *   2. Application imports. Files imported after ZoneJS that should be loaded before your main[m
[32m+[m[32m *      file.[m
[32m+[m[32m *[m
[32m+[m[32m * The current setup is for so-called "evergreen" browsers; the last versions of browsers that[m
[32m+[m[32m * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),[m
[32m+[m[32m * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.[m
[32m+[m[32m *[m
[32m+[m[32m * Learn more in https://angular.io/guide/browser-support[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * BROWSER POLYFILLS[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/** IE9, IE10, IE11, and Chrome <55 requires all of the following polyfills.[m
[32m+[m[32m *  This also includes Android Emulators with older versions of Chrome and Google Search/Googlebot[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m// import 'core-js/es6/symbol';[m
[32m+[m[32m// import 'core-js/es6/object';[m
[32m+[m[32m// import 'core-js/es6/function';[m
[32m+[m[32m// import 'core-js/es6/parse-int';[m
[32m+[m[32m// import 'core-js/es6/parse-float';[m
[32m+[m[32m// import 'core-js/es6/number';[m
[32m+[m[32m// import 'core-js/es6/math';[m
[32m+[m[32m// import 'core-js/es6/string';[m
[32m+[m[32m// import 'core-js/es6/date';[m
[32m+[m[32m// import 'core-js/es6/array';[m
[32m+[m[32m// import 'core-js/es6/regexp';[m
[32m+[m[32m// import 'core-js/es6/map';[m
[32m+[m[32m// import 'core-js/es6/weak-map';[m
[32m+[m[32m// import 'core-js/es6/set';[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for NgClass support on SVG elements */[m
[32m+[m[32m// import 'classlist.js';  // Run `npm install --save classlist.js`.[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for the Reflect API. */[m
[32m+[m[32m// import 'core-js/es6/reflect';[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Web Animations `@angular/platform-browser/animations`[m
[32m+[m[32m * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.[m
[32m+[m[32m * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).[m
[32m+[m[32m */[m
[32m+[m[32m// import 'web-animations-js';  // Run `npm install --save web-animations-js`.[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * By default, zone.js will patch all possible macroTask and DomEvents[m
[32m+[m[32m * user can disable parts of macroTask/DomEvents patch by setting following flags[m
[32m+[m[32m * because those flags need to be set before `zone.js` being loaded, and webpack[m
[32m+[m[32m * will put import in the top of bundle, so user need to create a separate file[m
[32m+[m[32m * in this directory (for example: zone-flags.ts), and put the following flags[m
[32m+[m[32m * into that file, and then add the following code before importing zone.js.[m
[32m+[m[32m * import './zone-flags.ts';[m
[32m+[m[32m *[m
[32m+[m[32m * The flags allowed in zone-flags.ts are listed here.[m
[32m+[m[32m *[m
[32m+[m[32m * The following flags will work for all browsers.[m
[32m+[m[32m *[m
[32m+[m[32m * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame[m
[32m+[m[32m * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick[m
[32m+[m[32m * (window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames[m
[32m+[m[32m *[m
[32m+[m[32m *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js[m
[32m+[m[32m *  with the following flag, it will bypass `zone.js` patch for IE/Edge[m
[32m+[m[32m *[m
[32m+[m[32m *  (window as any).__Zone_enable_cross_context_check = true;[m
[32m+[m[32m *[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * Zone JS is required by default for Angular itself.[m
[32m+[m[32m */[m
[32m+[m[32mimport 'zone.js/dist/zone';  // Included with Angular CLI.[m
[32m+[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * APPLICATION IMPORTS[m
[32m+[m[32m */[m
[1mdiff --git a/projects/program-website/src/styles.scss b/projects/program-website/src/styles.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..90d4ee0[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/styles.scss[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/* You can add global styles to this file, and also import other style files */[m
[1mdiff --git a/projects/program-website/src/test.ts b/projects/program-website/src/test.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..1631789[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/test.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32m// This file is required by karma.conf.js and loads recursively all the .spec and framework files[m
[32m+[m
[32m+[m[32mimport 'zone.js/dist/zone-testing';[m
[32m+[m[32mimport { getTestBed } from '@angular/core/testing';[m
[32m+[m[32mimport {[m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting[m
[32m+[m[32m} from '@angular/platform-browser-dynamic/testing';[m
[32m+[m
[32m+[m[32mdeclare const require: any;[m
[32m+[m
[32m+[m[32m// First, initialize the Angular testing environment.[m
[32m+[m[32mgetTestBed().initTestEnvironment([m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting()[m
[32m+[m[32m);[m
[32m+[m[32m// Then we find all the tests.[m
[32m+[m[32mconst context = require.context('./', true, /\.spec\.ts$/);[m
[32m+[m[32m// And load the modules.[m
[32m+[m[32mcontext.keys().map(context);[m
[1mdiff --git a/projects/program-website/src/tsconfig.app.json b/projects/program-website/src/tsconfig.app.json[m
[1mnew file mode 100644[m
[1mindex 0000000..190fd30[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/tsconfig.app.json[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "types": [][m
[32m+[m[32m  },[m
[32m+[m[32m  "exclude": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "**/*.spec.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/tsconfig.spec.json b/projects/program-website/src/tsconfig.spec.json[m
[1mnew file mode 100644[m
[1mindex 0000000..de77336[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/tsconfig.spec.json[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/spec",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  },[m
[32m+[m[32m  "files": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "polyfills.ts"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "include": [[m
[32m+[m[32m    "**/*.spec.ts",[m
[32m+[m[32m    "**/*.d.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/src/tslint.json b/projects/program-website/src/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..52e2c1a[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/src/tslint.json[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m{[m
[32m+[m[32m    "extends": "../tslint.json",[m
[32m+[m[32m    "rules": {[m
[32m+[m[32m        "directive-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "attribute",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "camelCase"[m
[32m+[m[32m        ],[m
[32m+[m[32m        "component-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "element",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "kebab-case"[m
[32m+[m[32m        ][m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/tsconfig.json b/projects/program-website/tsconfig.json[m
[1mnew file mode 100644[m
[1mindex 0000000..b7e9e56[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/tsconfig.json[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "compileOnSave": false,[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "baseUrl": "src",[m
[32m+[m[32m    "paths": {[m
[32m+[m[32m      "@/*": ["app/*"],[m
[32m+[m[32m      "src/*": ["./*"][m
[32m+[m[32m    },[m
[32m+[m[32m    "outDir": "./dist/out-tsc",[m
[32m+[m[32m    "sourceMap": true,[m
[32m+[m[32m    "declaration": false,[m
[32m+[m[32m    "module": "es2015",[m
[32m+[m[32m    "moduleResolution": "node",[m
[32m+[m[32m    "emitDecoratorMetadata": true,[m
[32m+[m[32m    "experimentalDecorators": true,[m
[32m+[m[32m    "importHelpers": true,[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "typeRoots": [[m
[32m+[m[32m      "node_modules/@types"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "lib": [[m
[32m+[m[32m      "es2018",[m
[32m+[m[32m      "dom"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/program-website/tslint.json b/projects/program-website/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..c740a7b[m
[1m--- /dev/null[m
[1m+++ b/projects/program-website/tslint.json[m
[36m@@ -0,0 +1,131 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "rulesDirectory": [[m
[32m+[m[32m    "codelyzer"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "rules": {[m
[32m+[m[32m    "arrow-return-shorthand": true,[m
[32m+[m[32m    "callable-types": true,[m
[32m+[m[32m    "class-name": true,[m
[32m+[m[32m    "comment-format": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-space"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "curly": true,[m
[32m+[m[32m    "deprecation": {[m
[32m+[m[32m      "severity": "warn"[m
[32m+[m[32m    },[m
[32m+[m[32m    "eofline": true,[m
[32m+[m[32m    "forin": true,[m
[32m+[m[32m    "import-blacklist": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "rxjs/Rx"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "import-spacing": true,[m
[32m+[m[32m    "indent": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "spaces"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "interface-over-type-literal": true,[m
[32m+[m[32m    "label-position": true,[m
[32m+[m[32m    "max-line-length": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      140[m
[32m+[m[32m    ],[m
[32m+[m[32m    "member-access": false,[m
[32m+[m[32m    "member-ordering": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "order": [[m
[32m+[m[32m          "static-field",[m
[32m+[m[32m          "instance-field",[m
[32m+[m[32m          "static-method",[m
[32m+[m[32m          "instance-method"[m
[32m+[m[32m        ][m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-arg": true,[m
[32m+[m[32m    "no-bitwise": true,[m
[32m+[m[32m    "no-console": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "debug",[m
[32m+[m[32m      "info",[m
[32m+[m[32m      "time",[m
[32m+[m[32m      "timeEnd",[m
[32m+[m[32m      "trace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-construct": true,[m
[32m+[m[32m    "no-debugger": true,[m
[32m+[m[32m    "no-duplicate-super": true,[m
[32m+[m[32m    "no-empty": false,[m
[32m+[m[32m    "no-empty-interface": true,[m
[32m+[m[32m    "no-eval": true,[m
[32m+[m[32m    "no-inferrable-types": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "ignore-params"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-misused-new": true,[m
[32m+[m[32m    "no-non-null-assertion": true,[m
[32m+[m[32m    "no-redundant-jsdoc": true,[m
[32m+[m[32m    "no-shadowed-variable": true,[m
[32m+[m[32m    "no-string-literal": false,[m
[32m+[m[32m    "no-string-throw": true,[m
[32m+[m[32m    "no-switch-case-fall-through": true,[m
[32m+[m[32m    "no-trailing-whitespace": true,[m
[32m+[m[32m    "no-unnecessary-initializer": true,[m
[32m+[m[32m    "no-unused-expression": true,[m
[32m+[m[32m    "no-use-before-declare": true,[m
[32m+[m[32m    "no-var-keyword": true,[m
[32m+[m[32m    "object-literal-sort-keys": false,[m
[32m+[m[32m    "one-line": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-open-brace",[m
[32m+[m[32m      "check-catch",[m
[32m+[m[32m      "check-else",[m
[32m+[m[32m      "check-whitespace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "prefer-const": true,[m
[32m+[m[32m    "quotemark": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "single"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "radix": true,[m
[32m+[m[32m    "semicolon": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "always"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "triple-equals": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "allow-null-check"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "typedef-whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "call-signature": "nospace",[m
[32m+[m[32m        "index-signature": "nospace",[m
[32m+[m[32m        "parameter": "nospace",[m
[32m+[m[32m        "property-declaration": "nospace",[m
[32m+[m[32m        "variable-declaration": "nospace"[m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "unified-signatures": true,[m
[32m+[m[32m    "variable-name": false,[m
[32m+[m[32m    "whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-branch",[m
[32m+[m[32m      "check-decl",[m
[32m+[m[32m      "check-operator",[m
[32m+[m[32m      "check-separator",[m
[32m+[m[32m      "check-type"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-output-on-prefix": true,[m
[32m+[m[32m    "use-input-property-decorator": true,[m
[32m+[m[32m    "use-output-property-decorator": true,[m
[32m+[m[32m    "use-host-property-decorator": true,[m
[32m+[m[32m    "no-input-rename": true,[m
[32m+[m[32m    "no-output-rename": true,[m
[32m+[m[32m    "use-life-cycle-interface": true,[m
[32m+[m[32m    "use-pipe-transform-interface": true,[m
[32m+[m[32m    "component-class-suffix": true,[m
[32m+[m[32m    "directive-class-suffix": true[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/.editorconfig b/projects/storyteller/webapp/.editorconfig[m
[1mnew file mode 100644[m
[1mindex 0000000..e89330a[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/.editorconfig[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m# Editor configuration, see https://editorconfig.org[m
[32m+[m[32mroot = true[m
[32m+[m
[32m+[m[32m[*][m
[32m+[m[32mcharset = utf-8[m
[32m+[m[32mindent_style = space[m
[32m+[m[32mindent_size = 2[m
[32m+[m[32minsert_final_newline = true[m
[32m+[m[32mtrim_trailing_whitespace = true[m
[32m+[m
[32m+[m[32m[*.md][m
[32m+[m[32mmax_line_length = off[m
[32m+[m[32mtrim_trailing_whitespace = false[m
[1mdiff --git a/projects/storyteller/webapp/.gitignore b/projects/storyteller/webapp/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..6b65e09[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/.gitignore[m
[36m@@ -0,0 +1,45 @@[m
[32m+[m[32m# See http://help.github.com/ignore-files/ for more about ignoring files.[m
[32m+[m
[32m+[m[32m# compiled output[m
[32m+[m[32m/dist[m
[32m+[m[32m/tmp[m
[32m+[m[32m/out-tsc[m
[32m+[m
[32m+[m[32m# dependencies[m
[32m+[m[32m/node_modules[m
[32m+[m[32m/src/app/core/proto[m
[32m+[m
[32m+[m[32m# profiling files[m
[32m+[m[32mchrome-profiler-events.json[m
[32m+[m[32mspeed-measure-plugin.json[m
[32m+[m
[32m+[m[32m# IDEs and editors[m
[32m+[m[32m/.idea[m
[32m+[m[32m.project[m
[32m+[m[32m.classpath[m
[32m+[m[32m.c9/[m
[32m+[m[32m*.launch[m
[32m+[m[32m.settings/[m
[32m+[m[32m*.sublime-workspace[m
[32m+[m
[32m+[m[32m# IDE - VSCode[m
[32m+[m[32m.vscode/*[m
[32m+[m[32m!.vscode/settings.json[m
[32m+[m[32m!.vscode/tasks.json[m
[32m+[m[32m!.vscode/launch.json[m
[32m+[m[32m!.vscode/extensions.json[m
[32m+[m[32m.history/*[m
[32m+[m
[32m+[m[32m# misc[m
[32m+[m[32m/.sass-cache[m
[32m+[m[32m/connect.lock[m
[32m+[m[32m/coverage[m
[32m+[m[32m/libpeerconnection.log[m
[32m+[m[32mnpm-debug.log[m
[32m+[m[32myarn-error.log[m
[32m+[m[32mtestem.log[m
[32m+[m[32m/typings[m
[32m+[m
[32m+[m[32m# System Files[m
[32m+[m[32m.DS_Store[m
[32m+[m[32mThumbs.db[m
[1mdiff --git a/projects/storyteller/webapp/README.md b/projects/storyteller/webapp/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..1c4ecca[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/README.md[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m# Protobin reader template[m
[32m+[m
[32m+[m[32mTo set up your development environment, follow these steps:[m
[32m+[m
[32m+[m[32m## Installation[m
[32m+[m[32mInstall these:[m
[32m+[m[32m* [node](https://nodejs.org/) version 8.11.4[m
[32m+[m[32m* [npm](https://www.npmjs.com/) version 5.6.0[m
[32m+[m[32m* [google-protobuf](https://github.com/protocolbuffers/protobuf/releases), version 3.6.1[m
[32m+[m
[32m+[m[32m(Installation of exact versions is not required, but recommended. We can't guarantee that webapp will work properly with different versions.)[m
[32m+[m
[32m+[m[32mOptional:[m
[32m+[m[32m* [firebase](https://firebase.google.com/docs/hosting/quickstart), to be able to deploy.[m
[32m+[m[32m* [angular](https://angular.io/), to use `ng` features.[m
[32m+[m
[32m+[m[32mRun `npm install` to install npm modules[m[41m  [m
[32m+[m
[32m+[m[32mRun `npm run protoc` to generate proto functions.[m[41m  [m
[32m+[m
[32m+[m[32m## Running the server locally[m
[32m+[m[32mRun `npm start` to start a dev server. Navigate to `http://localhost:4200/`[m[41m  [m
[32m+[m[32mRun `npm run build` to make a build.[m[41m  [m
[32m+[m[32mRun `npm run deploy` to publish the app on the server.[m[41m  [m
[32m+[m[32mRun `npm run functions` to update cloud functions on the server.[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase hosting:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/hosting/quickstart[m[41m  [m
[32m+[m
[32m+[m[32mHow to use firebase functions:[m[41m  [m
[32m+[m[32mhttps://firebase.google.com/docs/functions/get-started[m[41m  [m
[32m+[m
[32m+[m[32m## Updating protos[m
[32m+[m[32mAfter every proto update, run `npm run protoc`.[m
[32m+[m
[32m+[m[32m## Supported platforms[m
[32m+[m[32mDevelopment is supported on Linux and Mac only (`npm run protoc` doesn't support Windows).[m
[32m+[m
[32m+[m[32m## Development[m
[32m+[m[32mThe information might be useful:[m
[32m+[m[32m* [AngularFire](https://github.com/angular/angularfire2/tree/master/docs)[m
[32m+[m[32m* [Protocol Buffers](https://developers.google.com/protocol-buffers/)[m
[1mdiff --git a/projects/storyteller/webapp/angular.json b/projects/storyteller/webapp/angular.json[m
[1mnew file mode 100644[m
[1mindex 0000000..ef59dba[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/angular.json[m
[36m@@ -0,0 +1,139 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",[m
[32m+[m[32m  "version": 1,[m
[32m+[m[32m  "newProjectRoot": "projects",[m
[32m+[m[32m  "projects": {[m
[32m+[m[32m    "protobin-reader": {[m
[32m+[m[32m      "root": "",[m
[32m+[m[32m      "sourceRoot": "src",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "app",[m
[32m+[m[32m      "schematics": {[m
[32m+[m[32m        "@schematics/angular:component": {[m
[32m+[m[32m          "styleext": "scss"[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "build": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:browser",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "outputPath": "dist/protobin-reader",[m
[32m+[m[32m            "index": "src/index.html",[m
[32m+[m[32m            "main": "src/main.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.app.json",[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [][m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "fileReplacements": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "replace": "src/environments/environment.ts",[m
[32m+[m[32m                  "with": "src/environments/environment.prod.ts"[m
[32m+[m[32m                }[m
[32m+[m[32m              ],[m
[32m+[m[32m              "optimization": true,[m
[32m+[m[32m              "outputHashing": "all",[m
[32m+[m[32m              "sourceMap": false,[m
[32m+[m[32m              "extractCss": true,[m
[32m+[m[32m              "namedChunks": false,[m
[32m+[m[32m              "aot": true,[m
[32m+[m[32m              "extractLicenses": true,[m
[32m+[m[32m              "vendorChunk": false,[m
[32m+[m[32m              "buildOptimizer": true,[m
[32m+[m[32m              "budgets": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "type": "initial",[m
[32m+[m[32m                  "maximumWarning": "2mb",[m
[32m+[m[32m                  "maximumError": "5mb"[m
[32m+[m[32m                }[m
[32m+[m[32m              ][m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "serve": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:dev-server",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "browserTarget": "protobin-reader:build:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "extract-i18n": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:extract-i18n",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "browserTarget": "protobin-reader:build"[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "test": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:karma",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "main": "src/test.ts",[m
[32m+[m[32m            "polyfills": "src/polyfills.ts",[m
[32m+[m[32m            "tsConfig": "src/tsconfig.spec.json",[m
[32m+[m[32m            "karmaConfig": "src/karma.conf.js",[m
[32m+[m[32m            "styles": [[m
[32m+[m[32m              "src/styles.scss"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "scripts": [],[m
[32m+[m[32m            "assets": [[m
[32m+[m[32m              "src/favicon.ico",[m
[32m+[m[32m              "src/assets"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": [[m
[32m+[m[32m              "src/tsconfig.app.json",[m
[32m+[m[32m              "src/tsconfig.spec.json"[m
[32m+[m[32m            ],[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    "protobin-reader-e2e": {[m
[32m+[m[32m      "root": "e2e/",[m
[32m+[m[32m      "projectType": "application",[m
[32m+[m[32m      "prefix": "",[m
[32m+[m[32m      "architect": {[m
[32m+[m[32m        "e2e": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:protractor",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "protractorConfig": "e2e/protractor.conf.js",[m
[32m+[m[32m            "devServerTarget": "protobin-reader:serve"[m
[32m+[m[32m          },[m
[32m+[m[32m          "configurations": {[m
[32m+[m[32m            "production": {[m
[32m+[m[32m              "devServerTarget": "protobin-reader:serve:production"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        },[m
[32m+[m[32m        "lint": {[m
[32m+[m[32m          "builder": "@angular-devkit/build-angular:tslint",[m
[32m+[m[32m          "options": {[m
[32m+[m[32m            "tsConfig": "e2e/tsconfig.e2e.json",[m
[32m+[m[32m            "exclude": [[m
[32m+[m[32m              "**/node_modules/**"[m
[32m+[m[32m            ][m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  "defaultProject": "protobin-reader"[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/e2e/protractor.conf.js b/projects/storyteller/webapp/e2e/protractor.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..440ef8f[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/e2e/protractor.conf.js[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m// Protractor configuration file, see link for more information[m
[32m+[m[32m// https://github.com/angular/protractor/blob/master/lib/config.ts[m
[32m+[m
[32m+[m[32mconst { SpecReporter } = require('jasmine-spec-reporter');[m
[32m+[m
[32m+[m[32mexports.config = {[m
[32m+[m[32m  allScriptsTimeout: 11000,[m
[32m+[m[32m  specs: [[m
[32m+[m[32m    './src/**/*.e2e-spec.ts'[m
[32m+[m[32m  ],[m
[32m+[m[32m  capabilities: {[m
[32m+[m[32m    'browserName': 'chrome'[m
[32m+[m[32m  },[m
[32m+[m[32m  directConnect: true,[m
[32m+[m[32m  baseUrl: 'http://localhost:4200/',[m
[32m+[m[32m  framework: 'jasmine',[m
[32m+[m[32m  jasmineNodeOpts: {[m
[32m+[m[32m    showColors: true,[m
[32m+[m[32m    defaultTimeoutInterval: 30000,[m
[32m+[m[32m    print: function() {}[m
[32m+[m[32m  },[m
[32m+[m[32m  onPrepare() {[m
[32m+[m[32m    require('ts-node').register({[m
[32m+[m[32m      project: require('path').join(__dirname, './tsconfig.e2e.json')[m
[32m+[m[32m    });[m
[32m+[m[32m    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));[m
[32m+[m[32m  }[m
[32m+[m[32m};[m
[1mdiff --git a/projects/storyteller/webapp/e2e/src/app.e2e-spec.ts b/projects/storyteller/webapp/e2e/src/app.e2e-spec.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..50bfc7b[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/e2e/src/app.e2e-spec.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { AppPage } from './app.po';[m
[32m+[m
[32m+[m[32mdescribe('workspace-project App', () => {[m
[32m+[m[32m  let page: AppPage;[m
[32m+[m
[32m+[m[32m  beforeEach(() => {[m
[32m+[m[32m    page = new AppPage();[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  it('should display welcome message', () => {[m
[32m+[m[32m    page.navigateTo();[m
[32m+[m[32m    expect(page.getTitleText()).toEqual('Welcome to protobin-reader!');[m
[32m+[m[32m  });[m
[32m+[m[32m});[m
[1mdiff --git a/projects/storyteller/webapp/e2e/src/app.po.ts b/projects/storyteller/webapp/e2e/src/app.po.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..72e463a[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/e2e/src/app.po.ts[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mimport { browser, by, element } from 'protractor';[m
[32m+[m
[32m+[m[32mexport class AppPage {[m
[32m+[m[32m  navigateTo() {[m
[32m+[m[32m    return browser.get('/');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getTitleText() {[m
[32m+[m[32m    return element(by.css('app-root h1')).getText();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/e2e/tsconfig.e2e.json b/projects/storyteller/webapp/e2e/tsconfig.e2e.json[m
[1mnew file mode 100644[m
[1mindex 0000000..77d311e[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/e2e/tsconfig.e2e.json[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "module": "commonjs",[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "jasminewd2",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/gulpfile.js b/projects/storyteller/webapp/gulpfile.js[m
[1mnew file mode 100644[m
[1mindex 0000000..e3fd4d2[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/gulpfile.js[m
[36m@@ -0,0 +1,89 @@[m
[32m+[m[32mconst path = require('path');[m
[32m+[m[32mconst fs = require('fs-extra');[m[41m  [m
[32m+[m[32mconst gulp = require('gulp');[m
[32m+[m[32mconst clean = require('gulp-clean');[m
[32m+[m[32mconst { exec } = require('child_process');[m
[32m+[m
[32m+[m[32mconst protoImportPathList = [[m
[32m+[m[32m  './proto/data.proto',[m
[32m+[m[32m];[m
[32m+[m[32mconst exportProtoPath = './src/app/core/proto';[m
[32m+[m[32mconst functionsPath = path.join(exportProtoPath, 'functions');[m
[32m+[m
[32m+[m[32mgulp.task('protoc', (done) => {[m
[32m+[m[32m  let protoImportList = [];[m
[32m+[m[41m  [m
[32m+[m[32m  // Remove old functions (if they exist)[m
[32m+[m[32m  fs.exists(exportProtoPath, exists => {[m
[32m+[m[32m    if (exists) {[m
[32m+[m[32m      gulp.src(exportProtoPath)[m
[32m+[m[32m        .pipe(clean())[m
[32m+[m[32m        .on('data', () => {})[m
[32m+[m[32m        .on('end', createFunctions);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      createFunctions();[m
[32m+[m[32m    }[m
[32m+[m[32m  });[m
[32m+[m[41m  [m
[32m+[m[32m  function createFunctions() {[m
[32m+[m[32m    // Create a proto folder[m
[32m+[m[32m    fs.mkdirSync(exportProtoPath);[m
[32m+[m
[32m+[m[32m    // Copy all packages to the proto folder[m
[32m+[m[32m    function copyPackage(relativePath) {[m
[32m+[m[32m      const filename = path.parse(relativePath).base;[m
[32m+[m[32m      protoImportList.push(filename);[m
[32m+[m[32m      const newPackagePath = path.join(functionsPath, filename);[m
[32m+[m[32m      fs.copySync(relativePath, newPackagePath);[m
[32m+[m
[32m+[m[32m      return newPackagePath;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    for (const importPathList of protoImportPathList) {[m
[32m+[m[32m      copyPackage(importPathList);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Create proto functions from the packages in the proto folder[m
[32m+[m[32m    const protoImport = protoImportList.join(' ');[m
[32m+[m[32m    exec([m
[32m+[m[32m      'protoc ' +[m
[32m+[m[32m        `--proto_path=${functionsPath} ` +[m
[32m+[m[32m        `--js_out=import_style=commonjs,binary:${functionsPath} ` +[m
[32m+[m[32m        '--plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts ' +[m
[32m+[m[32m        `--ts_out=${functionsPath} ` +[m
[32m+[m[32m        protoImport,[m
[32m+[m[32m      removeProtoFiles[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Removes all *.proto files from the proto folder[m
[32m+[m[32m  function removeProtoFiles(error) {[m
[32m+[m[32m    if (error) {[m
[32m+[m[32m      throw error;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    gulp.src(path.join(functionsPath, '**/*.proto'))[m
[32m+[m[32m      .pipe(clean())[m
[32m+[m[32m      .on('data', () => {})[m
[32m+[m[32m      .on('end', createIndexFile);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Creates index file for proto functions[m
[32m+[m[32m  function createIndexFile() {[m
[32m+[m[32m    let indexTS = '';[m
[32m+[m[32m    for(let filepath of protoImportList) {[m
[32m+[m[32m      const dir = path.parse(filepath).dir;[m
[32m+[m[32m      const filename = path.parse(filepath).name + '_pb';[m
[32m+[m[32m      const indexpath = path.join(dir, filename);[m
[32m+[m[32m      indexTS += "export * from './functions/" + indexpath + "';\n";[m
[32m+[m[32m    }[m
[32m+[m[32m    fs.writeFileSync(path.join(exportProtoPath, 'index.ts'), indexTS);[m
[32m+[m
[32m+[m[32m    onLoad();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function onLoad() {[m
[32m+[m[32m    console.log('Proto functions are successfully created.');[m
[32m+[m[32m    done();[m
[32m+[m[32m  }[m
[32m+[m[32m});[m
[1mdiff --git a/projects/storyteller/webapp/package.json b/projects/storyteller/webapp/package.json[m
[1mnew file mode 100644[m
[1mindex 0000000..1e124d4[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/package.json[m
[36m@@ -0,0 +1,55 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "name": "protobin-reader",[m
[32m+[m[32m  "version": "0.0.0",[m
[32m+[m[32m  "scripts": {[m
[32m+[m[32m    "ng": "ng",[m
[32m+[m[32m    "start": "ng serve",[m
[32m+[m[32m    "build": "ng build",[m
[32m+[m[32m    "test": "ng test",[m
[32m+[m[32m    "lint": "ng lint",[m
[32m+[m[32m    "e2e": "ng e2e",[m
[32m+[m[32m    "protoc": "gulp protoc"[m
[32m+[m[32m  },[m
[32m+[m[32m  "dependencies": {[m
[32m+[m[32m    "@angular/animations": "~7.2.0",[m
[32m+[m[32m    "@angular/common": "~7.2.0",[m
[32m+[m[32m    "@angular/compiler": "~7.2.0",[m
[32m+[m[32m    "@angular/core": "~7.2.0",[m
[32m+[m[32m    "@angular/forms": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser": "~7.2.0",[m
[32m+[m[32m    "@angular/platform-browser-dynamic": "~7.2.0",[m
[32m+[m[32m    "@angular/router": "~7.2.0",[m
[32m+[m[32m    "core-js": "^2.5.4",[m
[32m+[m[32m    "rxjs": "~6.3.3",[m
[32m+[m[32m    "tslib": "^1.9.0",[m
[32m+[m[32m    "zone.js": "~0.8.26"[m
[32m+[m[32m  },[m
[32m+[m[32m  "devDependencies": {[m
[32m+[m[32m    "@angular-devkit/build-angular": "~0.12.0",[m
[32m+[m[32m    "@angular/cli": "~7.2.1",[m
[32m+[m[32m    "@angular/compiler-cli": "~7.2.0",[m
[32m+[m[32m    "@angular/language-service": "~7.2.0",[m
[32m+[m[32m    "@types/jasmine": "~2.8.8",[m
[32m+[m[32m    "@types/jasminewd2": "~2.0.3",[m
[32m+[m[32m    "@types/node": "~8.9.4",[m
[32m+[m[32m    "angularfire2": "^5.1.1",[m
[32m+[m[32m    "codelyzer": "~4.5.0",[m
[32m+[m[32m    "firebase": "^5.7.3",[m
[32m+[m[32m    "fs-extra": "^7.0.1",[m
[32m+[m[32m    "google-protobuf": "^3.6.1",[m
[32m+[m[32m    "gulp": "^4.0.0",[m
[32m+[m[32m    "gulp-clean": "^0.4.0",[m
[32m+[m[32m    "jasmine-core": "~2.99.1",[m
[32m+[m[32m    "jasmine-spec-reporter": "~4.2.1",[m
[32m+[m[32m    "karma": "~3.1.1",[m
[32m+[m[32m    "karma-chrome-launcher": "~2.2.0",[m
[32m+[m[32m    "karma-coverage-istanbul-reporter": "~2.0.1",[m
[32m+[m[32m    "karma-jasmine": "~1.1.2",[m
[32m+[m[32m    "karma-jasmine-html-reporter": "^0.2.2",[m
[32m+[m[32m    "protractor": "~5.4.0",[m
[32m+[m[32m    "ts-node": "~7.0.0",[m
[32m+[m[32m    "ts-protoc-gen": "^0.8.0",[m
[32m+[m[32m    "tslint": "~5.11.0",[m
[32m+[m[32m    "typescript": "~3.2.2"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/proto/data.proto b/projects/storyteller/webapp/proto/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..74a4662[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/proto/data.proto[m
[36m@@ -0,0 +1,110 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m[32mpackage com.hasadna.protobin_reader;[m
[32m+[m
[32m+[m[32moption java_package = "com.hasadna.protobin_reader";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32mmessage Config {[m
[32m+[m[32m  enum Frequency {[m
[32m+[m[32m    EVERY_10_MINUTES = 0; // This is the default (=0)[m
[32m+[m[32m    EVERY_15_MINUTES = 1;[m
[32m+[m[32m    EVERY_20_MINUTES = 2;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  Frequency screenshot_frequency = 1;[m
[32m+[m[32m  string stories_path = 2;[m
[32m+[m[32m  string invoices_path = 3;[m
[32m+[m[32m  InvoiceCreator invoice_creator = 4;[m
[32m+[m[32m  InvoiceReceiver invoice_receiver = 5;[m
[32m+[m[32m  repeated string projects = 6;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Defaults used in the Storyteller UI tool. */[m
[32m+[m[32mmessage UiDefaults {[m
[32m+[m[32m  // Most recently used projects, used to reorder projects drop down[m
[32m+[m[32m  repeated string project = 1;[m
[32m+[m[32m  int32 left = 2;[m
[32m+[m[32m  int32 top = 3;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// Local file used to store status such as current project.[m
[32m+[m[32mmessage StatusData { string project = 1; }[m
[32m+[m
[32m+[m[32m// Local file used to store and edit the screenshot metadata before sharing.[m
[32m+[m[32mmessage ScreenshotMetadata {[m
[32m+[m[32m  string project = 1;[m
[32m+[m[32m  string oneliner = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage FileData {[m
[32m+[m[32m  enum Type {[m
[32m+[m[32m    UNKNOWN = 0;[m
[32m+[m[32m    START = 1;[m
[32m+[m[32m    RUNNING = 2;[m
[32m+[m[32m    SCREENSHOT = 3;[m
[32m+[m[32m    SCREENSHOT_METADATA = 4;[m
[32m+[m[32m    END = 5;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  Type type = 1;[m
[32m+[m[32m  int64 timeMs = 2;[m
[32m+[m[32m  string filename = 3;[m
[32m+[m[32m  oneof oneof_content {[m
[32m+[m[32m    bytes image_bytes = 4;[m
[32m+[m[32m    ScreenshotMetadata screenshot_metadata = 5;[m
[32m+[m[32m    StatusData status_data = 6;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage StoryItem {[m
[32m+[m[32m  int64 timeMs = 1;[m
[32m+[m[32m  bytes screenshot = 2;[m
[32m+[m[32m  string oneliner = 3;[m
[32m+[m[32m  string note = 4;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Story {[m
[32m+[m[32m  int64 startTimeMs = 1;[m
[32m+[m[32m  int64 endTimeMs = 2;[m
[32m+[m[32m  string project = 3;[m
[32m+[m[32m  repeated StoryItem item = 4;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage StoryList { repeated Story story = 1; }[m
[32m+[m
[32m+[m[32mmessage InvoiceItem {[m
[32m+[m[32m  string title = 1;[m
[32m+[m[32m  string description = 2;[m
[32m+[m[32m  int64 time_worked_ms = 3;[m
[32m+[m[32m  // The hourly rate in USD[m
[32m+[m[32m  double hourly_rate = 4;[m
[32m+[m[32m  double dollarAmount = 5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceItemList {[m
[32m+[m[32m  repeated InvoiceItem item = 1;[m
[32m+[m[32m  int64 startTimeMs = 2;[m
[32m+[m[32m  int64 endTimeMs = 3;[m
[32m+[m[32m  double subtotal = 4;[m
[32m+[m[32m  // Total is the subtotal after rounding up.[m
[32m+[m[32m  double total = 5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceCreator {[m
[32m+[m[32m  string name = 1;[m
[32m+[m[32m  string phone_number = 2;[m
[32m+[m[32m  string email = 3;[m
[32m+[m[32m  string website = 4;[m
[32m+[m[32m  string street_and_number = 5;[m
[32m+[m[32m  string city_state_country = 6;[m
[32m+[m[32m  string zip_code = 7;[m
[32m+[m[32m  // Optional tagline at the bottom[m
[32m+[m[32m  string tagline = 8;[m
[32m+[m[32m  double hourly_rate_usd = 9;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceReceiver {[m
[32m+[m[32m  string name = 1;[m
[32m+[m[32m  string street_and_number = 2;[m
[32m+[m[32m  string city_state_country = 3;[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/app/app.component.html b/projects/storyteller/webapp/src/app/app.component.html[m
[1mnew file mode 100644[m
[1mindex 0000000..9d7b3c5[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/app.component.html[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32m<div *ngIf="!storylist">[m
[32m+[m[32m  Loading[m
[32m+[m[32m</div>[m
[32m+[m[32m<div *ngIf="storylist">[m
[32m+[m[32m  <div *ngFor="let storylistChild of storylist">[m
[32m+[m[32m    ----[m
[32m+[m[32m    <div *ngFor="let story of storylistChild.getStoryList()">[m
[32m+[m[32m      {{ story.getProject()}}[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
\ No newline at end of file[m
[1mdiff --git a/projects/storyteller/webapp/src/app/app.component.scss b/projects/storyteller/webapp/src/app/app.component.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/storyteller/webapp/src/app/app.component.ts b/projects/storyteller/webapp/src/app/app.component.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..3be7a01[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/app.component.ts[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32mimport { Component } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { StoryList, Story } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService, FirebaseService } from '@/core/services';[m
[32m+[m
[32m+[m[32m@Component({[m
[32m+[m[32m  selector: 'app-root',[m
[32m+[m[32m  templateUrl: './app.component.html',[m
[32m+[m[32m  styleUrls: ['./app.component.scss'][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppComponent {[m
[32m+[m[32m  storylist: StoryList[];[m
[32m+[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private firebaseService: FirebaseService,[m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m  ) {[m
[32m+[m[32m    if (firebaseService.isOnline) {[m
[32m+[m[32m      this.load();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      this.firebaseService.anonymousLogin().then(() => {[m
[32m+[m[32m        this.load();[m
[32m+[m[32m      });[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  load(): void {[m
[32m+[m[32m    this.firebaseService.getstorylistAll().subscribe(storylist => {[m
[32m+[m[32m      this.storylist = storylist;[m
[32m+[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/app/app.module.ts b/projects/storyteller/webapp/src/app/app.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d359455[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/app.module.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mimport { BrowserModule } from '@angular/platform-browser';[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport { AppComponent } from './app.component';[m
[32m+[m[32mimport { CoreModule } from './core/core.module';[m
[32m+[m[32mimport { FirebaseModule } from './import/firebase/firebase.module';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  declarations: [[m
[32m+[m[32m    AppComponent,[m
[32m+[m[32m  ],[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    BrowserModule,[m
[32m+[m[32m    CoreModule,[m
[32m+[m[32m    FirebaseModule,[m
[32m+[m[32m  ],[m
[32m+[m[32m  providers: [],[m
[32m+[m[32m  bootstrap: [AppComponent][m
[32m+[m[32m})[m
[32m+[m[32mexport class AppModule { }[m
[1mdiff --git a/projects/storyteller/webapp/src/app/core/core.module.ts b/projects/storyteller/webapp/src/app/core/core.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..980ff6e[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/core/core.module.ts[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m
[32m+[m[32mimport {[m
[32m+[m[32m  EncodingService,[m
[32m+[m[32m  FirebaseService[m
[32m+[m[32m} from './services';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    EncodingService,[m
[32m+[m[32m    FirebaseService,[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class CoreModule { }[m
[1mdiff --git a/projects/storyteller/webapp/src/app/core/services/encoding.service.ts b/projects/storyteller/webapp/src/app/core/services/encoding.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..2002dea[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/core/services/encoding.service.ts[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class EncodingService {[m
[32m+[m[32m  encodeUint8ArrayToBase64String(binary: Uint8Array): string {[m
[32m+[m[32m    return btoa(String.fromCharCode.apply(null, binary));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  decodeBase64StringToUint8Array(base64: string): Uint8Array {[m
[32m+[m[32m    const raw: string = window.atob(base64);[m
[32m+[m[32m    const uint8Array = new Uint8Array(new ArrayBuffer(raw.length));[m
[32m+[m[32m    for (let i = 0; i < raw.length; i++) {[m
[32m+[m[32m      uint8Array[i] = raw.charCodeAt(i);[m
[32m+[m[32m    }[m
[32m+[m[32m    return uint8Array;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/app/core/services/firebase.service.ts b/projects/storyteller/webapp/src/app/core/services/firebase.service.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..d457054[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/core/services/firebase.service.ts[m
[36m@@ -0,0 +1,56 @@[m
[32m+[m[32mimport { Injectable } from '@angular/core';[m
[32m+[m[32mimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';[m
[32m+[m[32mimport { Observable } from 'rxjs';[m
[32m+[m[32mimport { map } from 'rxjs/operators';[m
[32m+[m
[32m+[m[32mimport { StoryList } from '@/core/proto';[m
[32m+[m[32mimport { EncodingService } from './encoding.service';[m
[32m+[m[32mimport { AngularFireAuth } from 'angularfire2/auth';[m
[32m+[m[32mimport * as firebase from 'firebase/app';[m
[32m+[m[32minterface FirebaseElement {[m
[32m+[m[32m  proto: string;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@Injectable()[m
[32m+[m[32mexport class FirebaseService {[m
[32m+[m[32m  isOnline: boolean;[m
[32m+[m[32m  private protobin: AngularFirestoreCollection<FirebaseElement>;[m
[32m+[m
[32m+[m[32m  constructor([m
[32m+[m[32m    private db: AngularFirestore,[m
[32m+[m[32m    private encodingService: EncodingService,[m
[32m+[m[32m    private angularFireAuth: AngularFireAuth,[m
[32m+[m[32m  ) {[m
[32m+[m[32m      this.angularFireAuth.authState.subscribe(userData => {[m
[32m+[m[32m      this.isOnline = !!userData;[m
[32m+[m[32m      });[m
[32m+[m[32m    this.protobin = this.db.collection('storyteller');[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  getstorylistAll(): Observable<StoryList[]> {[m
[32m+[m[32m    return this.protobin.snapshotChanges().pipe([m
[32m+[m[32m        map(action => action.map(a => {[m
[32m+[m[32m          const firebaseElement = a.payload.doc.data() as FirebaseElement;[m
[32m+[m
[32m+[m[32m          if (firebaseElement === undefined) {[m
[32m+[m[32m            // Element not found[m
[32m+[m[32m          return;[m
[32m+[m[32m          }[m
[32m+[m[32m          return this.convertFirebaseElementToStory(firebaseElement);[m
[32m+[m[32m        })));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private convertFirebaseElementToStory(firebaseElement: FirebaseElement): StoryList {[m
[32m+[m
[32m+[m[32m    // Convert firebaseElement to binary[m
[32m+[m[32m    const binary: Uint8Array = this.encodingService[m
[32m+[m[32m      .decodeBase64StringToUint8Array(firebaseElement.proto);[m
[32m+[m
[32m+[m[32m    // Convert binary to StoryList[m
[32m+[m[32m    const storylist: StoryList = StoryList.deserializeBinary(binary);[m
[32m+[m[32m    return storylist;[m
[32m+[m[32m  }[m
[32m+[m[32m  anonymousLogin(): Promise<any> {[m
[32m+[m[32m    return this.angularFireAuth.auth.signInAnonymously();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/app/core/services/index.ts b/projects/storyteller/webapp/src/app/core/services/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..e513f18[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/core/services/index.ts[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mexport * from './encoding.service';[m
[32m+[m[32mexport * from './firebase.service';[m
[1mdiff --git a/projects/storyteller/webapp/src/app/import/firebase/config.ts b/projects/storyteller/webapp/src/app/import/firebase/config.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..73b2887[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/import/firebase/config.ts[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32mexport const config = {[m
[32m+[m[32m  apiKey: 'AIzaSyAn-A7YXlqR2JNOvlbhkVwcnsOigmphQIw',[m
[32m+[m[32m  authDomain: 'startupos-5f279.firebaseapp.com',[m
[32m+[m[32m  databaseURL: 'https://startupos-5f279.firebaseio.com',[m
[32m+[m[32m  projectId: 'startupos-5f279',[m
[32m+[m[32m  storageBucket: 'startupos-5f279.appspot.com',[m
[32m+[m[32m  messagingSenderId: '160348327132'[m
[32m+[m[32m};[m
[1mdiff --git a/projects/storyteller/webapp/src/app/import/firebase/firebase.module.ts b/projects/storyteller/webapp/src/app/import/firebase/firebase.module.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..0de08f5[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/app/import/firebase/firebase.module.ts[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32mimport { NgModule } from '@angular/core';[m
[32m+[m[32mimport { AngularFireModule } from 'angularfire2';[m
[32m+[m[32mimport { AngularFireAuth, AngularFireAuthModule } from 'angularfire2/auth';[m
[32m+[m[32mimport { AngularFireDatabase } from 'angularfire2/database';[m
[32m+[m[32mimport { AngularFirestoreModule, FirestoreSettingsToken } from 'angularfire2/firestore';[m
[32m+[m[32mimport { config } from './config';[m
[32m+[m
[32m+[m[32m@NgModule({[m
[32m+[m[32m  imports: [[m
[32m+[m[32m    AngularFireModule.initializeApp(config),[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m
[32m+[m[32m  ],[m
[32m+[m[32m  declarations: [],[m
[32m+[m[32m  providers: [[m
[32m+[m[32m    AngularFireDatabase,[m
[32m+[m[32m    AngularFireAuth,[m
[32m+[m[32m    { provide: FirestoreSettingsToken, useValue: {} },[m
[32m+[m[32m  ],[m
[32m+[m[32m  exports: [[m
[32m+[m[32m    AngularFirestoreModule,[m
[32m+[m[32m    AngularFireAuthModule,[m
[32m+[m
[32m+[m[32m  ],[m
[32m+[m[32m})[m
[32m+[m[32mexport class FirebaseModule { }[m
[1mdiff --git a/projects/storyteller/webapp/src/assets/.gitkeep b/projects/storyteller/webapp/src/assets/.gitkeep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/projects/storyteller/webapp/src/browserslist b/projects/storyteller/webapp/src/browserslist[m
[1mnew file mode 100644[m
[1mindex 0000000..c6cb1d3[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/browserslist[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m# This file is currently used by autoprefixer to adjust CSS to support the below specified browsers[m
[32m+[m[32m# For additional information regarding the format and rule options, please see:[m
[32m+[m[32m# https://github.com/browserslist/browserslist#queries[m
[32m+[m[32m#[m
[32m+[m[32m# For IE 9-11 support, please remove 'not' from the last line of the file and adjust as needed[m
[32m+[m
[32m+[m[32m> 0.5%[m
[32m+[m[32mlast 2 versions[m
[32m+[m[32mFirefox ESR[m
[32m+[m[32mnot dead[m
[32m+[m[32mnot IE 9-11[m
[1mdiff --git a/projects/storyteller/webapp/src/environments/environment.prod.ts b/projects/storyteller/webapp/src/environments/environment.prod.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..3612073[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/environments/environment.prod.ts[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: true[m
[32m+[m[32m};[m
[1mdiff --git a/projects/storyteller/webapp/src/environments/environment.ts b/projects/storyteller/webapp/src/environments/environment.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..7b4f817[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/environments/environment.ts[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m// This file can be replaced during build by using the `fileReplacements` array.[m
[32m+[m[32m// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.[m
[32m+[m[32m// The list of file replacements can be found in `angular.json`.[m
[32m+[m
[32m+[m[32mexport const environment = {[m
[32m+[m[32m  production: false[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * For easier debugging in development mode, you can import the following file[m
[32m+[m[32m * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.[m
[32m+[m[32m *[m
[32m+[m[32m * This import should be commented out in production mode because it will have a negative impact[m
[32m+[m[32m * on performance if an error is thrown.[m
[32m+[m[32m */[m
[32m+[m[32m// import 'zone.js/dist/zone-error';  // Included with Angular CLI.[m
[1mdiff --git a/projects/storyteller/webapp/src/favicon.ico b/projects/storyteller/webapp/src/favicon.ico[m
[1mnew file mode 100644[m
[1mindex 0000000..8081c7c[m
Binary files /dev/null and b/projects/storyteller/webapp/src/favicon.ico differ
[1mdiff --git a/projects/storyteller/webapp/src/index.html b/projects/storyteller/webapp/src/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..615e535[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/index.html[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<!doctype html>[m
[32m+[m[32m<html lang="en">[m
[32m+[m[32m<head>[m
[32m+[m[32m  <meta charset="utf-8">[m
[32m+[m[32m  <title>Protobin Reader</title>[m
[32m+[m[32m  <base href="/">[m
[32m+[m
[32m+[m[32m  <meta name="viewport" content="width=device-width, initial-scale=1">[m
[32m+[m[32m  <link rel="icon" type="image/x-icon" href="favicon.ico">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m  <app-root></app-root>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/projects/storyteller/webapp/src/karma.conf.js b/projects/storyteller/webapp/src/karma.conf.js[m
[1mnew file mode 100644[m
[1mindex 0000000..ffd7c16[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/karma.conf.js[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m// Karma configuration file, see link for more information[m
[32m+[m[32m// https://karma-runner.github.io/1.0/config/configuration-file.html[m
[32m+[m
[32m+[m[32mmodule.exports = function (config) {[m
[32m+[m[32m  config.set({[m
[32m+[m[32m    basePath: '',[m
[32m+[m[32m    frameworks: ['jasmine', '@angular-devkit/build-angular'],[m
[32m+[m[32m    plugins: [[m
[32m+[m[32m      require('karma-jasmine'),[m
[32m+[m[32m      require('karma-chrome-launcher'),[m
[32m+[m[32m      require('karma-jasmine-html-reporter'),[m
[32m+[m[32m      require('karma-coverage-istanbul-reporter'),[m
[32m+[m[32m      require('@angular-devkit/build-angular/plugins/karma')[m
[32m+[m[32m    ],[m
[32m+[m[32m    client: {[m
[32m+[m[32m      clearContext: false // leave Jasmine Spec Runner output visible in browser[m
[32m+[m[32m    },[m
[32m+[m[32m    coverageIstanbulReporter: {[m
[32m+[m[32m      dir: require('path').join(__dirname, '../coverage'),[m
[32m+[m[32m      reports: ['html', 'lcovonly', 'text-summary'],[m
[32m+[m[32m      fixWebpackSourcePaths: true[m
[32m+[m[32m    },[m
[32m+[m[32m    reporters: ['progress', 'kjhtml'],[m
[32m+[m[32m    port: 9876,[m
[32m+[m[32m    colors: true,[m
[32m+[m[32m    logLevel: config.LOG_INFO,[m
[32m+[m[32m    autoWatch: true,[m
[32m+[m[32m    browsers: ['Chrome'],[m
[32m+[m[32m    singleRun: false[m
[32m+[m[32m  });[m
[32m+[m[32m};[m
[1mdiff --git a/projects/storyteller/webapp/src/main.ts b/projects/storyteller/webapp/src/main.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..c7b673c[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/main.ts[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mimport { enableProdMode } from '@angular/core';[m
[32m+[m[32mimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';[m
[32m+[m
[32m+[m[32mimport { AppModule } from './app/app.module';[m
[32m+[m[32mimport { environment } from './environments/environment';[m
[32m+[m
[32m+[m[32mif (environment.production) {[m
[32m+[m[32m  enableProdMode();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mplatformBrowserDynamic().bootstrapModule(AppModule)[m
[32m+[m[32m  .catch(err => console.error(err));[m
[1mdiff --git a/projects/storyteller/webapp/src/polyfills.ts b/projects/storyteller/webapp/src/polyfills.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..a6d34ea[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/polyfills.ts[m
[36m@@ -0,0 +1,85 @@[m
[32m+[m[32m/**[m
[32m+[m[32m * This file includes polyfills needed by Angular and is loaded before the app.[m
[32m+[m[32m * You can add your own extra polyfills to this file.[m
[32m+[m[32m *[m
[32m+[m[32m * This file is divided into 2 sections:[m
[32m+[m[32m *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.[m
[32m+[m[32m *   2. Application imports. Files imported after ZoneJS that should be loaded before your main[m
[32m+[m[32m *      file.[m
[32m+[m[32m *[m
[32m+[m[32m * The current setup is for so-called "evergreen" browsers; the last versions of browsers that[m
[32m+[m[32m * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),[m
[32m+[m[32m * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.[m
[32m+[m[32m *[m
[32m+[m[32m * Learn more in https://angular.io/guide/browser-support[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * BROWSER POLYFILLS[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/** IE9, IE10, IE11, and Chrome <55 requires all of the following polyfills.[m
[32m+[m[32m *  This also includes Android Emulators with older versions of Chrome and Google Search/Googlebot[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m// import 'core-js/es6/symbol';[m
[32m+[m[32m// import 'core-js/es6/object';[m
[32m+[m[32m// import 'core-js/es6/function';[m
[32m+[m[32m// import 'core-js/es6/parse-int';[m
[32m+[m[32m// import 'core-js/es6/parse-float';[m
[32m+[m[32m// import 'core-js/es6/number';[m
[32m+[m[32m// import 'core-js/es6/math';[m
[32m+[m[32m// import 'core-js/es6/string';[m
[32m+[m[32m// import 'core-js/es6/date';[m
[32m+[m[32m// import 'core-js/es6/array';[m
[32m+[m[32m// import 'core-js/es6/regexp';[m
[32m+[m[32m// import 'core-js/es6/map';[m
[32m+[m[32m// import 'core-js/es6/weak-map';[m
[32m+[m[32m// import 'core-js/es6/set';[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for NgClass support on SVG elements */[m
[32m+[m[32m// import 'classlist.js';  // Run `npm install --save classlist.js`.[m
[32m+[m
[32m+[m[32m/** IE10 and IE11 requires the following for the Reflect API. */[m
[32m+[m[32m// import 'core-js/es6/reflect';[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Web Animations `@angular/platform-browser/animations`[m
[32m+[m[32m * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.[m
[32m+[m[32m * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).[m
[32m+[m[32m */[m
[32m+[m[32m// import 'web-animations-js';  // Run `npm install --save web-animations-js`.[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * By default, zone.js will patch all possible macroTask and DomEvents[m
[32m+[m[32m * user can disable parts of macroTask/DomEvents patch by setting following flags[m
[32m+[m[32m * because those flags need to be set before `zone.js` being loaded, and webpack[m
[32m+[m[32m * will put import in the top of bundle, so user need to create a separate file[m
[32m+[m[32m * in this directory (for example: zone-flags.ts), and put the following flags[m
[32m+[m[32m * into that file, and then add the following code before importing zone.js.[m
[32m+[m[32m * import './zone-flags.ts';[m
[32m+[m[32m *[m
[32m+[m[32m * The flags allowed in zone-flags.ts are listed here.[m
[32m+[m[32m *[m
[32m+[m[32m * The following flags will work for all browsers.[m
[32m+[m[32m *[m
[32m+[m[32m * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame[m
[32m+[m[32m * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick[m
[32m+[m[32m * (window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames[m
[32m+[m[32m *[m
[32m+[m[32m *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js[m
[32m+[m[32m *  with the following flag, it will bypass `zone.js` patch for IE/Edge[m
[32m+[m[32m *[m
[32m+[m[32m *  (window as any).__Zone_enable_cross_context_check = true;[m
[32m+[m[32m *[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * Zone JS is required by default for Angular itself.[m
[32m+[m[32m */[m
[32m+[m[32mimport 'zone.js/dist/zone';  // Included with Angular CLI.[m
[32m+[m
[32m+[m
[32m+[m[32m/***************************************************************************************************[m
[32m+[m[32m * APPLICATION IMPORTS[m
[32m+[m[32m */[m
[1mdiff --git a/projects/storyteller/webapp/src/styles.scss b/projects/storyteller/webapp/src/styles.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..90d4ee0[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/styles.scss[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/* You can add global styles to this file, and also import other style files */[m
[1mdiff --git a/projects/storyteller/webapp/src/test.ts b/projects/storyteller/webapp/src/test.ts[m
[1mnew file mode 100644[m
[1mindex 0000000..1631789[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/test.ts[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32m// This file is required by karma.conf.js and loads recursively all the .spec and framework files[m
[32m+[m
[32m+[m[32mimport 'zone.js/dist/zone-testing';[m
[32m+[m[32mimport { getTestBed } from '@angular/core/testing';[m
[32m+[m[32mimport {[m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting[m
[32m+[m[32m} from '@angular/platform-browser-dynamic/testing';[m
[32m+[m
[32m+[m[32mdeclare const require: any;[m
[32m+[m
[32m+[m[32m// First, initialize the Angular testing environment.[m
[32m+[m[32mgetTestBed().initTestEnvironment([m
[32m+[m[32m  BrowserDynamicTestingModule,[m
[32m+[m[32m  platformBrowserDynamicTesting()[m
[32m+[m[32m);[m
[32m+[m[32m// Then we find all the tests.[m
[32m+[m[32mconst context = require.context('./', true, /\.spec\.ts$/);[m
[32m+[m[32m// And load the modules.[m
[32m+[m[32mcontext.keys().map(context);[m
[1mdiff --git a/projects/storyteller/webapp/src/tsconfig.app.json b/projects/storyteller/webapp/src/tsconfig.app.json[m
[1mnew file mode 100644[m
[1mindex 0000000..190fd30[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/tsconfig.app.json[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/app",[m
[32m+[m[32m    "types": [][m
[32m+[m[32m  },[m
[32m+[m[32m  "exclude": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "**/*.spec.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/tsconfig.spec.json b/projects/storyteller/webapp/src/tsconfig.spec.json[m
[1mnew file mode 100644[m
[1mindex 0000000..de77336[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/tsconfig.spec.json[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "extends": "../tsconfig.json",[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "outDir": "../out-tsc/spec",[m
[32m+[m[32m    "types": [[m
[32m+[m[32m      "jasmine",[m
[32m+[m[32m      "node"[m
[32m+[m[32m    ][m
[32m+[m[32m  },[m
[32m+[m[32m  "files": [[m
[32m+[m[32m    "test.ts",[m
[32m+[m[32m    "polyfills.ts"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "include": [[m
[32m+[m[32m    "**/*.spec.ts",[m
[32m+[m[32m    "**/*.d.ts"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/src/tslint.json b/projects/storyteller/webapp/src/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..52e2c1a[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/src/tslint.json[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m{[m
[32m+[m[32m    "extends": "../tslint.json",[m
[32m+[m[32m    "rules": {[m
[32m+[m[32m        "directive-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "attribute",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "camelCase"[m
[32m+[m[32m        ],[m
[32m+[m[32m        "component-selector": [[m
[32m+[m[32m            true,[m
[32m+[m[32m            "element",[m
[32m+[m[32m            "app",[m
[32m+[m[32m            "kebab-case"[m
[32m+[m[32m        ][m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/tsconfig.json b/projects/storyteller/webapp/tsconfig.json[m
[1mnew file mode 100644[m
[1mindex 0000000..b7e9e56[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/tsconfig.json[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "compileOnSave": false,[m
[32m+[m[32m  "compilerOptions": {[m
[32m+[m[32m    "baseUrl": "src",[m
[32m+[m[32m    "paths": {[m
[32m+[m[32m      "@/*": ["app/*"],[m
[32m+[m[32m      "src/*": ["./*"][m
[32m+[m[32m    },[m
[32m+[m[32m    "outDir": "./dist/out-tsc",[m
[32m+[m[32m    "sourceMap": true,[m
[32m+[m[32m    "declaration": false,[m
[32m+[m[32m    "module": "es2015",[m
[32m+[m[32m    "moduleResolution": "node",[m
[32m+[m[32m    "emitDecoratorMetadata": true,[m
[32m+[m[32m    "experimentalDecorators": true,[m
[32m+[m[32m    "importHelpers": true,[m
[32m+[m[32m    "target": "es5",[m
[32m+[m[32m    "typeRoots": [[m
[32m+[m[32m      "node_modules/@types"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "lib": [[m
[32m+[m[32m      "es2018",[m
[32m+[m[32m      "dom"[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/projects/storyteller/webapp/tslint.json b/projects/storyteller/webapp/tslint.json[m
[1mnew file mode 100644[m
[1mindex 0000000..c740a7b[m
[1m--- /dev/null[m
[1m+++ b/projects/storyteller/webapp/tslint.json[m
[36m@@ -0,0 +1,131 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "rulesDirectory": [[m
[32m+[m[32m    "codelyzer"[m
[32m+[m[32m  ],[m
[32m+[m[32m  "rules": {[m
[32m+[m[32m    "arrow-return-shorthand": true,[m
[32m+[m[32m    "callable-types": true,[m
[32m+[m[32m    "class-name": true,[m
[32m+[m[32m    "comment-format": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-space"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "curly": true,[m
[32m+[m[32m    "deprecation": {[m
[32m+[m[32m      "severity": "warn"[m
[32m+[m[32m    },[m
[32m+[m[32m    "eofline": true,[m
[32m+[m[32m    "forin": true,[m
[32m+[m[32m    "import-blacklist": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "rxjs/Rx"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "import-spacing": true,[m
[32m+[m[32m    "indent": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "spaces"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "interface-over-type-literal": true,[m
[32m+[m[32m    "label-position": true,[m
[32m+[m[32m    "max-line-length": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      140[m
[32m+[m[32m    ],[m
[32m+[m[32m    "member-access": false,[m
[32m+[m[32m    "member-ordering": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "order": [[m
[32m+[m[32m          "static-field",[m
[32m+[m[32m          "instance-field",[m
[32m+[m[32m          "static-method",[m
[32m+[m[32m          "instance-method"[m
[32m+[m[32m        ][m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-arg": true,[m
[32m+[m[32m    "no-bitwise": true,[m
[32m+[m[32m    "no-console": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "debug",[m
[32m+[m[32m      "info",[m
[32m+[m[32m      "time",[m
[32m+[m[32m      "timeEnd",[m
[32m+[m[32m      "trace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-construct": true,[m
[32m+[m[32m    "no-debugger": true,[m
[32m+[m[32m    "no-duplicate-super": true,[m
[32m+[m[32m    "no-empty": false,[m
[32m+[m[32m    "no-empty-interface": true,[m
[32m+[m[32m    "no-eval": true,[m
[32m+[m[32m    "no-inferrable-types": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "ignore-params"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-misused-new": true,[m
[32m+[m[32m    "no-non-null-assertion": true,[m
[32m+[m[32m    "no-redundant-jsdoc": true,[m
[32m+[m[32m    "no-shadowed-variable": true,[m
[32m+[m[32m    "no-string-literal": false,[m
[32m+[m[32m    "no-string-throw": true,[m
[32m+[m[32m    "no-switch-case-fall-through": true,[m
[32m+[m[32m    "no-trailing-whitespace": true,[m
[32m+[m[32m    "no-unnecessary-initializer": true,[m
[32m+[m[32m    "no-unused-expression": true,[m
[32m+[m[32m    "no-use-before-declare": true,[m
[32m+[m[32m    "no-var-keyword": true,[m
[32m+[m[32m    "object-literal-sort-keys": false,[m
[32m+[m[32m    "one-line": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-open-brace",[m
[32m+[m[32m      "check-catch",[m
[32m+[m[32m      "check-else",[m
[32m+[m[32m      "check-whitespace"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "prefer-const": true,[m
[32m+[m[32m    "quotemark": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "single"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "radix": true,[m
[32m+[m[32m    "semicolon": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "always"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "triple-equals": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "allow-null-check"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "typedef-whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      {[m
[32m+[m[32m        "call-signature": "nospace",[m
[32m+[m[32m        "index-signature": "nospace",[m
[32m+[m[32m        "parameter": "nospace",[m
[32m+[m[32m        "property-declaration": "nospace",[m
[32m+[m[32m        "variable-declaration": "nospace"[m
[32m+[m[32m      }[m
[32m+[m[32m    ],[m
[32m+[m[32m    "unified-signatures": true,[m
[32m+[m[32m    "variable-name": false,[m
[32m+[m[32m    "whitespace": [[m
[32m+[m[32m      true,[m
[32m+[m[32m      "check-branch",[m
[32m+[m[32m      "check-decl",[m
[32m+[m[32m      "check-operator",[m
[32m+[m[32m      "check-separator",[m
[32m+[m[32m      "check-type"[m
[32m+[m[32m    ],[m
[32m+[m[32m    "no-output-on-prefix": true,[m
[32m+[m[32m    "use-input-property-decorator": true,[m
[32m+[m[32m    "use-output-property-decorator": true,[m
[32m+[m[32m    "use-host-property-decorator": true,[m
[32m+[m[32m    "no-input-rename": true,[m
[32m+[m[32m    "no-output-rename": true,[m
[32m+[m[32m    "use-life-cycle-interface": true,[m
[32m+[m[32m    "use-pipe-transform-interface": true,[m
[32m+[m[32m    "component-class-suffix": true,[m
[32m+[m[32m    "directive-class-suffix": true[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/third_party/BUILD b/third_party/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/third_party/java_grpc_library.bzl b/third_party/java_grpc_library.bzl[m
[1mnew file mode 100644[m
[1mindex 0000000..e1cd16c[m
[1m--- /dev/null[m
[1m+++ b/third_party/java_grpc_library.bzl[m
[36m@@ -0,0 +1,134 @@[m
[32m+[m[32m# This code is adapted from: https://github.com/grpc/grpc-java/blob/master/java_grpc_library.bzl[m
[32m+[m[32mdef _path_ignoring_repository(f):[m
[32m+[m[32m  if (len(f.owner.workspace_root) == 0):[m
[32m+[m[32m    return f.short_path[m
[32m+[m[32m  return f.path[f.path.find(f.owner.workspace_root)+len(f.owner.workspace_root)+1:][m
[32m+[m
[32m+[m[32mdef _gensource_impl(ctx):[m
[32m+[m[32m  if len(ctx.attr.srcs) > 1:[m
[32m+[m[32m    fail("Only one src value supported", "srcs")[m
[32m+[m[32m  for s in ctx.attr.srcs:[m
[32m+[m[32m    if s.label.package != ctx.label.package:[m
[32m+[m[32m      print(("in srcs attribute of {0}: Proto source with label {1} should be in "[m
[32m+[m[32m             + "same package as consuming rule").format(ctx.label, s.label))[m
[32m+[m[32m  # Use .jar since .srcjar makes protoc think output will be a directory[m
[32m+[m[32m  srcdotjar = ctx.new_file(ctx.label.name + "_src.jar")[m
[32m+[m
[32m+[m[32m  srcs = [f for dep in ctx.attr.srcs for f in dep.proto.direct_sources][m
[32m+[m[32m  includes = [f for dep in ctx.attr.srcs for f in dep.proto.transitive_imports][m
[32m+[m
[32m+[m[32m  flavor = ctx.attr.flavor[m
[32m+[m[32m  if flavor == "normal":[m
[32m+[m[32m    flavor = ""[m
[32m+[m[32m  ctx.action([m
[32m+[m[32m      inputs = [ctx.executable._java_plugin] + srcs + includes,[m
[32m+[m[32m      outputs = [srcdotjar],[m
[32m+[m[32m      executable = ctx.executable._protoc,[m
[32m+[m[32m      arguments = [[m
[32m+[m[32m          "--plugin=protoc-gen-grpc-java=" + ctx.executable._java_plugin.path,[m
[32m+[m[32m          "--grpc-java_out={0},enable_deprecated={1}:{2}"[m
[32m+[m[32m            .format(flavor, str(ctx.attr.enable_deprecated).lower(), srcdotjar.path)][m
[32m+[m[32m          + ["-I{0}={1}".format(_path_ignoring_repository(include), include.path) for include in includes][m
[32m+[m[32m          + [_path_ignoring_repository(src) for src in srcs])[m
[32m+[m[32m  ctx.action([m
[32m+[m[32m      command = "cp $1 $2",[m
[32m+[m[32m      inputs = [srcdotjar],[m
[32m+[m[32m      outputs = [ctx.outputs.srcjar],[m
[32m+[m[32m      arguments = [srcdotjar.path, ctx.outputs.srcjar.path])[m
[32m+[m
[32m+[m[32m_gensource = rule([m
[32m+[m[32m    attrs = {[m
[32m+[m[32m        "srcs": attr.label_list([m
[32m+[m[32m            mandatory = True,[m
[32m+[m[32m            non_empty = True,[m
[32m+[m[32m            providers = ["proto"],[m
[32m+[m[32m        ),[m
[32m+[m[32m        "flavor": attr.string([m
[32m+[m[32m            values = [[m
[32m+[m[32m                "normal",[m
[32m+[m[32m                "lite",  # Not currently supported[m
[32m+[m[32m            ],[m
[32m+[m[32m            default = "normal",[m
[32m+[m[32m        ),[m
[32m+[m[32m        "enable_deprecated": attr.bool([m
[32m+[m[32m            default = False,[m
[32m+[m[32m        ),[m
[32m+[m[32m        "_protoc": attr.label([m
[32m+[m[32m            default = Label("//external:proto_compiler"),[m
[32m+[m[32m            executable = True,[m
[32m+[m[32m            cfg = "host",[m
[32m+[m[32m        ),[m
[32m+[m[32m        "_java_plugin": attr.label([m
[32m+[m[32m            default = Label("//external:grpc_java_plugin"),[m
[32m+[m[32m            executable = True,[m
[32m+[m[32m            cfg = "host",[m
[32m+[m[32m        ),[m
[32m+[m[32m    },[m
[32m+[m[32m    outputs = {[m
[32m+[m[32m        "srcjar": "%{name}.srcjar",[m
[32m+[m[32m    },[m
[32m+[m[32m    implementation = _gensource_impl,[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mdef java_grpc_library(name, srcs, deps, flavor=None,[m
[32m+[m[32m                      enable_deprecated=None, visibility=None,[m
[32m+[m[32m                      **kwargs):[m
[32m+[m[32m  """Generates and compiles gRPC Java sources for services defined in a proto[m
[32m+[m[32m  file. This rule is compatible with java_proto_library and java_lite_proto_library.[m
[32m+[m
[32m+[m[32m  Do note that this rule only scans through the proto file for RPC services. It[m
[32m+[m[32m  does not generate Java classes for proto messages. You will need a separate[m
[32m+[m[32m  java_proto_library or java_lite_proto_library rule.[m
[32m+[m
[32m+[m[32m  Args:[m
[32m+[m[32m    name: (str) A unique name for this rule. Required.[m
[32m+[m[32m    srcs: (list) a single proto_library target that contains the schema of the[m
[32m+[m[32m        service. Required.[m
[32m+[m[32m    deps: (list) a single java_proto_library target for the proto_library in[m
[32m+[m[32m        srcs.  Required.[m
[32m+[m[32m    flavor: (str) "normal" (default) for normal proto runtime. "lite"[m
[32m+[m[32m        for the lite runtime.[m
[32m+[m[32m    visibility: (list) the visibility list[m
[32m+[m[32m    **kwargs: Passed through to generated targets[m
[32m+[m[32m  """[m
[32m+[m[32m  if flavor == None:[m
[32m+[m[32m    flavor = "normal"[m
[32m+[m
[32m+[m[32m  if len(deps) > 1:[m
[32m+[m[32m    print("Multiple values in 'deps' is deprecated in " + name)[m
[32m+[m
[32m+[m[32m  gensource_name = name + "__do_not_reference__srcjar"[m
[32m+[m[32m  _gensource([m
[32m+[m[32m      name = gensource_name,[m
[32m+[m[32m      srcs = srcs,[m
[32m+[m[32m      flavor = flavor,[m
[32m+[m[32m      enable_deprecated = enable_deprecated,[m
[32m+[m[32m      visibility = ["//visibility:private"],[m
[32m+[m[32m      **kwargs[m
[32m+[m[32m  )[m
[32m+[m
[32m+[m[32m  added_deps = [[m
[32m+[m[32m      "//third_party/maven/io/grpc:grpc_core",[m
[32m+[m[32m      "//third_party/maven/io/grpc:grpc_stub",[m
[32m+[m[32m      "//third_party/maven/javax/annotation:javax_annotation_api",[m
[32m+[m[32m      "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m  ][m
[32m+[m[32m  if flavor == "normal":[m
[32m+[m[32m    added_deps += [[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_protobuf",[m
[32m+[m[32m    ][m
[32m+[m[32m  elif flavor == "lite":[m
[32m+[m[32m    added_deps += ["//third_party/maven/io/grpc:grpc_protobuf_lite"][m
[32m+[m[32m  else:[m
[32m+[m[32m    fail("Unknown flavor type", "flavor")[m
[32m+[m
[32m+[m[32m  native.java_library([m
[32m+[m[32m      name = name,[m
[32m+[m[32m      srcs = [gensource_name],[m
[32m+[m[32m      visibility = visibility,[m
[32m+[m[32m      deps = [[m
[32m+[m[32m          "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m      ] + deps + added_deps,[m
[32m+[m[32m      **kwargs[m
[32m+[m[32m  )[m
[1mdiff --git a/third_party/maven/BUILD b/third_party/maven/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/third_party/maven/antlr/BUILD b/third_party/maven/antlr/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..245a063[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/antlr/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "antlr",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnantlr/antlr"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/fasterxml/jackson/core/BUILD b/third_party/maven/com/fasterxml/jackson/core/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..54d64f9[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/fasterxml/jackson/core/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jackson_core",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/fasterxml/jackson/core/jackson_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/api/BUILD b/third_party/maven/com/google/api/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..0bcefdd[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/api/BUILD[m
[36m@@ -0,0 +1,94 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "api_common",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/api_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "gax",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/gax"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_oauth2_http",[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/org/threeten:threetenbp",[m
[32m+[m[32m        ":api_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "gax_grpc",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/gax_grpc"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api/grpc:proto_google_common_protos",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_credentials",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_oauth2_http",[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_auth",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_protobuf",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_stub",[m
[32m+[m[32m        "//third_party/maven/org/threeten:threetenbp",[m
[32m+[m[32m        ":api_common",[m
[32m+[m[32m        ":gax"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "gax_httpjson",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/gax_httpjson"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_credentials",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_oauth2_http",[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/code/gson:gson",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client",[m
[32m+[m[32m        "//third_party/maven/org/threeten:threetenbp",[m
[32m+[m[32m        ":api_common",[m
[32m+[m[32m        ":gax"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/api/grpc/BUILD b/third_party/maven/com/google/api/grpc/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..b2bc66e[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/api/grpc/BUILD[m
[36m@@ -0,0 +1,57 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "proto_google_cloud_firestore_v1beta1",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/grpc/proto_google_cloud_firestore_v1beta1"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api:api_common",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        ":proto_google_common_protos"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "proto_google_common_protos",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/grpc/proto_google_common_protos"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "proto_google_iam_v1",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api/grpc/proto_google_iam_v1"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api:api_common",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        ":proto_google_common_protos"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/api_client/BUILD b/third_party/maven/com/google/api_client/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..d49b609[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/api_client/BUILD[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_api_client",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api_client/google_api_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_jackson2",[m
[32m+[m[32m        "//third_party/maven/com/google/oauth_client:google_oauth_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_api_client_gson",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/api_client/google_api_client_gson"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_gson",[m
[32m+[m[32m        ":google_api_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/apis/BUILD b/third_party/maven/com/google/apis/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..dd868e0[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/apis/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_api_services_storage",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/apis/google_api_services_storage"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/auth/BUILD b/third_party/maven/com/google/auth/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..8396f96[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/auth/BUILD[m
[36m@@ -0,0 +1,35 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_auth_library_credentials",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auth/google_auth_library_credentials"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_auth_library_oauth2_http",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auth/google_auth_library_oauth2_http"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_jackson2",[m
[32m+[m[32m        ":google_auth_library_credentials"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/auto/BUILD b/third_party/maven/com/google/auto/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..9149e84[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/auto/BUILD[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "auto_common",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auto/auto_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/auto/factory/BUILD b/third_party/maven/com/google/auto/factory/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..85e58cc[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/auto/factory/BUILD[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "auto_factory",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auto/factory/auto_factory"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/auto/value:auto_value",[m
[32m+[m[32m        "//third_party/maven/com/google/auto:auto_common",[m
[32m+[m[32m        "//third_party/maven/com/google/googlejavaformat:google_java_format",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/squareup:javapoet",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/auto/value/BUILD b/third_party/maven/com/google/auto/value/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..3af8bbe[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/auto/value/BUILD[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "auto_value",[m
[32m+[m[32m    exported_plugins = [[m
[32m+[m[32m        ":auto_value_plugin"[m
[32m+[m[32m    ],[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auto/value/auto_value"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m[32mjava_plugin([m
[32m+[m[32m    name = "auto_value_plugin",[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auto/value/auto_value"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    processor_class = "com.google.auto.value.processor.AutoValueProcessor",[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "auto_value_annotations",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/auto/value/auto_value_annotations"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/cloud/BUILD b/third_party/maven/com/google/cloud/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..ae9973a[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/cloud/BUILD[m
[36m@@ -0,0 +1,131 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_cloud_core",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/cloud/google_cloud_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api/grpc:proto_google_common_protos",[m
[32m+[m[32m        "//third_party/maven/com/google/api/grpc:proto_google_iam_v1",[m
[32m+[m[32m        "//third_party/maven/com/google/api:api_common",[m
[32m+[m[32m        "//third_party/maven/com/google/api:gax",[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java_util",[m
[32m+[m[32m        "//third_party/maven/joda_time:joda_time"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_cloud_core_grpc",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/cloud/google_cloud_core_grpc"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api:gax_grpc",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_credentials",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java_util",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_auth",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_context",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_netty_shaded",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_protobuf",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_stub",[m
[32m+[m[32m        ":google_cloud_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_cloud_core_http",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/cloud/google_cloud_core_http"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api:gax_httpjson",[m
[32m+[m[32m        "//third_party/maven/com/google/api_client:google_api_client",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_credentials",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_oauth2_http",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_appengine",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_jackson",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client_jackson2",[m
[32m+[m[32m        "//third_party/maven/com/google/oauth_client:google_oauth_client",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_api",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_contrib_http_util",[m
[32m+[m[32m        ":google_cloud_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_cloud_firestore",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/cloud/google_cloud_firestore"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api/grpc:proto_google_cloud_firestore_v1beta1",[m
[32m+[m[32m        "//third_party/maven/com/google/api:api_common",[m
[32m+[m[32m        "//third_party/maven/com/google/api:gax_grpc",[m
[32m+[m[32m        "//third_party/maven/com/google/auto/value:auto_value",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_auth",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_netty_shaded",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_stub",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_api",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_contrib_grpc_util",[m
[32m+[m[32m        ":google_cloud_core",[m
[32m+[m[32m        ":google_cloud_core_grpc"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_cloud_storage",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/cloud/google_cloud_storage"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/apis:google_api_services_storage",[m
[32m+[m[32m        ":google_cloud_core",[m
[32m+[m[32m        ":google_cloud_core_http"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/code/findbugs/BUILD b/third_party/maven/com/google/code/findbugs/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..d29b108[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/code/findbugs/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jsr305",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/code/findbugs/jsr305"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/code/gson/BUILD b/third_party/maven/com/google/code/gson/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..f764e06[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/code/gson/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "gson",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/code/gson/gson"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/dagger/BUILD b/third_party/maven/com/google/dagger/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..34238c2[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/dagger/BUILD[m
[36m@@ -0,0 +1,84 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "dagger",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/dagger/dagger"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "dagger_compiler",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/dagger/dagger_compiler"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/googlejavaformat:google_java_format",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/squareup:javapoet",[m
[32m+[m[32m        "//third_party/maven/javax/annotation:jsr250_api",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        ":dagger",[m
[32m+[m[32m        ":dagger_producers",[m
[32m+[m[32m        ":dagger_spi"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "dagger_producers",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/dagger/dagger_producers"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "//third_party/maven/org/checkerframework:checker_compat_qual",[m
[32m+[m[32m        ":dagger"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "dagger_spi",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/dagger/dagger_spi"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        ":dagger",[m
[32m+[m[32m        ":dagger_producers"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/errorprone/BUILD b/third_party/maven/com/google/errorprone/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..b8901c3[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/errorprone/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "error_prone_annotations",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/errorprone/error_prone_annotations"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "javac_shaded",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/errorprone/javac_shaded"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/firebase/BUILD b/third_party/maven/com/google/firebase/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..18ee966[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/firebase/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "firebase_admin",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/firebase/firebase_admin"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api:api_common",[m
[32m+[m[32m        "//third_party/maven/com/google/api_client:google_api_client",[m
[32m+[m[32m        "//third_party/maven/com/google/api_client:google_api_client_gson",[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_oauth2_http",[m
[32m+[m[32m        "//third_party/maven/com/google/cloud:google_cloud_firestore",[m
[32m+[m[32m        "//third_party/maven/com/google/cloud:google_cloud_storage",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client",[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_codec_http",[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_handler",[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_transport",[m
[32m+[m[32m        "//third_party/maven/org/json:json",[m
[32m+[m[32m        "//third_party/maven/org/slf4j:slf4j_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/flogger/BUILD b/third_party/maven/com/google/flogger/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..b4c8175[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/flogger/BUILD[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "flogger",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/flogger/flogger"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "flogger_system_backend",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/flogger/flogger_system_backend"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        ":flogger"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/googlejavaformat/BUILD b/third_party/maven/com/google/googlejavaformat/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..4694036[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/googlejavaformat/BUILD[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_java_format",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/googlejavaformat/google_java_format"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/errorprone:javac_shaded",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/guava/BUILD b/third_party/maven/com/google/guava/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..dc8a48b[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/guava/BUILD[m
[36m@@ -0,0 +1,53 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "failureaccess",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/guava/failureaccess"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "guava",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/guava/guava"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/errorprone:error_prone_annotations",[m
[32m+[m[32m        "//third_party/maven/com/google/j2objc:j2objc_annotations",[m
[32m+[m[32m        "//third_party/maven/org/checkerframework:checker_compat_qual",[m
[32m+[m[32m        "//third_party/maven/org/codehaus/mojo:animal_sniffer_annotations",[m
[32m+[m[32m        ":failureaccess",[m
[32m+[m[32m        ":listenablefuture"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "listenablefuture",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/guava/listenablefuture"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/http_client/BUILD b/third_party/maven/com/google/http_client/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..bb5f2dd[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/http_client/BUILD[m
[36m@@ -0,0 +1,94 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_http_client",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/http_client/google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/j2objc:j2objc_annotations",[m
[32m+[m[32m        "//third_party/maven/org/apache/httpcomponents:httpclient"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_http_client_appengine",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/http_client/google_http_client_appengine"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_http_client_gson",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/http_client/google_http_client_gson"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/gson:gson",[m
[32m+[m[32m        ":google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_http_client_jackson",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/http_client/google_http_client_jackson"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/org/codehaus/jackson:jackson_core_asl",[m
[32m+[m[32m        ":google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_http_client_jackson2",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/http_client/google_http_client_jackson2"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/fasterxml/jackson/core:jackson_core",[m
[32m+[m[32m        ":google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/j2objc/BUILD b/third_party/maven/com/google/j2objc/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..0d9687e[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/j2objc/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "j2objc_annotations",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/j2objc/j2objc_annotations"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/jimfs/BUILD b/third_party/maven/com/google/jimfs/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..b7d10ea[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/jimfs/BUILD[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jimfs",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/jimfs/jimfs"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/oauth_client/BUILD b/third_party/maven/com/google/oauth_client/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..eacc681[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/oauth_client/BUILD[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "google_oauth_client",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/oauth_client/google_oauth_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/http_client:google_http_client"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/protobuf/BUILD b/third_party/maven/com/google/protobuf/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e863ff1[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/protobuf/BUILD[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "protobuf_java",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/protobuf/protobuf_java"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "protobuf_java_util",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/protobuf/protobuf_java_util"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/gson:gson",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        ":protobuf_java"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/google/re2j/BUILD b/third_party/maven/com/google/re2j/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..b46db33[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/google/re2j/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "re2j",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/google/re2j/re2j"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/jcraft/BUILD b/third_party/maven/com/jcraft/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..08ee1b9[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/jcraft/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jsch",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/jcraft/jsch"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/puppycrawl/tools/BUILD b/third_party/maven/com/puppycrawl/tools/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..8f27b14[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/puppycrawl/tools/BUILD[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "checkstyle",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/puppycrawl/tools/checkstyle"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/antlr:antlr",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/commons_beanutils:commons_beanutils",[m
[32m+[m[32m        "//third_party/maven/info/picocli:picocli",[m
[32m+[m[32m        "//third_party/maven/net/sf/saxon:Saxon_HE",[m
[32m+[m[32m        "//third_party/maven/org/antlr:antlr4_runtime"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/squareup/BUILD b/third_party/maven/com/squareup/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e13f334[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/squareup/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "javapoet",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/squareup/javapoet"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/squareup/okhttp/BUILD b/third_party/maven/com/squareup/okhttp/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..5dea90b[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/squareup/okhttp/BUILD[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "okhttp",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/squareup/okhttp/okhttp"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/squareup/okio:okio"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/com/squareup/okio/BUILD b/third_party/maven/com/squareup/okio/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..246d22c[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/com/squareup/okio/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "okio",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncom/squareup/okio/okio"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/commons_beanutils/BUILD b/third_party/maven/commons_beanutils/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..6337fca[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/commons_beanutils/BUILD[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_beanutils",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncommons_beanutils/commons_beanutils"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/commons_collections:commons_collections",[m
[32m+[m[32m        "//third_party/maven/commons_logging:commons_logging"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/commons_codec/BUILD b/third_party/maven/commons_codec/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..d0be42f[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/commons_codec/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_codec",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncommons_codec/commons_codec"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/commons_collections/BUILD b/third_party/maven/commons_collections/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..dc86df3[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/commons_collections/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_collections",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncommons_collections/commons_collections"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/commons_logging/BUILD b/third_party/maven/commons_logging/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..9360887[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/commons_logging/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_logging",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvncommons_logging/commons_logging"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/info/picocli/BUILD b/third_party/maven/info/picocli/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..7468e7b[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/info/picocli/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "picocli",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvninfo/picocli/picocli"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/io/grpc/BUILD b/third_party/maven/io/grpc/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..7fc21ff[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/io/grpc/BUILD[m
[36m@@ -0,0 +1,176 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_auth",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_auth"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/auth:google_auth_library_credentials",[m
[32m+[m[32m        ":grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_context",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_context"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_core",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/code/findbugs:jsr305",[m
[32m+[m[32m        "//third_party/maven/com/google/code/gson:gson",[m
[32m+[m[32m        "//third_party/maven/com/google/errorprone:error_prone_annotations",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_api",[m
[32m+[m[32m        "//third_party/maven/io/opencensus:opencensus_contrib_grpc_metrics",[m
[32m+[m[32m        "//third_party/maven/org/codehaus/mojo:animal_sniffer_annotations",[m
[32m+[m[32m        ":grpc_context"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_netty",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_netty"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_codec_http2",[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_handler_proxy",[m
[32m+[m[32m        ":grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_netty_shaded",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_netty_shaded"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_protobuf",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_protobuf"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/api/grpc:proto_google_common_protos",[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        ":grpc_core",[m
[32m+[m[32m        ":grpc_protobuf_lite"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_protobuf_lite",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_protobuf_lite"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        ":grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_services",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_services"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java_util",[m
[32m+[m[32m        "//third_party/maven/com/google/re2j:re2j",[m
[32m+[m[32m        ":grpc_protobuf",[m
[32m+[m[32m        ":grpc_stub"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "grpc_stub",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/grpc/grpc_stub"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":grpc_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/io/netty/BUILD b/third_party/maven/io/netty/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..6376d20[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/io/netty/BUILD[m
[36m@@ -0,0 +1,197 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_buffer",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_buffer"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_codec",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_codec"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_transport"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_codec_http",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_codec_http"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_codec"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_codec_http2",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_codec_http2"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_codec_http",[m
[32m+[m[32m        ":netty_handler"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_codec_socks",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_codec_socks"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_codec"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_common",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_handler",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_handler"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_buffer",[m
[32m+[m[32m        ":netty_codec",[m
[32m+[m[32m        ":netty_transport"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_handler_proxy",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_handler_proxy"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_codec_http",[m
[32m+[m[32m        ":netty_codec_socks",[m
[32m+[m[32m        ":netty_transport"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_resolver",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_resolver"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_common"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_tcnative_boringssl_static",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_tcnative_boringssl_static"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "netty_transport",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/netty/netty_transport"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":netty_buffer",[m
[32m+[m[32m        ":netty_resolver"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/io/opencensus/BUILD b/third_party/maven/io/opencensus/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..625b9b5[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/io/opencensus/BUILD[m
[36m@@ -0,0 +1,74 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "opencensus_api",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/opencensus/opencensus_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_context"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "opencensus_contrib_grpc_metrics",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/opencensus/opencensus_contrib_grpc_metrics"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        ":opencensus_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "opencensus_contrib_grpc_util",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/opencensus/opencensus_contrib_grpc_util"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_core",[m
[32m+[m[32m        ":opencensus_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "opencensus_contrib_http_util",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnio/opencensus/opencensus_contrib_http_util"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m        ":opencensus_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/javax/annotation/BUILD b/third_party/maven/javax/annotation/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..8cd10c7[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/javax/annotation/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "javax_annotation_api",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnjavax/annotation/javax_annotation_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jsr250_api",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnjavax/annotation/jsr250_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/javax/inject/BUILD b/third_party/maven/javax/inject/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..f4b64b3[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/javax/inject/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "javax_inject",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnjavax/inject/javax_inject"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/joda_time/BUILD b/third_party/maven/joda_time/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..440ab3b[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/joda_time/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "joda_time",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnjoda_time/joda_time"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/junit/BUILD b/third_party/maven/junit/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..4a30c10[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/junit/BUILD[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "junit",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnjunit/junit"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/org/hamcrest:hamcrest_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/net/bytebuddy/BUILD b/third_party/maven/net/bytebuddy/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..94f1fb8[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/net/bytebuddy/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "byte_buddy",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnnet/bytebuddy/byte_buddy"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "byte_buddy_agent",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnnet/bytebuddy/byte_buddy_agent"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/net/sf/saxon/BUILD b/third_party/maven/net/sf/saxon/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..69f92bb[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/net/sf/saxon/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "Saxon_HE",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnnet/sf/saxon/Saxon_HE"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/antlr/BUILD b/third_party/maven/org/antlr/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..ca3df59[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/antlr/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "antlr4_runtime",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/antlr/antlr4_runtime"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/apache/commons/BUILD b/third_party/maven/org/apache/commons/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e2bd602[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/apache/commons/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_csv",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/commons/commons_csv"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "commons_lang3",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/commons/commons_lang3"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/apache/httpcomponents/BUILD b/third_party/maven/org/apache/httpcomponents/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..4baf305[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/apache/httpcomponents/BUILD[m
[36m@@ -0,0 +1,53 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "fluent_hc",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/httpcomponents/fluent_hc"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/commons_logging:commons_logging",[m
[32m+[m[32m        ":httpclient"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "httpclient",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/httpcomponents/httpclient"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/commons_codec:commons_codec",[m
[32m+[m[32m        "//third_party/maven/commons_logging:commons_logging",[m
[32m+[m[32m        ":httpcore"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "httpcore",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/httpcomponents/httpcore"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/apache/pdfbox/BUILD b/third_party/maven/org/apache/pdfbox/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..a604713[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/apache/pdfbox/BUILD[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "fontbox",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/pdfbox/fontbox"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/commons_logging:commons_logging"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "pdfbox",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/apache/pdfbox/pdfbox"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/commons_logging:commons_logging",[m
[32m+[m[32m        ":fontbox"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/checkerframework/BUILD b/third_party/maven/org/checkerframework/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..3208d72[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/checkerframework/BUILD[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "checker_compat_qual",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/checkerframework/checker_compat_qual"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "checker_qual",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/checkerframework/checker_qual"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/codehaus/jackson/BUILD b/third_party/maven/org/codehaus/jackson/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..99dcbf7[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/codehaus/jackson/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jackson_core_asl",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/codehaus/jackson/jackson_core_asl"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/codehaus/mojo/BUILD b/third_party/maven/org/codehaus/mojo/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..dc59770[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/codehaus/mojo/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "animal_sniffer_annotations",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/codehaus/mojo/animal_sniffer_annotations"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/hamcrest/BUILD b/third_party/maven/org/hamcrest/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..d1d7139[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/hamcrest/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "hamcrest_core",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/hamcrest/hamcrest_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/javassist/BUILD b/third_party/maven/org/javassist/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..095c866[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/javassist/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "javassist",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/javassist/javassist"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/json/BUILD b/third_party/maven/org/json/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..40a8c80[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/json/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "json",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/json/json"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/jsoup/BUILD b/third_party/maven/org/jsoup/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..edbf6b7[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/jsoup/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "jsoup",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/jsoup/jsoup"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/mockito/BUILD b/third_party/maven/org/mockito/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..fe09932[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/mockito/BUILD[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "mockito_core",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/mockito/mockito_core"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        "//third_party/maven/net/bytebuddy:byte_buddy",[m
[32m+[m[32m        "//third_party/maven/net/bytebuddy:byte_buddy_agent",[m
[32m+[m[32m        "//third_party/maven/org/objenesis:objenesis"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/objenesis/BUILD b/third_party/maven/org/objenesis/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..aac2adc[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/objenesis/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "objenesis",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/objenesis/objenesis"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/slf4j/BUILD b/third_party/maven/org/slf4j/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..7fc0ce9[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/slf4j/BUILD[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "slf4j_api",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/slf4j/slf4j_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "slf4j_simple",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/slf4j/slf4j_simple"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    runtime_deps = [[m
[32m+[m[32m        ":slf4j_api"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//visibility:public"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/org/threeten/BUILD b/third_party/maven/org/threeten/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..d5db0da[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/org/threeten/BUILD[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "threetenbp",[m
[32m+[m[32m    exports = [[m
[32m+[m[32m        "//external:jar/mvnorg/threeten/threetenbp"[m
[32m+[m[32m    ],[m
[32m+[m[32m    licenses = [[m
[32m+[m[32m        "permissive"[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = [[m
[32m+[m[32m        "//third_party/maven:__subpackages__"[m
[32m+[m[32m    ][m
[32m+[m[32m)[m
[32m+[m
[32m+[m
[1mdiff --git a/third_party/maven/workspace.bzl b/third_party/maven/workspace.bzl[m
[1mnew file mode 100644[m
[1mindex 0000000..a5148d6[m
[1m--- /dev/null[m
[1m+++ b/third_party/maven/workspace.bzl[m
[36m@@ -0,0 +1,344 @@[m
[32m+[m[32m# Do not edit. bazel-deps autogenerates this file from dependencies.yaml.[m
[32m+[m[32mdef _jar_artifact_impl(ctx):[m
[32m+[m[32m    jar_name = "%s.jar" % ctx.name[m
[32m+[m[32m    ctx.download([m
[32m+[m[32m        output=ctx.path("jar/%s" % jar_name),[m
[32m+[m[32m        url=ctx.attr.urls,[m
[32m+[m[32m        sha256=ctx.attr.sha256,[m
[32m+[m[32m        executable=False[m
[32m+[m[32m    )[m
[32m+[m[32m    src_name="%s-sources.jar" % ctx.name[m
[32m+[m[32m    srcjar_attr=""[m
[32m+[m[32m    has_sources = len(ctx.attr.src_urls) != 0[m
[32m+[m[32m    if has_sources:[m
[32m+[m[32m        ctx.download([m
[32m+[m[32m            output=ctx.path("jar/%s" % src_name),[m
[32m+[m[32m            url=ctx.attr.src_urls,[m
[32m+[m[32m            sha256=ctx.attr.src_sha256,[m
[32m+[m[32m            executable=False[m
[32m+[m[32m        )[m
[32m+[m[32m        srcjar_attr ='\n    srcjar = ":%s",' % src_name[m
[32m+[m
[32m+[m[32m    build_file_contents = """[m
[32m+[m[32mpackage(default_visibility = ['//visibility:public'])[m
[32m+[m[32mjava_import([m
[32m+[m[32m    name = 'jar',[m
[32m+[m[32m    jars = ['{jar_name}'],{srcjar_attr}[m
[32m+[m[32m)[m
[32m+[m[32mfilegroup([m
[32m+[m[32m    name = 'file',[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        '{jar_name}',[m
[32m+[m[32m        '{src_name}'[m
[32m+[m[32m    ],[m
[32m+[m[32m    visibility = ['//visibility:public'][m
[32m+[m[32m)\n""".format(jar_name = jar_name, src_name = src_name, srcjar_attr = srcjar_attr)[m
[32m+[m[32m    ctx.file(ctx.path("jar/BUILD"), build_file_contents, False)[m
[32m+[m[32m    return None[m
[32m+[m
[32m+[m[32mjar_artifact = repository_rule([m
[32m+[m[32m    attrs = {[m
[32m+[m[32m        "artifact": attr.string(mandatory = True),[m
[32m+[m[32m        "sha256": attr.string(mandatory = True),[m
[32m+[m[32m        "urls": attr.string_list(mandatory = True),[m
[32m+[m[32m        "src_sha256": attr.string(mandatory = False, default=""),[m
[32m+[m[32m        "src_urls": attr.string_list(mandatory = False, default=[]),[m
[32m+[m[32m    },[m
[32m+[m[32m    implementation = _jar_artifact_impl[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mdef jar_artifact_callback(hash):[m
[32m+[m[32m    src_urls = [][m
[32m+[m[32m    src_sha256 = ""[m
[32m+[m[32m    source=hash.get("source", None)[m
[32m+[m[32m    if source != None:[m
[32m+[m[32m        src_urls = [source["url"]][m
[32m+[m[32m        src_sha256 = source["sha256"][m
[32m+[m[32m    jar_artifact([m
[32m+[m[32m        artifact = hash["artifact"],[m
[32m+[m[32m        name = hash["name"],[m
[32m+[m[32m        urls = [hash["url"]],[m
[32m+[m[32m        sha256 = hash["sha256"],[m
[32m+[m[32m        src_urls = src_urls,[m
[32m+[m[32m        src_sha256 = src_sha256[m
[32m+[m[32m    )[m
[32m+[m[32m    native.bind(name = hash["bind"], actual = hash["actual"])[m
[32m+[m
[32m+[m[32mdef list_dependencies():[m
[32m+[m[32m    return [[m
[32m+[m[32m    {"artifact": "antlr:antlr:2.7.7", "lang": "java", "sha1": "83cd2cd674a217ade95a4bb83a8a14f351f48bd0", "sha256": "88fbda4b912596b9f56e8e12e580cc954bacfb51776ecfddd3e18fc1cf56dc4c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.jar", "name": "mvnantlr_antlr", "actual": "@mvnantlr_antlr//jar", "bind": "jar/mvnantlr/antlr"},[m
[32m+[m[32m    {"artifact": "com.fasterxml.jackson.core:jackson-core:2.9.6", "lang": "java", "sha1": "4e393793c37c77e042ccc7be5a914ae39251b365", "sha256": "fab8746aedd6427788ee390ea04d438ec141bff7eb3476f8bdd5d9110fb2718a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-core/2.9.6/jackson-core-2.9.6.jar", "source": {"sha1": "297b561cc2ca89e07bf4cb6445c08260b524aa4d", "sha256": "8aff614c41c49fb02ac7444dc1a9518f1f9fc5b7c744ada59825225858a0336d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-core/2.9.6/jackson-core-2.9.6-sources.jar"} , "name": "mvncom_fasterxml_jackson_core_jackson_core", "actual": "@mvncom_fasterxml_jackson_core_jackson_core//jar", "bind": "jar/mvncom/fasterxml/jackson/core/jackson_core"},[m
[32m+[m[32m    {"artifact": "com.google.api-client:google-api-client-gson:1.25.0", "lang": "java", "sha1": "57c2625fcd249024b931f31f7719826f4b46a538", "sha256": "384e899d645c31e087689a933619a5d29ba26c791c4d5445be9107a4a4319814", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api-client/google-api-client-gson/1.25.0/google-api-client-gson-1.25.0.jar", "source": {"sha1": "520d2350902ea07d1cd50ad24f66ee392ff3f2a5", "sha256": "6bdb80f934c29059e8219fa50fc5f30f221ed9c03fa592ef92f17f49c15da74e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api-client/google-api-client-gson/1.25.0/google-api-client-gson-1.25.0-sources.jar"} , "name": "mvncom_google_api_client_google_api_client_gson", "actual": "@mvncom_google_api_client_google_api_client_gson//jar", "bind": "jar/mvncom/google/api_client/google_api_client_gson"},[m
[32m+[m[32m# duplicates in com.google.api-client:google-api-client promoted to 1.25.0[m
[32m+[m[32m# - com.google.api-client:google-api-client-gson:1.25.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 1.25.0[m
[32m+[m[32m    {"artifact": "com.google.api-client:google-api-client:1.25.0", "lang": "java", "sha1": "e7ff725e89ff5dcbed107be1a24e8102ae2441ee", "sha256": "24e1a69d6c04e6e72e3e16757d46d32daa7dd43cb32c3895f832f25358be1402", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api-client/google-api-client/1.25.0/google-api-client-1.25.0.jar", "source": {"sha1": "00f57f84aecde93c4c9fde6b0ced9deee893e6c0", "sha256": "a443df671d9a8a403c26101af0bea375d61b43f0eb6f3361982e7142527d5554", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api-client/google-api-client/1.25.0/google-api-client-1.25.0-sources.jar"} , "name": "mvncom_google_api_client_google_api_client", "actual": "@mvncom_google_api_client_google_api_client//jar", "bind": "jar/mvncom/google/api_client/google_api_client"},[m
[32m+[m[32m    {"artifact": "com.google.api.grpc:proto-google-cloud-firestore-v1beta1:0.26.0", "lang": "java", "sha1": "69030565c34affbbcee0df2a79e0a9d97692320a", "sha256": "db0b9945b62a1a5827612fa5d9fea2e8e5140157dd52d66fe2948e5d945a9a9c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-cloud-firestore-v1beta1/0.26.0/proto-google-cloud-firestore-v1beta1-0.26.0.jar", "source": {"sha1": "fb371a10caeb0dfed8fc61c95bacd392119695b1", "sha256": "ceb3a0dbc1bf5bec15cde9d2a1ee22d470413294f03c5e40847fc028e9fb6f27", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-cloud-firestore-v1beta1/0.26.0/proto-google-cloud-firestore-v1beta1-0.26.0-sources.jar"} , "name": "mvncom_google_api_grpc_proto_google_cloud_firestore_v1beta1", "actual": "@mvncom_google_api_grpc_proto_google_cloud_firestore_v1beta1//jar", "bind": "jar/mvncom/google/api/grpc/proto_google_cloud_firestore_v1beta1"},[m
[32m+[m[32m# duplicates in com.google.api.grpc:proto-google-common-protos promoted to 1.12.0[m
[32m+[m[32m# - com.google.api.grpc:proto-google-cloud-firestore-v1beta1:0.26.0 wanted version 1.12.0[m
[32m+[m[32m# - com.google.api.grpc:proto-google-iam-v1:0.12.0 wanted version 1.11.0[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 1.12.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 1.12.0[m
[32m+[m[32m# - io.grpc:grpc-protobuf:1.16.1 wanted version 1.0.0[m
[32m+[m[32m    {"artifact": "com.google.api.grpc:proto-google-common-protos:1.12.0", "lang": "java", "sha1": "1140cc74df039deb044ed0e320035e674dc13062", "sha256": "bd60cd7a423b00fb824c27bdd0293aaf4781be1daba6ed256311103fb4b84108", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-common-protos/1.12.0/proto-google-common-protos-1.12.0.jar", "source": {"sha1": "af18069b1d8368ffc8dce50a919df75f039cf507", "sha256": "936fdc055855a956ef82afb1b408bd0bd5ea5d040fe6f6fc25c4955879db649a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-common-protos/1.12.0/proto-google-common-protos-1.12.0-sources.jar"} , "name": "mvncom_google_api_grpc_proto_google_common_protos", "actual": "@mvncom_google_api_grpc_proto_google_common_protos//jar", "bind": "jar/mvncom/google/api/grpc/proto_google_common_protos"},[m
[32m+[m[32m    {"artifact": "com.google.api.grpc:proto-google-iam-v1:0.12.0", "lang": "java", "sha1": "ea312c0250a5d0a7cdd1b20bc2c3259938b79855", "sha256": "ddabb48fe072ada50484c98f00893a3e1356b4f05d2d0bf0045bc830145d1e0c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-iam-v1/0.12.0/proto-google-iam-v1-0.12.0.jar", "source": {"sha1": "13bdeda1d8cbcc01b39152129fa09bfb7ff4c6b0", "sha256": "f03eeafe04c9cb16639454fe611d30186317f373a17f3d8d16ec67c587ef943c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/grpc/proto-google-iam-v1/0.12.0/proto-google-iam-v1-0.12.0-sources.jar"} , "name": "mvncom_google_api_grpc_proto_google_iam_v1", "actual": "@mvncom_google_api_grpc_proto_google_iam_v1//jar", "bind": "jar/mvncom/google/api/grpc/proto_google_iam_v1"},[m
[32m+[m[32m# duplicates in com.google.api:api-common fixed to 1.7.0[m
[32m+[m[32m# - com.google.api.grpc:proto-google-cloud-firestore-v1beta1:0.26.0 wanted version 1.7.0[m
[32m+[m[32m# - com.google.api.grpc:proto-google-iam-v1:0.12.0 wanted version 1.5.0[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 1.7.0[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 1.7.0[m
[32m+[m[32m# - com.google.api:gax:1.30.0 wanted version 1.7.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 1.7.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-firestore:0.61.0-beta wanted version 1.7.0[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 1.7.0[m
[32m+[m[32m    {"artifact": "com.google.api:api-common:1.7.0", "lang": "java", "sha1": "ea59fb8b2450999345035dec8a6f472543391766", "sha256": "75e0a9c50391576fb3e9eede2218645c0e7f084ca18a8fa6e3e4196b94891a79", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/api-common/1.7.0/api-common-1.7.0.jar", "source": {"sha1": "ea3511ae369f8ac676ca35229483c67fee0b0789", "sha256": "2d673be851af8f716b8ed36a0dc4d434126fc49e0087228544d0c37dfc6d28cb", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/api-common/1.7.0/api-common-1.7.0-sources.jar"} , "name": "mvncom_google_api_api_common", "actual": "@mvncom_google_api_api_common//jar", "bind": "jar/mvncom/google/api/api_common"},[m
[32m+[m[32m    {"artifact": "com.google.api:gax-grpc:1.30.0", "lang": "java", "sha1": "ada82a4a0c020807e1c1a674b18658374264e401", "sha256": "4e798fa0b55dfe04d0fb49dc75eedd3bc76c1d521373f1ffcab7dd015ae57402", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax-grpc/1.30.0/gax-grpc-1.30.0.jar", "source": {"sha1": "9102e528e2649c37ab72f64b2196825c6451f026", "sha256": "731084fe168d428573fde648577b694141ea86ce0c75181affc3e9ea3a859a53", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax-grpc/1.30.0/gax-grpc-1.30.0-sources.jar"} , "name": "mvncom_google_api_gax_grpc", "actual": "@mvncom_google_api_gax_grpc//jar", "bind": "jar/mvncom/google/api/gax_grpc"},[m
[32m+[m[32m    {"artifact": "com.google.api:gax-httpjson:0.47.0", "lang": "java", "sha1": "d096f3142eb3adbf877588d1044895d148d9efcb", "sha256": "9b48aba9d172c76f124157168e2a16ecdb830e43af636793afe7f90fc286dc7c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax-httpjson/0.47.0/gax-httpjson-0.47.0.jar", "source": {"sha1": "a77c7501cddaf9ba00f5f60a3eed32d044fd7649", "sha256": "b6f0e4ecee817118573b3569c42ae4595c7df14b54f3c704d9eeaecf8678664e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax-httpjson/0.47.0/gax-httpjson-0.47.0-sources.jar"} , "name": "mvncom_google_api_gax_httpjson", "actual": "@mvncom_google_api_gax_httpjson//jar", "bind": "jar/mvncom/google/api/gax_httpjson"},[m
[32m+[m[32m    {"artifact": "com.google.api:gax:1.30.0", "lang": "java", "sha1": "58fa2feb11b092be0a6ebe705a28736f12374230", "sha256": "1538c0ded6836c090f0579bc59165c69c5cb35b134b470e17e49c92dd5f93f4d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax/1.30.0/gax-1.30.0.jar", "source": {"sha1": "35d44c10f9f80218236ecf672413abd9f25614b0", "sha256": "805f0b0f5975f2289828690a56210c95eefc2989b291e099f7589812802ca210", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/api/gax/1.30.0/gax-1.30.0-sources.jar"} , "name": "mvncom_google_api_gax", "actual": "@mvncom_google_api_gax//jar", "bind": "jar/mvncom/google/api/gax"},[m
[32m+[m[32m    {"artifact": "com.google.apis:google-api-services-storage:v1-rev135-1.24.1", "lang": "java", "sha1": "28d3d391dfc7e7e7951760708ad2f48cecacf38f", "sha256": "3be474486ee1bb9740fde708261e3da48cfa326b409cb614f44fd1ec0b485949", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/apis/google-api-services-storage/v1-rev135-1.24.1/google-api-services-storage-v1-rev135-1.24.1.jar", "source": {"sha1": "cb89361d586ee169edfb488060db6e3da3bee73e", "sha256": "b421a16111828d78b09a50d5422f90b3bd1a42cd0ebaec9d9677a59cedac6e24", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/apis/google-api-services-storage/v1-rev135-1.24.1/google-api-services-storage-v1-rev135-1.24.1-sources.jar"} , "name": "mvncom_google_apis_google_api_services_storage", "actual": "@mvncom_google_apis_google_api_services_storage//jar", "bind": "jar/mvncom/google/apis/google_api_services_storage"},[m
[32m+[m[32m# duplicates in com.google.auth:google-auth-library-credentials promoted to 0.11.0[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 0.10.0[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 0.10.0[m
[32m+[m[32m# - com.google.auth:google-auth-library-oauth2-http:0.11.0 wanted version 0.11.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 0.11.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 0.11.0[m
[32m+[m[32m# - io.grpc:grpc-auth:1.13.1 wanted version 0.9.0[m
[32m+[m[32m    {"artifact": "com.google.auth:google-auth-library-credentials:0.11.0", "lang": "java", "sha1": "75f79364e9d4977c6462446fcccf83d2f6eeb69f", "sha256": "0883c0a4c29863cf37aac3047a452388c42a6d99821cf869734f3e41412ebaa1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auth/google-auth-library-credentials/0.11.0/google-auth-library-credentials-0.11.0.jar", "source": {"sha1": "a31d0c48e7d31f9bed6f7c1d80593098d6a1cb9e", "sha256": "ad75026bf2cd1c0c380351de39538f1920169e053313c5402dec5deab89a026f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auth/google-auth-library-credentials/0.11.0/google-auth-library-credentials-0.11.0-sources.jar"} , "name": "mvncom_google_auth_google_auth_library_credentials", "actual": "@mvncom_google_auth_google_auth_library_credentials//jar", "bind": "jar/mvncom/google/auth/google_auth_library_credentials"},[m
[32m+[m[32m# duplicates in com.google.auth:google-auth-library-oauth2-http promoted to 0.11.0[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 0.10.0[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 0.10.0[m
[32m+[m[32m# - com.google.api:gax:1.30.0 wanted version 0.10.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 0.11.0[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 0.11.0[m
[32m+[m[32m    {"artifact": "com.google.auth:google-auth-library-oauth2-http:0.11.0", "lang": "java", "sha1": "576d6ae74c10e6a0d3f30a97ef59499473b02175", "sha256": "547b235c9716dd61006a4bcca4486cdc0f39e1d7eedefcdbd501fa9246e85fc5", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auth/google-auth-library-oauth2-http/0.11.0/google-auth-library-oauth2-http-0.11.0.jar", "source": {"sha1": "007b6c76e48114bdca75c1a7105b328b67e1d68c", "sha256": "72c8a919d5c3d0b04375577ae0fd079eb2c797e7db4d6d57f4942ce486cdc4fb", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auth/google-auth-library-oauth2-http/0.11.0/google-auth-library-oauth2-http-0.11.0-sources.jar"} , "name": "mvncom_google_auth_google_auth_library_oauth2_http", "actual": "@mvncom_google_auth_google_auth_library_oauth2_http//jar", "bind": "jar/mvncom/google/auth/google_auth_library_oauth2_http"},[m
[32m+[m[32m    {"artifact": "com.google.auto.factory:auto-factory:1.0-beta6", "lang": "java", "sha1": "58c804763a4d80c0884ac8a740fcff4d61da72bc", "sha256": "bd26a49f93e5de5fcc8507e1a6554814adc9d5cb682f9df9057f8aadf60d2c91", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/factory/auto-factory/1.0-beta6/auto-factory-1.0-beta6.jar", "source": {"sha1": "fab31580230ac3001579238a8857a74bd045e3b9", "sha256": "7d54c15bf5f0b3172c3f3de3f1a5252f304ba23189707d1d787fcae28e063832", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/factory/auto-factory/1.0-beta6/auto-factory-1.0-beta6-sources.jar"} , "name": "mvncom_google_auto_factory_auto_factory", "actual": "@mvncom_google_auto_factory_auto_factory//jar", "bind": "jar/mvncom/google/auto/factory/auto_factory"},[m
[32m+[m[32m    {"artifact": "com.google.auto.value:auto-value-annotations:1.6.3", "lang": "java", "sha1": "b88c1bb7f149f6d2cc03898359283e57b08f39cc", "sha256": "0e951fee8c31f60270bc46553a8586001b7b93dbb12aec06373aa99a150392c0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/value/auto-value-annotations/1.6.3/auto-value-annotations-1.6.3.jar", "source": {"sha1": "11c277d47d012b2830b37f3750ff040c1f38883e", "sha256": "254d55ea959608a833fa07056710488c1f4978875f86f6a106b8d937b29b1170", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/value/auto-value-annotations/1.6.3/auto-value-annotations-1.6.3-sources.jar"} , "name": "mvncom_google_auto_value_auto_value_annotations", "actual": "@mvncom_google_auto_value_auto_value_annotations//jar", "bind": "jar/mvncom/google/auto/value/auto_value_annotations"},[m
[32m+[m[32m# duplicates in com.google.auto.value:auto-value fixed to 1.6.3[m
[32m+[m[32m# - com.google.auto.factory:auto-factory:1.0-beta6 wanted version 1.5.3[m
[32m+[m[32m# - com.google.cloud:google-cloud-firestore:0.61.0-beta wanted version 1.4[m
[32m+[m[32m    {"artifact": "com.google.auto.value:auto-value:1.6.3", "lang": "java", "sha1": "8edb6675b9c09ffdcc19937428e7ef1e3d066e12", "sha256": "0aa5463f85a210aacecbebaa45e61b79ec17e903218d79f8db9e1efde06b3c7f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/value/auto-value/1.6.3/auto-value-1.6.3.jar", "source": {"sha1": "bdd6a042186d1ccda82e1d82ea2363740ab94862", "sha256": "a1e519bd6c6cf27d5e9316ec732e563f88c1d5636afd8358dc3c017a5f33d07e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/value/auto-value/1.6.3/auto-value-1.6.3-sources.jar"} , "name": "mvncom_google_auto_value_auto_value", "actual": "@mvncom_google_auto_value_auto_value//jar", "bind": "jar/mvncom/google/auto/value/auto_value"},[m
[32m+[m[32m    {"artifact": "com.google.auto:auto-common:0.10", "lang": "java", "sha1": "c8f153ebe04a17183480ab4016098055fb474364", "sha256": "b876b5fddaceeba7d359667f6c4fb8c6f8658da1ab902ffb79ec9a415deede5f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/auto-common/0.10/auto-common-0.10.jar", "source": {"sha1": "913c8de9604380c6e135086132adb26c77fa6c53", "sha256": "e227d5aa864a9d59d8196540ee90995204f3458201138a638df9b0af609aef17", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/auto/auto-common/0.10/auto-common-0.10-sources.jar"} , "name": "mvncom_google_auto_auto_common", "actual": "@mvncom_google_auto_auto_common//jar", "bind": "jar/mvncom/google/auto/auto_common"},[m
[32m+[m[32m    {"artifact": "com.google.cloud:google-cloud-core-grpc:1.43.0", "lang": "java", "sha1": "58b4839ab48c06592f738ddd156ef81ecd19bd84", "sha256": "cfc5bc84a8161782159f66bdef4dd290fd861520d7d44c1bbfdbaed492a66c14", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core-grpc/1.43.0/google-cloud-core-grpc-1.43.0.jar", "source": {"sha1": "b59f06e9d35293a1367d0516ac4cf136f40c1c1e", "sha256": "d66cbb94831eb762bd731fbe8c7733a641ea7e18ac85f38549ac368e8b1699f9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core-grpc/1.43.0/google-cloud-core-grpc-1.43.0-sources.jar"} , "name": "mvncom_google_cloud_google_cloud_core_grpc", "actual": "@mvncom_google_cloud_google_cloud_core_grpc//jar", "bind": "jar/mvncom/google/cloud/google_cloud_core_grpc"},[m
[32m+[m[32m    {"artifact": "com.google.cloud:google-cloud-core-http:1.43.0", "lang": "java", "sha1": "a81185d18d017f68b14e4f5f1047b4e8f4709632", "sha256": "707721e4132e73de7dec96e12d5ede5ea8ef4c7e384f7ce637e9ede53f633f98", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core-http/1.43.0/google-cloud-core-http-1.43.0.jar", "source": {"sha1": "806816de57906a94b10668c7828f4316236f33d4", "sha256": "3339e3e3da1238293621c4669757107d4b42e6203fbafa5fe773f179411789da", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core-http/1.43.0/google-cloud-core-http-1.43.0-sources.jar"} , "name": "mvncom_google_cloud_google_cloud_core_http", "actual": "@mvncom_google_cloud_google_cloud_core_http//jar", "bind": "jar/mvncom/google/cloud/google_cloud_core_http"},[m
[32m+[m[32m    {"artifact": "com.google.cloud:google-cloud-core:1.43.0", "lang": "java", "sha1": "a28eb94f2410e20ae5b663e943b8465078a4bc02", "sha256": "46e3807daf2524aa9455b608c9419bc3344b458cbddb7008a7aa2c3f38d3073d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core/1.43.0/google-cloud-core-1.43.0.jar", "source": {"sha1": "2126584b2c5150ae78834afc786d8684186544e3", "sha256": "5281e997659f616ab79389c63fd2594554c48ff482cd06abe0966c2e5428f280", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-core/1.43.0/google-cloud-core-1.43.0-sources.jar"} , "name": "mvncom_google_cloud_google_cloud_core", "actual": "@mvncom_google_cloud_google_cloud_core//jar", "bind": "jar/mvncom/google/cloud/google_cloud_core"},[m
[32m+[m[32m    {"artifact": "com.google.cloud:google-cloud-firestore:0.61.0-beta", "lang": "java", "sha1": "57925e99afbe7a7155523ea6e74cbd7081257c59", "sha256": "c5667b015e616a0f81684917c666744d7413d11ec00255ea11a773c04eb83341", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-firestore/0.61.0-beta/google-cloud-firestore-0.61.0-beta.jar", "source": {"sha1": "be876ef74a6cf3c4fe39092a32f9b70f761df242", "sha256": "ceba9a72a606011718a7141c1c1ba93af7704d74e3b8f58b1c109e6273160aae", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-firestore/0.61.0-beta/google-cloud-firestore-0.61.0-beta-sources.jar"} , "name": "mvncom_google_cloud_google_cloud_firestore", "actual": "@mvncom_google_cloud_google_cloud_firestore//jar", "bind": "jar/mvncom/google/cloud/google_cloud_firestore"},[m
[32m+[m[32m    {"artifact": "com.google.cloud:google-cloud-storage:1.43.0", "lang": "java", "sha1": "6358bbf7a173027274aacc65789dd46c06451539", "sha256": "dbeb66b7d88c2999684398b2cbcec17fa9c245de25cdcd69b773b8d20b2f64b1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-storage/1.43.0/google-cloud-storage-1.43.0.jar", "source": {"sha1": "58943951afaac1ab1454c99cb52b23e464ce69b1", "sha256": "2d0987b3bafd43707acbe1aab422a5a784957d1bea1e06652bfd15271fa8d635", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/cloud/google-cloud-storage/1.43.0/google-cloud-storage-1.43.0-sources.jar"} , "name": "mvncom_google_cloud_google_cloud_storage", "actual": "@mvncom_google_cloud_google_cloud_storage//jar", "bind": "jar/mvncom/google/cloud/google_cloud_storage"},[m
[32m+[m[32m# duplicates in com.google.code.findbugs:jsr305 fixed to 3.0.2[m
[32m+[m[32m# - com.google.api:api-common:1.7.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.api:gax:1.30.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.flogger:flogger-system-backend:0.3.1 wanted version 3.0.1[m
[32m+[m[32m# - com.google.flogger:flogger:0.3.1 wanted version 3.0.1[m
[32m+[m[32m# - com.google.guava:guava:27.0.1-android wanted version 3.0.2[m
[32m+[m[32m# - com.google.http-client:google-http-client:1.25.0 wanted version 3.0.2[m
[32m+[m[32m# - com.google.oauth-client:google-oauth-client:1.25.0 wanted version 3.0.2[m
[32m+[m[32m# - io.grpc:grpc-core:1.16.1 wanted version 3.0.2[m
[32m+[m[32m    {"artifact": "com.google.code.findbugs:jsr305:3.0.2", "lang": "java", "sha1": "25ea2e8b0c338a877313bd4672d3fe056ea78f0d", "sha256": "766ad2a0783f2687962c8ad74ceecc38a28b9f72a2d085ee438b7813e928d0c7", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar", "source": {"sha1": "b19b5927c2c25b6c70f093767041e641ae0b1b35", "sha256": "1c9e85e272d0708c6a591dc74828c71603053b48cc75ae83cce56912a2aa063b", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2-sources.jar"} , "name": "mvncom_google_code_findbugs_jsr305", "actual": "@mvncom_google_code_findbugs_jsr305//jar", "bind": "jar/mvncom/google/code/findbugs/jsr305"},[m
[32m+[m[32m# duplicates in com.google.code.gson:gson fixed to 2.8.5[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 2.7[m
[32m+[m[32m# - com.google.http-client:google-http-client-gson:1.25.0 wanted version 2.1[m
[32m+[m[32m# - com.google.protobuf:protobuf-java-util:3.6.1 wanted version 2.7[m
[32m+[m[32m# - io.grpc:grpc-core:1.16.1 wanted version 2.7[m
[32m+[m[32m    {"artifact": "com.google.code.gson:gson:2.8.5", "lang": "java", "sha1": "f645ed69d595b24d4cf8b3fbb64cc505bede8829", "sha256": "233a0149fc365c9f6edbd683cfe266b19bdc773be98eabdaf6b3c924b48e7d81", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/code/gson/gson/2.8.5/gson-2.8.5.jar", "source": {"sha1": "c5b4c491aecb72e7c32a78da0b5c6b9cda8dee0f", "sha256": "512b4bf6927f4864acc419b8c5109c23361c30ed1f5798170248d33040de068e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/code/gson/gson/2.8.5/gson-2.8.5-sources.jar"} , "name": "mvncom_google_code_gson_gson", "actual": "@mvncom_google_code_gson_gson//jar", "bind": "jar/mvncom/google/code/gson/gson"},[m
[32m+[m[32m    {"artifact": "com.google.dagger:dagger-compiler:2.20", "lang": "java", "sha1": "9cae6d75e2aca206c9f79beea49511358d8305aa", "sha256": "3687d561621692f8901e7cbabf2de29c3aab08be07bb4246b5e58cd25b8be9d0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-compiler/2.20/dagger-compiler-2.20.jar", "source": {"sha1": "de1ac8fb4b7ce3f12759c4e219b4473b4e829879", "sha256": "adace5a223d6f8a3059310a12cfe6506fbaccc7f7800958414ab0a46f821d7e9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-compiler/2.20/dagger-compiler-2.20-sources.jar"} , "name": "mvncom_google_dagger_dagger_compiler", "actual": "@mvncom_google_dagger_dagger_compiler//jar", "bind": "jar/mvncom/google/dagger/dagger_compiler"},[m
[32m+[m[32m    {"artifact": "com.google.dagger:dagger-producers:2.20", "lang": "java", "sha1": "db3c3852972892044e4e47a87c6e877f64f8cf5f", "sha256": "c50f04353b87f6508d81eb85538dc5decfa33044d60eed4fa817ed5d5dd3ff0f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-producers/2.20/dagger-producers-2.20.jar", "source": {"sha1": "d429a61b263b447fc4ece16dd55e364f6556f84a", "sha256": "320aca81ad186013886713f829633c03f62307107885630f159922d4f1df259b", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-producers/2.20/dagger-producers-2.20-sources.jar"} , "name": "mvncom_google_dagger_dagger_producers", "actual": "@mvncom_google_dagger_dagger_producers//jar", "bind": "jar/mvncom/google/dagger/dagger_producers"},[m
[32m+[m[32m    {"artifact": "com.google.dagger:dagger-spi:2.20", "lang": "java", "sha1": "c6476e35da2134a7edfbd5fc092ae696515a9269", "sha256": "dd2ed004020a1c3b5f6817cb1a8b893fdcd517e860e5c9438b0b557ff5df38d0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-spi/2.20/dagger-spi-2.20.jar", "source": {"sha1": "732e72eb8fe6cd7fcc1590441002d5db3a6a8b5d", "sha256": "f7de3cc0de1347a15bdf317ea76ac7255df6a6323c6a6f12455b96378eb6f91a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger-spi/2.20/dagger-spi-2.20-sources.jar"} , "name": "mvncom_google_dagger_dagger_spi", "actual": "@mvncom_google_dagger_dagger_spi//jar", "bind": "jar/mvncom/google/dagger/dagger_spi"},[m
[32m+[m[32m    {"artifact": "com.google.dagger:dagger:2.20", "lang": "java", "sha1": "8898d0aea048250e29b106b95b63f046a6cae1c4", "sha256": "d37a556d8d57e2428c20e222b95346512d11fcf2174d581489a69a1439b886fb", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger/2.20/dagger-2.20.jar", "source": {"sha1": "bef392a5866a80febf6f0fbff4ca888d00439797", "sha256": "4bb9a4c86f43cba7028ca4bbb930d925cfdc87b282cd37d2816c1af54a106078", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/dagger/dagger/2.20/dagger-2.20-sources.jar"} , "name": "mvncom_google_dagger_dagger", "actual": "@mvncom_google_dagger_dagger//jar", "bind": "jar/mvncom/google/dagger/dagger"},[m
[32m+[m[32m    {"artifact": "com.google.errorprone:error_prone_annotations:2.2.0", "lang": "java", "sha1": "88e3c593e9b3586e1c6177f89267da6fc6986f0c", "sha256": "6ebd22ca1b9d8ec06d41de8d64e0596981d9607b42035f9ed374f9de271a481a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0.jar", "source": {"sha1": "a8cd7823aa1dcd2fd6677c0c5988fdde9d1fb0a3", "sha256": "626adccd4894bee72c3f9a0384812240dcc1282fb37a87a3f6cb94924a089496", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0-sources.jar"} , "name": "mvncom_google_errorprone_error_prone_annotations", "actual": "@mvncom_google_errorprone_error_prone_annotations//jar", "bind": "jar/mvncom/google/errorprone/error_prone_annotations"},[m
[32m+[m[32m    {"artifact": "com.google.errorprone:javac-shaded:9+181-r4173-1", "lang": "java", "sha1": "a399ee380b6d6b6ea53af1cfbcb086b108d1efb7", "sha256": "ae6f663a36bac1855076072afd650cdc0076b08f8129fbff504e73e74095a021", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/errorprone/javac-shaded/9+181-r4173-1/javac-shaded-9+181-r4173-1.jar", "source": {"sha1": "d210b45d3abef17a00f99e8fc2aaa4e5f1b1c8f5", "sha256": "b6487292a495b2c44f6975b797f8eb80290609a995c792519ee116c71fc1663b", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/errorprone/javac-shaded/9+181-r4173-1/javac-shaded-9+181-r4173-1-sources.jar"} , "name": "mvncom_google_errorprone_javac_shaded", "actual": "@mvncom_google_errorprone_javac_shaded//jar", "bind": "jar/mvncom/google/errorprone/javac_shaded"},[m
[32m+[m[32m    {"artifact": "com.google.firebase:firebase-admin:6.6.0", "lang": "java", "sha1": "f49b147a987bfd23ea41a9b44184157279cb740b", "sha256": "a425ec07ee6c22207db44ba04cb2a2297ac92f8b127ff6d28bd6de904b825c75", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/firebase/firebase-admin/6.6.0/firebase-admin-6.6.0.jar", "source": {"sha1": "2f2deeffd71233f589f9b194460fc015cdfad134", "sha256": "bc060bfde6c6b85d5c165e3e5a20adb341121341475f2a904881d211aa7208ab", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/firebase/firebase-admin/6.6.0/firebase-admin-6.6.0-sources.jar"} , "name": "mvncom_google_firebase_firebase_admin", "actual": "@mvncom_google_firebase_firebase_admin//jar", "bind": "jar/mvncom/google/firebase/firebase_admin"},[m
[32m+[m[32m    {"artifact": "com.google.flogger:flogger-system-backend:0.3.1", "lang": "java", "sha1": "287b569d76abcd82f9de87fe41829fbc7ebd8ac9", "sha256": "4c55192f244a07ddfa3c3d15711447c58f6cc5a3625c87cd528d00c9afd1a386", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/flogger/flogger-system-backend/0.3.1/flogger-system-backend-0.3.1.jar", "source": {"sha1": "0fdf3af9d3055717daa56e4b36432dc0c5acc898", "sha256": "3aa1619c983e4c99a0e0f90979620be38f8cd11fc29a0d046d838db10cc7f4af", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/flogger/flogger-system-backend/0.3.1/flogger-system-backend-0.3.1-sources.jar"} , "name": "mvncom_google_flogger_flogger_system_backend", "actual": "@mvncom_google_flogger_flogger_system_backend//jar", "bind": "jar/mvncom/google/flogger/flogger_system_backend"},[m
[32m+[m[32m    {"artifact": "com.google.flogger:flogger:0.3.1", "lang": "java", "sha1": "585030fe1ec709760cbef997a459729fb965df0e", "sha256": "37b186a7e517e944249a36dfde0b4aac1f4ee32080aef1e72834bca6b99f60cc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/flogger/flogger/0.3.1/flogger-0.3.1.jar", "source": {"sha1": "5866d14d952985a853af2a72d59301f187136cbb", "sha256": "1ed71278df1534c945be29096f89bf7dc5e01143be6d4e90c26cf547635c34be", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/flogger/flogger/0.3.1/flogger-0.3.1-sources.jar"} , "name": "mvncom_google_flogger_flogger", "actual": "@mvncom_google_flogger_flogger//jar", "bind": "jar/mvncom/google/flogger/flogger"},[m
[32m+[m[32m    {"artifact": "com.google.googlejavaformat:google-java-format:1.6", "lang": "java", "sha1": "ab846b3f41b5114526c142a24b737793a39c4c08", "sha256": "fdb408913d3120ab4dd7e631f5857fe8b1bda2fba4dcc26b253dd6eab5b48020", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/googlejavaformat/google-java-format/1.6/google-java-format-1.6.jar", "source": {"sha1": "642cdff18a8d3a6e315637d0997dcf92352290b0", "sha256": "3ce9a79d45b8208f63ee5b6dce80780caf2796dd3bac8d6346bbe52327690ee5", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/googlejavaformat/google-java-format/1.6/google-java-format-1.6-sources.jar"} , "name": "mvncom_google_googlejavaformat_google_java_format", "actual": "@mvncom_google_googlejavaformat_google_java_format//jar", "bind": "jar/mvncom/google/googlejavaformat/google_java_format"},[m
[32m+[m[32m    {"artifact": "com.google.guava:failureaccess:1.0.1", "lang": "java", "sha1": "1dcf1de382a0bf95a3d8b0849546c88bac1292c9", "sha256": "a171ee4c734dd2da837e4b16be9df4661afab72a41adaf31eb84dfdaf936ca26", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar", "source": {"sha1": "1d064e61aad6c51cc77f9b59dc2cccc78e792f5a", "sha256": "092346eebbb1657b51aa7485a246bf602bb464cc0b0e2e1c7e7201fadce1e98f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1-sources.jar"} , "name": "mvncom_google_guava_failureaccess", "actual": "@mvncom_google_guava_failureaccess//jar", "bind": "jar/mvncom/google/guava/failureaccess"},[m
[32m+[m[32m# duplicates in com.google.guava:guava fixed to 27.0.1-android[m
[32m+[m[32m# - com.google.api-client:google-api-client:1.25.0 wanted version 20.0[m
[32m+[m[32m# - com.google.api:api-common:1.7.0 wanted version 19.0[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 20.0[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 20.0[m
[32m+[m[32m# - com.google.api:gax:1.30.0 wanted version 20.0[m
[32m+[m[32m# - com.google.auth:google-auth-library-oauth2-http:0.11.0 wanted version 20.0[m
[32m+[m[32m# - com.google.auto.factory:auto-factory:1.0-beta6 wanted version 23.5-jre[m
[32m+[m[32m# - com.google.auto:auto-common:0.10 wanted version 23.5-jre[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 20.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 20.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 20.0[m
[32m+[m[32m# - com.google.dagger:dagger-compiler:2.20 wanted version 25.0-jre[m
[32m+[m[32m# - com.google.dagger:dagger-producers:2.20 wanted version 25.0-jre[m
[32m+[m[32m# - com.google.dagger:dagger-spi:2.20 wanted version 25.0-jre[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 20.0[m
[32m+[m[32m# - com.google.googlejavaformat:google-java-format:1.6 wanted version 22.0[m
[32m+[m[32m# - com.google.jimfs:jimfs:1.1 wanted version 18.0[m
[32m+[m[32m# - com.google.protobuf:protobuf-java-util:3.6.1 wanted version 19.0[m
[32m+[m[32m# - com.puppycrawl.tools:checkstyle:8.15 wanted version 27.0.1-jre[m
[32m+[m[32m# - io.grpc:grpc-core:1.16.1 wanted version 26.0-android[m
[32m+[m[32m# - io.grpc:grpc-protobuf-lite:1.16.1 wanted version 26.0-android[m
[32m+[m[32m# - io.grpc:grpc-protobuf:1.16.1 wanted version 26.0-android[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-grpc-metrics:0.18.0 wanted version 20.0[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-http-util:0.15.0 wanted version 20.0[m
[32m+[m[32m    {"artifact": "com.google.guava:guava:27.0.1-android", "lang": "java", "sha1": "b7e1c37f66ef193796ccd7ea6e80c2b05426182d", "sha256": "caf0955aed29a1e6d149f85cfb625a89161b5cf88e0e246552b7ffa358204e28", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/guava/guava/27.0.1-android/guava-27.0.1-android.jar", "source": {"sha1": "0400d173c143b74406ae0cb64e56d3c3e568f8ba", "sha256": "fa7c58254a302d843e21873a1b2acc578dd57f4bbded7d6c4a7bf1a65f6d24c0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/guava/guava/27.0.1-android/guava-27.0.1-android-sources.jar"} , "name": "mvncom_google_guava_guava", "actual": "@mvncom_google_guava_guava//jar", "bind": "jar/mvncom/google/guava/guava"},[m
[32m+[m[32m    {"artifact": "com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava", "lang": "java", "sha1": "b421526c5f297295adef1c886e5246c39d4ac629", "sha256": "b372a037d4230aa57fbeffdef30fd6123f9c0c2db85d0aced00c91b974f33f99", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar", "name": "mvncom_google_guava_listenablefuture", "actual": "@mvncom_google_guava_listenablefuture//jar", "bind": "jar/mvncom/google/guava/listenablefuture"},[m
[32m+[m[32m    {"artifact": "com.google.http-client:google-http-client-appengine:1.24.1", "lang": "java", "sha1": "8535031ae10bf6a196e68f25e10c0d6382699cb6", "sha256": "b3a2945a5909439bde4e7aca8dbe3fa6fb3f6fc688f30645d97c8c7b3c634d40", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-appengine/1.24.1/google-http-client-appengine-1.24.1.jar", "source": {"sha1": "3296da51896a946417bd582227cbfaa4442f10d7", "sha256": "5edacb94b2327cb834cdfd23ca0f36c58ee74f28e1ae99a04b4fb70e24263e2c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-appengine/1.24.1/google-http-client-appengine-1.24.1-sources.jar"} , "name": "mvncom_google_http_client_google_http_client_appengine", "actual": "@mvncom_google_http_client_google_http_client_appengine//jar", "bind": "jar/mvncom/google/http_client/google_http_client_appengine"},[m
[32m+[m[32m    {"artifact": "com.google.http-client:google-http-client-gson:1.25.0", "lang": "java", "sha1": "b73df76fb315b1cc8be1a26240954bde40c26109", "sha256": "3ff7ac823b4b2ff8b4510d48608b01c360c692b330125f4ee2e0909d939ba564", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-gson/1.25.0/google-http-client-gson-1.25.0.jar", "source": {"sha1": "63b4a2a17396e6002069d12372499932d5f749df", "sha256": "ff79e7f8617d3762c259155ff6555d453559c01b0a97268b9bec5f06b15e85ff", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-gson/1.25.0/google-http-client-gson-1.25.0-sources.jar"} , "name": "mvncom_google_http_client_google_http_client_gson", "actual": "@mvncom_google_http_client_google_http_client_gson//jar", "bind": "jar/mvncom/google/http_client/google_http_client_gson"},[m
[32m+[m[32m# duplicates in com.google.http-client:google-http-client-jackson2 promoted to 1.25.0[m
[32m+[m[32m# - com.google.api-client:google-api-client:1.25.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.auth:google-auth-library-oauth2-http:0.11.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 1.24.1[m
[32m+[m[32m    {"artifact": "com.google.http-client:google-http-client-jackson2:1.25.0", "lang": "java", "sha1": "7c5c89bd4d0d34d9f1cb3396e8da6233e5074b5c", "sha256": "f9e7e0d318860a2092d70b56331976280c4e9348a065ede3b99c92aa032fd853", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-jackson2/1.25.0/google-http-client-jackson2-1.25.0.jar", "source": {"sha1": "1a954308ce312da7be014d807506f9f3d734e3e3", "sha256": "0c21d8df621aec3e3fda60b0a690470ae2f7b2ec467d33e9aa2fb4bca6dfe8dc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-jackson2/1.25.0/google-http-client-jackson2-1.25.0-sources.jar"} , "name": "mvncom_google_http_client_google_http_client_jackson2", "actual": "@mvncom_google_http_client_google_http_client_jackson2//jar", "bind": "jar/mvncom/google/http_client/google_http_client_jackson2"},[m
[32m+[m[32m    {"artifact": "com.google.http-client:google-http-client-jackson:1.24.1", "lang": "java", "sha1": "02c88e77c14effdda76f02a0eac968de74e0bd4e", "sha256": "462c8be0fdefcafa6a427740880a30ba162fe4bf9949ab7ff3dfbef8ac920daa", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-jackson/1.24.1/google-http-client-jackson-1.24.1.jar", "source": {"sha1": "13c74c544e5d390ee19a3c535392ce8544538371", "sha256": "ef963c2986109a4f41c0847a39d5a5b00a227b01f803a419aab6c41c83688b62", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client-jackson/1.24.1/google-http-client-jackson-1.24.1-sources.jar"} , "name": "mvncom_google_http_client_google_http_client_jackson", "actual": "@mvncom_google_http_client_google_http_client_jackson//jar", "bind": "jar/mvncom/google/http_client/google_http_client_jackson"},[m
[32m+[m[32m# duplicates in com.google.http-client:google-http-client promoted to 1.25.0[m
[32m+[m[32m# - com.google.api:gax-httpjson:0.47.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.auth:google-auth-library-oauth2-http:0.11.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 1.24.1[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.http-client:google-http-client-appengine:1.24.1 wanted version 1.24.1[m
[32m+[m[32m# - com.google.http-client:google-http-client-gson:1.25.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.http-client:google-http-client-jackson2:1.25.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.http-client:google-http-client-jackson:1.24.1 wanted version 1.24.1[m
[32m+[m[32m# - com.google.oauth-client:google-oauth-client:1.25.0 wanted version 1.25.0[m
[32m+[m[32m    {"artifact": "com.google.http-client:google-http-client:1.25.0", "lang": "java", "sha1": "5fb16523c393bfe0210c29db44742bd308311841", "sha256": "fb7d80a515da4618e2b402e1fef96999e07621b381a5889ef091482c5a3e961d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client/1.25.0/google-http-client-1.25.0.jar", "source": {"sha1": "d3d62cbe331fa1d450f3668fb1dc9439b5d932ce", "sha256": "4484fe57b7164fb45db47b7164dad05f000a6cd035cda11f20350b936dca7a1d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/http-client/google-http-client/1.25.0/google-http-client-1.25.0-sources.jar"} , "name": "mvncom_google_http_client_google_http_client", "actual": "@mvncom_google_http_client_google_http_client//jar", "bind": "jar/mvncom/google/http_client/google_http_client"},[m
[32m+[m[32m    {"artifact": "com.google.j2objc:j2objc-annotations:1.1", "lang": "java", "sha1": "ed28ded51a8b1c6b112568def5f4b455e6809019", "sha256": "2994a7eb78f2710bd3d3bfb639b2c94e219cedac0d4d084d516e78c16dddecf6", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/j2objc/j2objc-annotations/1.1/j2objc-annotations-1.1.jar", "source": {"sha1": "1efdf5b737b02f9b72ebdec4f72c37ec411302ff", "sha256": "2cd9022a77151d0b574887635cdfcdf3b78155b602abc89d7f8e62aba55cfb4f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/j2objc/j2objc-annotations/1.1/j2objc-annotations-1.1-sources.jar"} , "name": "mvncom_google_j2objc_j2objc_annotations", "actual": "@mvncom_google_j2objc_j2objc_annotations//jar", "bind": "jar/mvncom/google/j2objc/j2objc_annotations"},[m
[32m+[m[32m    {"artifact": "com.google.jimfs:jimfs:1.1", "lang": "java", "sha1": "8fbd0579dc68aba6186935cc1bee21d2f3e7ec1c", "sha256": "c4828e28d7c0a930af9387510b3bada7daa5c04d7c25a75c7b8b081f1c257ddd", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/jimfs/jimfs/1.1/jimfs-1.1.jar", "source": {"sha1": "a2e6f6d75b7fa7e8eedb3062e5bfd24cc9fe8591", "sha256": "adebb53450d2313d6927db5155c9be85336109e8f8c0af106ec2a30bc37e64ce", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/jimfs/jimfs/1.1/jimfs-1.1-sources.jar"} , "name": "mvncom_google_jimfs_jimfs", "actual": "@mvncom_google_jimfs_jimfs//jar", "bind": "jar/mvncom/google/jimfs/jimfs"},[m
[32m+[m[32m# duplicates in com.google.oauth-client:google-oauth-client promoted to 1.25.0[m
[32m+[m[32m# - com.google.api-client:google-api-client:1.25.0 wanted version 1.25.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 1.24.1[m
[32m+[m[32m    {"artifact": "com.google.oauth-client:google-oauth-client:1.25.0", "lang": "java", "sha1": "c9ee14e8b095b4b301b28d57755cc482b8d6f39f", "sha256": "7e2929133d4231e702b5956a7e5dc8347a352acc1e97082b40c3585b81cd3501", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/oauth-client/google-oauth-client/1.25.0/google-oauth-client-1.25.0.jar", "source": {"sha1": "bbcdea68f77ccff826927fe15ec952e8bd305209", "sha256": "444e403a84d2fef5977aba137c8ef667037901dd1d0c3c1dc4dd036ee63cb64e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/oauth-client/google-oauth-client/1.25.0/google-oauth-client-1.25.0-sources.jar"} , "name": "mvncom_google_oauth_client_google_oauth_client", "actual": "@mvncom_google_oauth_client_google_oauth_client//jar", "bind": "jar/mvncom/google/oauth_client/google_oauth_client"},[m
[32m+[m[32m# duplicates in com.google.protobuf:protobuf-java-util fixed to 3.6.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 3.6.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core:1.43.0 wanted version 3.6.0[m
[32m+[m[32m# - io.grpc:grpc-services:1.16.1 wanted version 3.5.1[m
[32m+[m[32m    {"artifact": "com.google.protobuf:protobuf-java-util:3.6.1", "lang": "java", "sha1": "35f62815e87c32b01bf1ed8c5aa3f9e33a08c2f3", "sha256": "692618ae9409fb4c4d936ccbf1a0217641c720a4a0a0dce35a4fe2ca96c5a190", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/protobuf/protobuf-java-util/3.6.1/protobuf-java-util-3.6.1.jar", "source": {"sha1": "0eced0774e36d20dd06ddc6c800b3c6ab8d600ee", "sha256": "a50462b254704658481451825d0180c83155186fe1c05681669c8af993cb391d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/protobuf/protobuf-java-util/3.6.1/protobuf-java-util-3.6.1-sources.jar"} , "name": "mvncom_google_protobuf_protobuf_java_util", "actual": "@mvncom_google_protobuf_protobuf_java_util//jar", "bind": "jar/mvncom/google/protobuf/protobuf_java_util"},[m
[32m+[m[32m# duplicates in com.google.protobuf:protobuf-java fixed to 3.6.1[m
[32m+[m[32m# - com.google.api.grpc:proto-google-cloud-firestore-v1beta1:0.26.0 wanted version 3.6.0[m
[32m+[m[32m# - com.google.api.grpc:proto-google-common-protos:1.12.0 wanted version 3.5.1[m
[32m+[m[32m# - com.google.api.grpc:proto-google-iam-v1:0.12.0 wanted version 3.5.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 3.6.0[m
[32m+[m[32m# - com.google.protobuf:protobuf-java-util:3.6.1 wanted version 3.6.1[m
[32m+[m[32m# - io.grpc:grpc-protobuf:1.16.1 wanted version 3.5.1[m
[32m+[m[32m    {"artifact": "com.google.protobuf:protobuf-java:3.6.1", "lang": "java", "sha1": "0d06d46ecfd92ec6d0f3b423b4cd81cb38d8b924", "sha256": "fb66d913ff0578553b2e28a3338cbbbe2657e6cfe0e98d939f23aea219daf508", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/protobuf/protobuf-java/3.6.1/protobuf-java-3.6.1.jar", "source": {"sha1": "b0782bcd21ad5c52031e74efbc4c3d6a6df96130", "sha256": "9e8996b159b1b676adfe58bce785a73ded6e4a21c25a69251ef25e585ebfaeee", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/protobuf/protobuf-java/3.6.1/protobuf-java-3.6.1-sources.jar"} , "name": "mvncom_google_protobuf_protobuf_java", "actual": "@mvncom_google_protobuf_protobuf_java//jar", "bind": "jar/mvncom/google/protobuf/protobuf_java"},[m
[32m+[m[32m    {"artifact": "com.google.re2j:re2j:1.2", "lang": "java", "sha1": "4361eed4abe6f84d982cbb26749825f285996dd2", "sha256": "e9dc705fd4c570344b54a7146b2e3a819cdc271a29793f4acc1a93b56a388e59", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/re2j/re2j/1.2/re2j-1.2.jar", "source": {"sha1": "ab327b17d845dc7b419d5eb5f04566b9cd4b9c94", "sha256": "43a81e5a7bf2b3119b592910098cca0835f012d2805bcfdade44cdc8f2bdfb48", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/google/re2j/re2j/1.2/re2j-1.2-sources.jar"} , "name": "mvncom_google_re2j_re2j", "actual": "@mvncom_google_re2j_re2j//jar", "bind": "jar/mvncom/google/re2j/re2j"},[m
[32m+[m[32m    {"artifact": "com.jcraft:jsch:0.1.55", "lang": "java", "sha1": "bbd40e5aa7aa3cfad5db34965456cee738a42a50", "sha256": "d492b15a6d2ea3f1cc39c422c953c40c12289073dbe8360d98c0f6f9ec74fc44", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/jcraft/jsch/0.1.55/jsch-0.1.55.jar", "source": {"sha1": "1ed25a5ba2c0bbe14bae93817b76a246e622efd7", "sha256": "e01ff2d282aa1b492bbb6187b3e363cd20a6ef51a6f23ae0ec4be179570a8480", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/jcraft/jsch/0.1.55/jsch-0.1.55-sources.jar"} , "name": "mvncom_jcraft_jsch", "actual": "@mvncom_jcraft_jsch//jar", "bind": "jar/mvncom/jcraft/jsch"},[m
[32m+[m[32m    {"artifact": "com.puppycrawl.tools:checkstyle:8.15", "lang": "java", "sha1": "8584d88c6aefcfb079adb8d102928b3eeb4de6ad", "sha256": "ac3602c4d50c3113b14614a6ac38ec03c63d9839e4316e057c4bb66d97183087", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/puppycrawl/tools/checkstyle/8.15/checkstyle-8.15.jar", "source": {"sha1": "1c1865dc6d20a1abc14ea7721fcbc78e2563d4ca", "sha256": "6745eda6450aa6e8609e56499fd56f515402a2ace3c7bd0345ec9b3f6eb8f6f6", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/puppycrawl/tools/checkstyle/8.15/checkstyle-8.15-sources.jar"} , "name": "mvncom_puppycrawl_tools_checkstyle", "actual": "@mvncom_puppycrawl_tools_checkstyle//jar", "bind": "jar/mvncom/puppycrawl/tools/checkstyle"},[m
[32m+[m[32m    {"artifact": "com.squareup.okhttp:okhttp:2.7.5", "lang": "java", "sha1": "7a15a7db50f86c4b64aa3367424a60e3a325b8f1", "sha256": "88ac9fd1bb51f82bcc664cc1eb9c225c90dc4389d660231b4cc737bebfe7d0aa", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/okhttp/okhttp/2.7.5/okhttp-2.7.5.jar", "source": {"sha1": "6b16ea4e0a54f9eada97779ae33cb4d3223f5d35", "sha256": "edfafce3b9abb0fc31b5c72cc5f533516a08f7b86754138f36595a6837746ddf", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/okhttp/okhttp/2.7.5/okhttp-2.7.5-sources.jar"} , "name": "mvncom_squareup_okhttp_okhttp", "actual": "@mvncom_squareup_okhttp_okhttp//jar", "bind": "jar/mvncom/squareup/okhttp/okhttp"},[m
[32m+[m[32m    {"artifact": "com.squareup.okio:okio:1.16.0", "lang": "java", "sha1": "975078d246baf08b0ba948c131a2ef6d5a227c71", "sha256": "ec0484ff1903640e3845c2b10abb99eff2d32308ffe3459e5f92309a451b9c7e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/okio/okio/1.16.0/okio-1.16.0.jar", "source": {"sha1": "377619dc63b416d4303af3646462a46db4eb84c1", "sha256": "dadd8fdc31ea10027b46bdfcdbe5546f96f2f29a1816b0a1a9f200e453cd93e0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/okio/okio/1.16.0/okio-1.16.0-sources.jar"} , "name": "mvncom_squareup_okio_okio", "actual": "@mvncom_squareup_okio_okio//jar", "bind": "jar/mvncom/squareup/okio/okio"},[m
[32m+[m[32m# duplicates in com.squareup:javapoet promoted to 1.11.1[m
[32m+[m[32m# - com.google.auto.factory:auto-factory:1.0-beta6 wanted version 1.9.0[m
[32m+[m[32m# - com.google.dagger:dagger-compiler:2.20 wanted version 1.11.1[m
[32m+[m[32m    {"artifact": "com.squareup:javapoet:1.11.1", "lang": "java", "sha1": "210e69f58dfa76c5529a303913b4a30c2bfeb76b", "sha256": "9cbf2107be499ec6e95afd36b58e3ca122a24166cdd375732e51267d64058e90", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/javapoet/1.11.1/javapoet-1.11.1.jar", "source": {"sha1": "8da7f5aaa62c6e22f53d360b2d0e21f6fa35ef32", "sha256": "63d3187d924582b1afe9eb171e725d27a7e15603513890de0f8804a7fc07e9ac", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/com/squareup/javapoet/1.11.1/javapoet-1.11.1-sources.jar"} , "name": "mvncom_squareup_javapoet", "actual": "@mvncom_squareup_javapoet//jar", "bind": "jar/mvncom/squareup/javapoet"},[m
[32m+[m[32m    {"artifact": "commons-beanutils:commons-beanutils:1.9.3", "lang": "java", "sha1": "c845703de334ddc6b4b3cd26835458cb1cba1f3d", "sha256": "c058e39c7c64203d3a448f3adb588cb03d6378ed808485618f26e137f29dae73", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-beanutils/commons-beanutils/1.9.3/commons-beanutils-1.9.3.jar", "source": {"sha1": "9d70af7c5982bd09c33efa97ac98cee6363ba0f0", "sha256": "3315f25f3793c1bb2577b2d956f58f852c7386c73aff4dea450e419a80b00a41", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-beanutils/commons-beanutils/1.9.3/commons-beanutils-1.9.3-sources.jar"} , "name": "mvncommons_beanutils_commons_beanutils", "actual": "@mvncommons_beanutils_commons_beanutils//jar", "bind": "jar/mvncommons_beanutils/commons_beanutils"},[m
[32m+[m[32m    {"artifact": "commons-codec:commons-codec:1.10", "lang": "java", "sha1": "4b95f4897fa13f2cd904aee711aeafc0c5295cd8", "sha256": "4241dfa94e711d435f29a4604a3e2de5c4aa3c165e23bd066be6fc1fc4309569", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.10/commons-codec-1.10.jar", "source": {"sha1": "11fb3d88ae7e3b757d70237064210ceb954a5a04", "sha256": "dfae68268ce86f1a18fc45b99317c13d6c9d252f001d37961e79a51076808986", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-codec/commons-codec/1.10/commons-codec-1.10-sources.jar"} , "name": "mvncommons_codec_commons_codec", "actual": "@mvncommons_codec_commons_codec//jar", "bind": "jar/mvncommons_codec/commons_codec"},[m
[32m+[m[32m    {"artifact": "commons-collections:commons-collections:3.2.2", "lang": "java", "sha1": "8ad72fe39fa8c91eaaf12aadb21e0c3661fe26d5", "sha256": "eeeae917917144a68a741d4c0dff66aa5c5c5fd85593ff217bced3fc8ca783b8", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar", "source": {"sha1": "78c50ebda5784937ca1615fc0e1d0cb35857d572", "sha256": "a5b5ee16a02edadf7fe637f250217c19878bc6134f15eb55635c48996f6fed1d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2-sources.jar"} , "name": "mvncommons_collections_commons_collections", "actual": "@mvncommons_collections_commons_collections//jar", "bind": "jar/mvncommons_collections/commons_collections"},[m
[32m+[m[32m    {"artifact": "commons-logging:commons-logging:1.2", "lang": "java", "sha1": "4bfc12adfe4842bf07b657f0369c4cb522955686", "sha256": "daddea1ea0be0f56978ab3006b8ac92834afeefbd9b7e4e6316fca57df0fa636", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-logging/commons-logging/1.2/commons-logging-1.2.jar", "source": {"sha1": "ecf26c7507d67782a3bbd148d170b31dfad001aa", "sha256": "44347acfe5860461728e9cb33251e97345be36f8a0dfd5c5130c172559455f41", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/commons-logging/commons-logging/1.2/commons-logging-1.2-sources.jar"} , "name": "mvncommons_logging_commons_logging", "actual": "@mvncommons_logging_commons_logging//jar", "bind": "jar/mvncommons_logging/commons_logging"},[m
[32m+[m[32m    {"artifact": "info.picocli:picocli:3.8.0", "lang": "java", "sha1": "86d47318b178e9e1d8b600a7afd1b8bd36300d3c", "sha256": "2b615ea91a8487d630efb7d3b04cab334d30ca414575138ce94201d470450fc4", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/info/picocli/picocli/3.8.0/picocli-3.8.0.jar", "source": {"sha1": "6fbfd760f8ed0bc04ac7311c52878c25eed81176", "sha256": "a23d58cf6c90bbd5568dbd7bb519b7225377ec2330315da0c8c4e623fc3dbf05", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/info/picocli/picocli/3.8.0/picocli-3.8.0-sources.jar"} , "name": "mvninfo_picocli_picocli", "actual": "@mvninfo_picocli_picocli//jar", "bind": "jar/mvninfo/picocli/picocli"},[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-auth:1.13.1", "lang": "java", "sha1": "096327e5774b7e0ed7f47043af9ff4fbc7f00f36", "sha256": "178690fdb20914abf25ccf7bde23129c2a0742f499a433caebf3b8b625bd0d80", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-auth/1.13.1/grpc-auth-1.13.1.jar", "source": {"sha1": "e2dc3f66d63bd3711b7cb04aacb7ea1fdac069d9", "sha256": "3e334a2ffbf12eff1cc5290dc9975499a1f27d0940e226a4c1735f108c82f813", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-auth/1.13.1/grpc-auth-1.13.1-sources.jar"} , "name": "mvnio_grpc_grpc_auth", "actual": "@mvnio_grpc_grpc_auth//jar", "bind": "jar/mvnio/grpc/grpc_auth"},[m
[32m+[m[32m# duplicates in io.grpc:grpc-context promoted to 1.16.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 1.13.1[m
[32m+[m[32m# - io.grpc:grpc-core:1.16.1 wanted version 1.16.1[m
[32m+[m[32m# - io.opencensus:opencensus-api:0.18.0 wanted version 1.14.0[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-context:1.16.1", "lang": "java", "sha1": "4adb6d55045b21cb384bc4498d4a7593f6cab8d7", "sha256": "3a8d6548308bd100c61e1c399a1a32f601f81b4162d30f04872c05a2a5b824b9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-context/1.16.1/grpc-context-1.16.1.jar", "source": {"sha1": "2a74b951a4393b6b3328416e1f397af1e519d0c9", "sha256": "027e241d4fd675392c957cbb4df368e4babdad52a7bef9d13c70d3e2fbe406a1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-context/1.16.1/grpc-context-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_context", "actual": "@mvnio_grpc_grpc_context//jar", "bind": "jar/mvnio/grpc/grpc_context"},[m
[32m+[m[32m# duplicates in io.grpc:grpc-core fixed to 1.16.1[m
[32m+[m[32m# - io.grpc:grpc-auth:1.13.1 wanted version [1.13.1][m
[32m+[m[32m# - io.grpc:grpc-netty-shaded:1.16.1 wanted version [1.16.1][m
[32m+[m[32m# - io.grpc:grpc-netty:1.16.1 wanted version [1.16.1][m
[32m+[m[32m# - io.grpc:grpc-protobuf-lite:1.16.1 wanted version 1.16.1[m
[32m+[m[32m# - io.grpc:grpc-protobuf:1.16.1 wanted version 1.16.1[m
[32m+[m[32m# - io.grpc:grpc-stub:1.16.1 wanted version 1.16.1[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-grpc-util:0.15.0 wanted version 1.12.0[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-core:1.16.1", "lang": "java", "sha1": "8a938ece0ad8d8bf77d790c502ba51ebec114aa9", "sha256": "4b20fb3bd4b07e284ac639ce7372483f83050fd67962fa628d353c762571e964", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.16.1/grpc-core-1.16.1.jar", "source": {"sha1": "1df482c20f3b58fc7d0affb35584e610a27d1b15", "sha256": "12a6508ea698786860f9a0849caad4df85139d9c7a484eaf9bed259419f93977", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-core/1.16.1/grpc-core-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_core", "actual": "@mvnio_grpc_grpc_core//jar", "bind": "jar/mvnio/grpc/grpc_core"},[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-netty-shaded:1.16.1", "lang": "java", "sha1": "efd17129ac78cad0aef77825857e48567477bcc7", "sha256": "98fb425574073bc8013324f4e41e2c495d826eb53ad43783bbea95766cf5744a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-netty-shaded/1.16.1/grpc-netty-shaded-1.16.1.jar", "source": {"sha1": "649caf60fe4b0f5fbadc339d028c516e60b0d706", "sha256": "e641b79ef173fc8023bc33927f07c915d1fe54c4281f84e3a9e672cbfe642e01", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-netty-shaded/1.16.1/grpc-netty-shaded-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_netty_shaded", "actual": "@mvnio_grpc_grpc_netty_shaded//jar", "bind": "jar/mvnio/grpc/grpc_netty_shaded"},[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-netty:1.16.1", "lang": "java", "sha1": "225a188a0b51b60f43586edaa12a79112e03430c", "sha256": "a5f79a642ca7276d7cc0c1a1192de82e2ed933727ba4baaf72d15ee6ae63c2ea", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.16.1/grpc-netty-1.16.1.jar", "source": {"sha1": "8a4d8982f205da0073f665a223a5186af880e6a6", "sha256": "163e8f3eb3ddd9e92a156406eafd809391d62701e9b0f0065f28158900af5bd2", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-netty/1.16.1/grpc-netty-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_netty", "actual": "@mvnio_grpc_grpc_netty//jar", "bind": "jar/mvnio/grpc/grpc_netty"},[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-protobuf-lite:1.16.1", "lang": "java", "sha1": "3d03ee1e5e292f2312d7ca99c00ddcf9d0544c35", "sha256": "4059becc5c8a25f5907c998632cd7187df6523e1317390d43a3ef7909e99956a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf-lite/1.16.1/grpc-protobuf-lite-1.16.1.jar", "source": {"sha1": "18943e40bed01a48de91babffa247be28cd1ae9e", "sha256": "412dbd13c2b61c6f2f2f72f8f1426dcf4c4d4a3080a8c1b8ec282ed2e709fafd", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf-lite/1.16.1/grpc-protobuf-lite-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_protobuf_lite", "actual": "@mvnio_grpc_grpc_protobuf_lite//jar", "bind": "jar/mvnio/grpc/grpc_protobuf_lite"},[m
[32m+[m[32m# duplicates in io.grpc:grpc-protobuf fixed to 1.16.1[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 1.13.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 1.13.1[m
[32m+[m[32m# - io.grpc:grpc-services:1.16.1 wanted version 1.16.1[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-protobuf:1.16.1", "lang": "java", "sha1": "1f8ac89924b5de4a94058ae26c9de28f8eff49dd", "sha256": "c46cd81341f002995c178687226c6174094635f13a95b7e8389c7c1d84290d82", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.16.1/grpc-protobuf-1.16.1.jar", "source": {"sha1": "6e36a77b2b1f3ea4d272d5d6c69e83746c3b9117", "sha256": "fd723b55711d40d7e61edd92c205e708531f5fbcbf464e616ff580aef54ac5a5", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-protobuf/1.16.1/grpc-protobuf-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_protobuf", "actual": "@mvnio_grpc_grpc_protobuf//jar", "bind": "jar/mvnio/grpc/grpc_protobuf"},[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-services:1.16.1", "lang": "java", "sha1": "648b2d6c7c61a0c1ccdc7817f9d6340539c24db4", "sha256": "62b40e05004ffe5be79a01aaccdfc3ecfb9305561c725dea0407162e6e7ce829", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-services/1.16.1/grpc-services-1.16.1.jar", "source": {"sha1": "8139f20cc3bb657017d577153bd05abb571e3e26", "sha256": "195b4aff1eecefb16c7f7d14c1bff713552c2048d0dda317c0cf8961b3871338", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-services/1.16.1/grpc-services-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_services", "actual": "@mvnio_grpc_grpc_services//jar", "bind": "jar/mvnio/grpc/grpc_services"},[m
[32m+[m[32m# duplicates in io.grpc:grpc-stub fixed to 1.16.1[m
[32m+[m[32m# - com.google.api:gax-grpc:1.30.0 wanted version 1.13.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-grpc:1.43.0 wanted version 1.13.1[m
[32m+[m[32m# - com.google.cloud:google-cloud-firestore:0.61.0-beta wanted version 1.13.1[m
[32m+[m[32m# - io.grpc:grpc-services:1.16.1 wanted version 1.16.1[m
[32m+[m[32m    {"artifact": "io.grpc:grpc-stub:1.16.1", "lang": "java", "sha1": "f3c30248564608791407bf43b1d4db52a80e6c36", "sha256": "4a6a33253dc68805f005a945686c567e9d73a618b237caf308c48d7a54d771fc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.16.1/grpc-stub-1.16.1.jar", "source": {"sha1": "6324f9fdbdd224addab073495c54c109b325c4a6", "sha256": "d8a87b55ac7284e1fdafcd64df3b258e4ed78d764996620c9a70b8d1445c06b3", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/grpc/grpc-stub/1.16.1/grpc-stub-1.16.1-sources.jar"} , "name": "mvnio_grpc_grpc_stub", "actual": "@mvnio_grpc_grpc_stub//jar", "bind": "jar/mvnio/grpc/grpc_stub"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-buffer:4.1.32.Final", "lang": "java", "sha1": "046ede57693788181b2cafddc3a5967ed2f621c8", "sha256": "8ac0e30048636bd79ae205c4f9f5d7544290abd3a7ed39d8b6d97dfe3795afc1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-buffer/4.1.32.Final/netty-buffer-4.1.32.Final.jar", "source": {"sha1": "1f8319d8f11e690b0759b0214dd3db4c043a27e4", "sha256": "911eaecbcab5581f78ce196736b950b521c90cc6992403a4d847d5acf3aace30", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-buffer/4.1.32.Final/netty-buffer-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_buffer", "actual": "@mvnio_netty_netty_buffer//jar", "bind": "jar/mvnio/netty/netty_buffer"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-codec-http2:4.1.32.Final", "lang": "java", "sha1": "d14eb053a1f96d3330ec48e77d489118d547557a", "sha256": "4d4c6cfc1f19efb969b9b0ae6cc977462d202867f7dcfee6e9069977e623a2f5", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-http2/4.1.32.Final/netty-codec-http2-4.1.32.Final.jar", "source": {"sha1": "4ef42802ab233e6bd9d463fc6c310fd694955ecc", "sha256": "88b90f07b33e662c00be4077f68caf2e7d3eef9d89ddc02fbf95c2eb18e81554", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-http2/4.1.32.Final/netty-codec-http2-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_codec_http2", "actual": "@mvnio_netty_netty_codec_http2//jar", "bind": "jar/mvnio/netty/netty_codec_http2"},[m
[32m+[m[32m# duplicates in io.netty:netty-codec-http promoted to 4.1.32.Final[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 4.1.22.Final[m
[32m+[m[32m# - io.netty:netty-codec-http2:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m# - io.netty:netty-handler-proxy:4.1.30.Final wanted version 4.1.30.Final[m
[32m+[m[32m    {"artifact": "io.netty:netty-codec-http:4.1.32.Final", "lang": "java", "sha1": "0b9218adba7353ad5a75fcb639e4755d64bd6ddf", "sha256": "db2c22744f6a4950d1817e4e1a26692e53052c5d54abe6cceecd7df33f4eaac3", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-http/4.1.32.Final/netty-codec-http-4.1.32.Final.jar", "source": {"sha1": "ec8c2242d3932aff3d35a6ec69e87f56c7317d11", "sha256": "24b7a178eed19875f8c5609d71f2a3c52257966e9c57b94e3ddde4fc49e9fe26", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-http/4.1.32.Final/netty-codec-http-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_codec_http", "actual": "@mvnio_netty_netty_codec_http//jar", "bind": "jar/mvnio/netty/netty_codec_http"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-codec-socks:4.1.30.Final", "lang": "java", "sha1": "ea272e3bb281d3a91d27278f47e61b4de285cc27", "sha256": "cff97f4b618ab0a1a3664bc1716a98389d477f6c1412275af34cb8e60cd3f1a9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-socks/4.1.30.Final/netty-codec-socks-4.1.30.Final.jar", "source": {"sha1": "f9a0e618f41ae84734a745880d0cfd9a6d1d6f6f", "sha256": "8ccebe1622039f6eba7f856caa810c185eac936a8492ff7be9b2f0318c36f932", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec-socks/4.1.30.Final/netty-codec-socks-4.1.30.Final-sources.jar"} , "name": "mvnio_netty_netty_codec_socks", "actual": "@mvnio_netty_netty_codec_socks//jar", "bind": "jar/mvnio/netty/netty_codec_socks"},[m
[32m+[m[32m# duplicates in io.netty:netty-codec promoted to 4.1.32.Final[m
[32m+[m[32m# - io.netty:netty-codec-http:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m# - io.netty:netty-codec-socks:4.1.30.Final wanted version 4.1.30.Final[m
[32m+[m[32m# - io.netty:netty-handler:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m    {"artifact": "io.netty:netty-codec:4.1.32.Final", "lang": "java", "sha1": "8f32bd79c5a16f014a4372ed979dc62b39ede33a", "sha256": "dbd6cea7d7bf5a2604e87337cb67c9468730d599be56511ed0979aacb309f879", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec/4.1.32.Final/netty-codec-4.1.32.Final.jar", "source": {"sha1": "d08f173b4c2d2eefd6c4c32a6879cfbc577b4a61", "sha256": "de464f3024a0d1630715983c8817433c9a1f09bfabb11f1613faf0a8ac58351d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-codec/4.1.32.Final/netty-codec-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_codec", "actual": "@mvnio_netty_netty_codec//jar", "bind": "jar/mvnio/netty/netty_codec"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-common:4.1.32.Final", "lang": "java", "sha1": "e95de4f762606f492328e180c8ad5438565a5e3b", "sha256": "cc993e660f8f8e3b033f1d25a9e2f70151666bdf878d460a6508cb23daa696dc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-common/4.1.32.Final/netty-common-4.1.32.Final.jar", "source": {"sha1": "8d1b38c52640ea5425c37ed0df3ebe1eece1c875", "sha256": "b80057d232d6b52aa1974cc27c259819b3802979bc92f2988b42eeb9df93858a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-common/4.1.32.Final/netty-common-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_common", "actual": "@mvnio_netty_netty_common//jar", "bind": "jar/mvnio/netty/netty_common"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-handler-proxy:4.1.30.Final", "lang": "java", "sha1": "1baa1568fa936caddca0fae96fdf127fd5cbad16", "sha256": "8553f0eaac3a21f25e485eb5191d21c69837deb5acc74b9cdf987820eaee3b54", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-handler-proxy/4.1.30.Final/netty-handler-proxy-4.1.30.Final.jar", "source": {"sha1": "88ef22e28a471ffe6f845c6971b56a7fcc446199", "sha256": "11b233fc1998b9c7960af1520cba1d3de181ed938d12efed1b28abda2b9ebdb3", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-handler-proxy/4.1.30.Final/netty-handler-proxy-4.1.30.Final-sources.jar"} , "name": "mvnio_netty_netty_handler_proxy", "actual": "@mvnio_netty_netty_handler_proxy//jar", "bind": "jar/mvnio/netty/netty_handler_proxy"},[m
[32m+[m[32m# duplicates in io.netty:netty-handler promoted to 4.1.32.Final[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 4.1.22.Final[m
[32m+[m[32m# - io.netty:netty-codec-http2:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m    {"artifact": "io.netty:netty-handler:4.1.32.Final", "lang": "java", "sha1": "b4e3fa13f219df14a9455cc2111f133374428be0", "sha256": "07d9756e48b5f6edc756e33e8b848fb27ff0b1ae087dab5addca6c6bf17cac2d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-handler/4.1.32.Final/netty-handler-4.1.32.Final.jar", "source": {"sha1": "8c27c17518e62f379d2d591c27118321219d71e8", "sha256": "a8c1f8776075d6d2db0a6bd0dd3ed39aba4d42f665c52a297f432e121f8606ed", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-handler/4.1.32.Final/netty-handler-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_handler", "actual": "@mvnio_netty_netty_handler//jar", "bind": "jar/mvnio/netty/netty_handler"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-resolver:4.1.32.Final", "lang": "java", "sha1": "3e0114715cb125a12db8d982b2208e552a91256d", "sha256": "9b4a19982047a95ea4791a7ad7ad385c7a08c2ac75f0a3509cc213cb32a726ae", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-resolver/4.1.32.Final/netty-resolver-4.1.32.Final.jar", "source": {"sha1": "10c75e79dd5098979f4213de11a38deda9b4123a", "sha256": "82cfe8b97e05758ed9bf8c9e3eeb54ccd2b97c67ad04b0014769c501bef8ae64", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-resolver/4.1.32.Final/netty-resolver-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_resolver", "actual": "@mvnio_netty_netty_resolver//jar", "bind": "jar/mvnio/netty/netty_resolver"},[m
[32m+[m[32m    {"artifact": "io.netty:netty-tcnative-boringssl-static:2.0.20.Final", "lang": "java", "sha1": "071141fca3e805d9d248cb43e1909cf6a50ad92c", "sha256": "c0bbfcb116ae9928ebb17cbfbdd80ee51980ad228a4fffb0cb3137ac91b1bc09", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-tcnative-boringssl-static/2.0.20.Final/netty-tcnative-boringssl-static-2.0.20.Final.jar", "source": {"sha1": "e16e918891c92b63ecb4b0dc90be9032594c7e0d", "sha256": "e81668c7f98caebbd6d66993eb8e874a2ced243bb2fa30b1ab8da7c62fa00038", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-tcnative-boringssl-static/2.0.20.Final/netty-tcnative-boringssl-static-2.0.20.Final-sources.jar"} , "name": "mvnio_netty_netty_tcnative_boringssl_static", "actual": "@mvnio_netty_netty_tcnative_boringssl_static//jar", "bind": "jar/mvnio/netty/netty_tcnative_boringssl_static"},[m
[32m+[m[32m# duplicates in io.netty:netty-transport promoted to 4.1.32.Final[m
[32m+[m[32m# - com.google.firebase:firebase-admin:6.6.0 wanted version 4.1.22.Final[m
[32m+[m[32m# - io.netty:netty-codec:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m# - io.netty:netty-handler-proxy:4.1.30.Final wanted version 4.1.30.Final[m
[32m+[m[32m# - io.netty:netty-handler:4.1.32.Final wanted version 4.1.32.Final[m
[32m+[m[32m    {"artifact": "io.netty:netty-transport:4.1.32.Final", "lang": "java", "sha1": "d5e5a8ff9c2bc7d91ddccc536a5aca1a4355bd8b", "sha256": "175bae0d227d7932c0c965c983efbb3cf01f39abe934f5c4071d0319784715fb", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-transport/4.1.32.Final/netty-transport-4.1.32.Final.jar", "source": {"sha1": "72348c04d0bf41fe9f43a2568fdf22252f44104e", "sha256": "25bc2a42bac3ffd95c3c84a5b39d8862c29e77af59f4c838eddceaf7e22db5e9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/netty/netty-transport/4.1.32.Final/netty-transport-4.1.32.Final-sources.jar"} , "name": "mvnio_netty_netty_transport", "actual": "@mvnio_netty_netty_transport//jar", "bind": "jar/mvnio/netty/netty_transport"},[m
[32m+[m[32m# duplicates in io.opencensus:opencensus-api promoted to 0.18.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-core-http:1.43.0 wanted version 0.15.0[m
[32m+[m[32m# - com.google.cloud:google-cloud-firestore:0.61.0-beta wanted version 0.15.0[m
[32m+[m[32m# - io.grpc:grpc-core:1.16.1 wanted version 0.12.3[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-grpc-metrics:0.18.0 wanted version 0.18.0[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-grpc-util:0.15.0 wanted version 0.15.0[m
[32m+[m[32m# - io.opencensus:opencensus-contrib-http-util:0.15.0 wanted version 0.15.0[m
[32m+[m[32m    {"artifact": "io.opencensus:opencensus-api:0.18.0", "lang": "java", "sha1": "b89a8f8dfd1e1e0d68d83c82a855624814b19a6e", "sha256": "45421ffe95271aba94686ed8d4c5070fe77dc2ff0b922688097f0dd40f1931b1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-api/0.18.0/opencensus-api-0.18.0.jar", "source": {"sha1": "0bf0e4d54c976a0f18331b0f3ebad3105dd25da7", "sha256": "598043929a08e875db037bb172dce62b8cbc13f51f811b62643a52ac5b96fc32", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-api/0.18.0/opencensus-api-0.18.0-sources.jar"} , "name": "mvnio_opencensus_opencensus_api", "actual": "@mvnio_opencensus_opencensus_api//jar", "bind": "jar/mvnio/opencensus/opencensus_api"},[m
[32m+[m[32m    {"artifact": "io.opencensus:opencensus-contrib-grpc-metrics:0.18.0", "lang": "java", "sha1": "8e90fab2930b6a0e67dab48911b9c936470d43dd", "sha256": "1f90585e777b1e0493dbf22e678303369a8d5b7c750b4eda070a34ca99271607", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-grpc-metrics/0.18.0/opencensus-contrib-grpc-metrics-0.18.0.jar", "source": {"sha1": "73c486b3124f087180853de76654bd67e646d55c", "sha256": "3bb1c879c1de76b20a1dedef5f5e9873bcb0c8b8d4991d6b3710539160d9e8ba", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-grpc-metrics/0.18.0/opencensus-contrib-grpc-metrics-0.18.0-sources.jar"} , "name": "mvnio_opencensus_opencensus_contrib_grpc_metrics", "actual": "@mvnio_opencensus_opencensus_contrib_grpc_metrics//jar", "bind": "jar/mvnio/opencensus/opencensus_contrib_grpc_metrics"},[m
[32m+[m[32m    {"artifact": "io.opencensus:opencensus-contrib-grpc-util:0.15.0", "lang": "java", "sha1": "bd86852303d3e4610ef44c007a6e3a728d95568f", "sha256": "bfe489db53dfd7891500fefa9a716f1b40c1d4c6db3aada251dcc6474c492559", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-grpc-util/0.15.0/opencensus-contrib-grpc-util-0.15.0.jar", "source": {"sha1": "3ddbe1d25eba2fd8e3be0ec62fb5c027d955f865", "sha256": "628f85d85515d8e849ea7bff005182f07565aa97dffa9a0126ba8ca4887f066e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-grpc-util/0.15.0/opencensus-contrib-grpc-util-0.15.0-sources.jar"} , "name": "mvnio_opencensus_opencensus_contrib_grpc_util", "actual": "@mvnio_opencensus_opencensus_contrib_grpc_util//jar", "bind": "jar/mvnio/opencensus/opencensus_contrib_grpc_util"},[m
[32m+[m[32m    {"artifact": "io.opencensus:opencensus-contrib-http-util:0.15.0", "lang": "java", "sha1": "d88690591669d9b5ba6d91d9eac7736e58ccf3da", "sha256": "3892c76b1f3dd2104306dc6c0762f4525e43c202638999e0173cb3600e7c0a49", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-http-util/0.15.0/opencensus-contrib-http-util-0.15.0.jar", "source": {"sha1": "d0146ecf3da4d2dba710d8051b383659e2cfccba", "sha256": "160bcc3e7d4e9b3541be3ec6d647406f07a5936bf849fd68e20743dffa17b40a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/io/opencensus/opencensus-contrib-http-util/0.15.0/opencensus-contrib-http-util-0.15.0-sources.jar"} , "name": "mvnio_opencensus_opencensus_contrib_http_util", "actual": "@mvnio_opencensus_opencensus_contrib_http_util//jar", "bind": "jar/mvnio/opencensus/opencensus_contrib_http_util"},[m
[32m+[m[32m    {"artifact": "javax.annotation:javax.annotation-api:1.3.2", "lang": "java", "sha1": "934c04d3cfef185a8008e7bf34331b79730a9d43", "sha256": "e04ba5195bcd555dc95650f7cc614d151e4bcd52d29a10b8aa2197f3ab89ab9b", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar", "source": {"sha1": "65dfd2c47380bf72ec62a5b8c4ceb78a4eda1a53", "sha256": "128971e52e0d84a66e3b6e049dab8ad7b2c58b7e1ad37fa2debd3d40c2947b95", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2-sources.jar"} , "name": "mvnjavax_annotation_javax_annotation_api", "actual": "@mvnjavax_annotation_javax_annotation_api//jar", "bind": "jar/mvnjavax/annotation/javax_annotation_api"},[m
[32m+[m[32m    {"artifact": "javax.annotation:jsr250-api:1.0", "lang": "java", "sha1": "5025422767732a1ab45d93abfea846513d742dcf", "sha256": "a1a922d0d9b6d183ed3800dfac01d1e1eb159f0e8c6f94736931c1def54a941f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar", "source": {"sha1": "9b1fba77edd118e13c42bda43d3c993dadd52c25", "sha256": "025c47d76c60199381be07012a0c5f9e74661aac5bd67f5aec847741c5b7f838", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/annotation/jsr250-api/1.0/jsr250-api-1.0-sources.jar"} , "name": "mvnjavax_annotation_jsr250_api", "actual": "@mvnjavax_annotation_jsr250_api//jar", "bind": "jar/mvnjavax/annotation/jsr250_api"},[m
[32m+[m[32m    {"artifact": "javax.inject:javax.inject:1", "lang": "java", "sha1": "6975da39a7040257bd51d21a231b76c915872d38", "sha256": "91c77044a50c481636c32d916fd89c9118a72195390452c81065080f957de7ff", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/inject/javax.inject/1/javax.inject-1.jar", "source": {"sha1": "a00123f261762a7c5e0ec916a2c7c8298d29c400", "sha256": "c4b87ee2911c139c3daf498a781967f1eb2e75bc1a8529a2e7b328a15d0e433e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/javax/inject/javax.inject/1/javax.inject-1-sources.jar"} , "name": "mvnjavax_inject_javax_inject", "actual": "@mvnjavax_inject_javax_inject//jar", "bind": "jar/mvnjavax/inject/javax_inject"},[m
[32m+[m[32m    {"artifact": "joda-time:joda-time:2.9.2", "lang": "java", "sha1": "36d6e77a419cb455e6fd5909f6f96b168e21e9d0", "sha256": "0be5c40e8cdce9ec0643d76be99f276db17c45d7616a217fd1b19b7ef73ca7b1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/joda-time/joda-time/2.9.2/joda-time-2.9.2.jar", "source": {"sha1": "95a8bd67d07e893710325efd4edd94b91f0d6bbf", "sha256": "54fdb443cf4f02dcc37943854b358303a31cb318f09c4572e0a3c875909d3163", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/joda-time/joda-time/2.9.2/joda-time-2.9.2-sources.jar"} , "name": "mvnjoda_time_joda_time", "actual": "@mvnjoda_time_joda_time//jar", "bind": "jar/mvnjoda_time/joda_time"},[m
[32m+[m[32m    {"artifact": "junit:junit:4.12", "lang": "java", "sha1": "2973d150c0dc1fefe998f834810d68f278ea58ec", "sha256": "59721f0805e223d84b90677887d9ff567dc534d7c502ca903c0c2b17f05c116a", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar", "source": {"sha1": "a6c32b40bf3d76eca54e3c601e5d1470c86fcdfa", "sha256": "9f43fea92033ad82bcad2ae44cec5c82abc9d6ee4b095cab921d11ead98bf2ff", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12-sources.jar"} , "name": "mvnjunit_junit", "actual": "@mvnjunit_junit//jar", "bind": "jar/mvnjunit/junit"},[m
[32m+[m[32m    {"artifact": "net.bytebuddy:byte-buddy-agent:1.9.3", "lang": "java", "sha1": "f5b78c16cf4060664d80b6ca32d80dca4bd3d264", "sha256": "547288e013a9d1f4a4ce2ab84c24e3edda6e433c7fa6b2c3c3613932671b05b1", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/bytebuddy/byte-buddy-agent/1.9.3/byte-buddy-agent-1.9.3.jar", "source": {"sha1": "331129f3735b57bdb899a4e73731cf5f3322cff4", "sha256": "e45132cfb9534d5de183517374b71ec83c770e0524a5b204b614c57b753f4813", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/bytebuddy/byte-buddy-agent/1.9.3/byte-buddy-agent-1.9.3-sources.jar"} , "name": "mvnnet_bytebuddy_byte_buddy_agent", "actual": "@mvnnet_bytebuddy_byte_buddy_agent//jar", "bind": "jar/mvnnet/bytebuddy/byte_buddy_agent"},[m
[32m+[m[32m    {"artifact": "net.bytebuddy:byte-buddy:1.9.3", "lang": "java", "sha1": "f32e510b239620852fc9a2387fac41fd053d6a4d", "sha256": "a27350be602caea67a33d31281496c84c69b5ab34ddc228e9ff2253fc8f9cd31", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/bytebuddy/byte-buddy/1.9.3/byte-buddy-1.9.3.jar", "source": {"sha1": "ef8bdb760633510eed72e262193d6afbc451cc72", "sha256": "f72e7e29cc321424af33aef71c5776e76a83b2c6b80414ad3602083fa90b4ae6", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/bytebuddy/byte-buddy/1.9.3/byte-buddy-1.9.3-sources.jar"} , "name": "mvnnet_bytebuddy_byte_buddy", "actual": "@mvnnet_bytebuddy_byte_buddy//jar", "bind": "jar/mvnnet/bytebuddy/byte_buddy"},[m
[32m+[m[32m    {"artifact": "net.sf.saxon:Saxon-HE:9.9.0-2", "lang": "java", "sha1": "c3437344acc4d2f1b5d1a638166e6ce52b300595", "sha256": "34661e9c6dd69caff14ec31e3ec47a9e7dbbc08be9da2c6326daf4e0038ed97c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/sf/saxon/Saxon-HE/9.9.0-2/Saxon-HE-9.9.0-2.jar", "source": {"sha1": "294ea53dfb38f001372deee809c375e8736f16f4", "sha256": "b229a09b43c67690eeba0344840cd3a053bb1946ebcd668b9764ef454ed7d1cf", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/net/sf/saxon/Saxon-HE/9.9.0-2/Saxon-HE-9.9.0-2-sources.jar"} , "name": "mvnnet_sf_saxon_Saxon_HE", "actual": "@mvnnet_sf_saxon_Saxon_HE//jar", "bind": "jar/mvnnet/sf/saxon/Saxon_HE"},[m
[32m+[m[32m    {"artifact": "org.antlr:antlr4-runtime:4.7.1", "lang": "java", "sha1": "946f8aa9daa917dd81a8b818111bec7e288f821a", "sha256": "43516d19beae35909e04d06af6c0c58c17bc94e0070c85e8dc9929ca640dc91d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/antlr/antlr4-runtime/4.7.1/antlr4-runtime-4.7.1.jar", "source": {"sha1": "1e68e18aa14f3229b95820d354a594846134af38", "sha256": "a33d52d0d64e68c60d5e3ae2c1098fe7200d57cff59032c19930fd9d487fc7d4", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/antlr/antlr4-runtime/4.7.1/antlr4-runtime-4.7.1-sources.jar"} , "name": "mvnorg_antlr_antlr4_runtime", "actual": "@mvnorg_antlr_antlr4_runtime//jar", "bind": "jar/mvnorg/antlr/antlr4_runtime"},[m
[32m+[m[32m    {"artifact": "org.apache.commons:commons-csv:1.6", "lang": "java", "sha1": "22b3c2f901af973a8ec4f24e80c8c0c77a600b79", "sha256": "7d1560fe2c3564128f2ff3f7c0fc9f0666738aa0e704f3d78b8954f9e0ec3adf", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/commons/commons-csv/1.6/commons-csv-1.6.jar", "source": {"sha1": "7163d5c8c70c71d32507583a3f6297302b32fa71", "sha256": "d0b39c137c7c690e2db31f9f2e46a800a02d41666865979215821ab519f4bcae", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/commons/commons-csv/1.6/commons-csv-1.6-sources.jar"} , "name": "mvnorg_apache_commons_commons_csv", "actual": "@mvnorg_apache_commons_commons_csv//jar", "bind": "jar/mvnorg/apache/commons/commons_csv"},[m
[32m+[m[32m    {"artifact": "org.apache.commons:commons-lang3:3.8.1", "lang": "java", "sha1": "6505a72a097d9270f7a9e7bf42c4238283247755", "sha256": "dac807f65b07698ff39b1b07bfef3d87ae3fd46d91bbf8a2bc02b2a831616f68", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/commons/commons-lang3/3.8.1/commons-lang3-3.8.1.jar", "source": {"sha1": "e9748d7783594da3735ad9724390a10e7cebc01d", "sha256": "a6589a5acef187a9c032b2afe22384acc3ae0bf15bb91ff67db8731ebb4323ca", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/commons/commons-lang3/3.8.1/commons-lang3-3.8.1-sources.jar"} , "name": "mvnorg_apache_commons_commons_lang3", "actual": "@mvnorg_apache_commons_commons_lang3//jar", "bind": "jar/mvnorg/apache/commons/commons_lang3"},[m
[32m+[m[32m    {"artifact": "org.apache.httpcomponents:fluent-hc:4.5.6", "lang": "java", "sha1": "7f4b2ccd83078e3bb87c8ad280ec074c04c7e4a4", "sha256": "325f18282c7bb229741a4683e9f440132dc8f6ed082d4f2f22a525ad39146295", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/fluent-hc/4.5.6/fluent-hc-4.5.6.jar", "source": {"sha1": "e0ceaeef856d78199cbd38c2573362f9057e7485", "sha256": "507539b3e64eca30c05cf98c56b6375d671707a9089391b422a450f81528b848", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/fluent-hc/4.5.6/fluent-hc-4.5.6-sources.jar"} , "name": "mvnorg_apache_httpcomponents_fluent_hc", "actual": "@mvnorg_apache_httpcomponents_fluent_hc//jar", "bind": "jar/mvnorg/apache/httpcomponents/fluent_hc"},[m
[32m+[m[32m# duplicates in org.apache.httpcomponents:httpclient promoted to 4.5.6[m
[32m+[m[32m# - com.google.http-client:google-http-client:1.25.0 wanted version 4.5.5[m
[32m+[m[32m# - org.apache.httpcomponents:fluent-hc:4.5.6 wanted version 4.5.6[m
[32m+[m[32m    {"artifact": "org.apache.httpcomponents:httpclient:4.5.6", "lang": "java", "sha1": "1afe5621985efe90a92d0fbc9be86271efbe796f", "sha256": "c03f813195e7a80e3608d0ddd8da80b21696a4c92a6a2298865bf149071551c7", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.5.6/httpclient-4.5.6.jar", "source": {"sha1": "bda84e42670536453ecd61ee70349c2493445994", "sha256": "6a8076d9a98a5be9f1a055011166f9055b0aee2de133699db3ccf20377533e58", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.5.6/httpclient-4.5.6-sources.jar"} , "name": "mvnorg_apache_httpcomponents_httpclient", "actual": "@mvnorg_apache_httpcomponents_httpclient//jar", "bind": "jar/mvnorg/apache/httpcomponents/httpclient"},[m
[32m+[m[32m    {"artifact": "org.apache.httpcomponents:httpcore:4.4.10", "lang": "java", "sha1": "acc54d9b28bdffe4bbde89ed2e4a1e86b5285e2b", "sha256": "78ba1096561957db1b55200a159b648876430342d15d461277e62360da19f6fd", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore/4.4.10/httpcore-4.4.10.jar", "source": {"sha1": "35dcae32cc1c3bfb62546e64b90fc6359183b3b5", "sha256": "9c790a045566da7ce0a53276816d09e08543ccb46ba99db1cb8f5d3742dfaa1f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore/4.4.10/httpcore-4.4.10-sources.jar"} , "name": "mvnorg_apache_httpcomponents_httpcore", "actual": "@mvnorg_apache_httpcomponents_httpcore//jar", "bind": "jar/mvnorg/apache/httpcomponents/httpcore"},[m
[32m+[m[32m    {"artifact": "org.apache.pdfbox:fontbox:2.0.13", "lang": "java", "sha1": "a1361adacfe9bebf262a5e05a97f1add9af1cc05", "sha256": "e37f809231c8c71276a87bb08272d007a0b4bfe857add208906d51da731a0104", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/pdfbox/fontbox/2.0.13/fontbox-2.0.13.jar", "source": {"sha1": "2d810df824f1a300e777c8ff9a49ec9b1c4f5679", "sha256": "7215b928c294d4f2109850d532450485d5f7d9d7f939ab9a334d76520514972e", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/pdfbox/fontbox/2.0.13/fontbox-2.0.13-sources.jar"} , "name": "mvnorg_apache_pdfbox_fontbox", "actual": "@mvnorg_apache_pdfbox_fontbox//jar", "bind": "jar/mvnorg/apache/pdfbox/fontbox"},[m
[32m+[m[32m    {"artifact": "org.apache.pdfbox:pdfbox:2.0.13", "lang": "java", "sha1": "389abca354e682d65e500c57856b75130d015e77", "sha256": "a373578f0efe7411e1c63181512bbb93f9eb528dd9c05655986ca5e372fe3634", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/pdfbox/pdfbox/2.0.13/pdfbox-2.0.13.jar", "source": {"sha1": "0add205341758bc9a1ae1fcd3bd670a0acab02e2", "sha256": "b77d89cbcc3fedfcb30daef576cbc80e6517d9ab3fa6b5934a65e8266c40ec55", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/apache/pdfbox/pdfbox/2.0.13/pdfbox-2.0.13-sources.jar"} , "name": "mvnorg_apache_pdfbox_pdfbox", "actual": "@mvnorg_apache_pdfbox_pdfbox//jar", "bind": "jar/mvnorg/apache/pdfbox/pdfbox"},[m
[32m+[m[32m# duplicates in org.checkerframework:checker-compat-qual promoted to 2.5.3[m
[32m+[m[32m# - com.google.dagger:dagger-producers:2.20 wanted version 2.5.3[m
[32m+[m[32m# - com.google.guava:guava:27.0.1-android wanted version 2.5.2[m
[32m+[m[32m    {"artifact": "org.checkerframework:checker-compat-qual:2.5.3", "lang": "java", "sha1": "045f92d2e0676d05ae9297269b8268f93a875d4a", "sha256": "d76b9afea61c7c082908023f0cbc1427fab9abd2df915c8b8a3e7a509bccbc6d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/checkerframework/checker-compat-qual/2.5.3/checker-compat-qual-2.5.3.jar", "source": {"sha1": "5853ff40085a6f44b51e6fe2d0ee95792190956d", "sha256": "68011773fd60cfc7772508134086787210ba2a1443e3f9c3f5d4233a226c3346", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/checkerframework/checker-compat-qual/2.5.3/checker-compat-qual-2.5.3-sources.jar"} , "name": "mvnorg_checkerframework_checker_compat_qual", "actual": "@mvnorg_checkerframework_checker_compat_qual//jar", "bind": "jar/mvnorg/checkerframework/checker_compat_qual"},[m
[32m+[m[32m    {"artifact": "org.checkerframework:checker-qual:2.5.5", "lang": "java", "sha1": "514110957549c2643c8875154b9c575b769ac0c1", "sha256": "164fe9728cf95a2cdea93e257d0dc3d5e29f29256b3cca900a8e619bc94d5b1f", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/checkerframework/checker-qual/2.5.5/checker-qual-2.5.5.jar", "source": {"sha1": "3c64d8c028a4fd4a7b8059a4e9269efbefd3a946", "sha256": "236cb02eeacb6c11c7457fe439dc49ac4a3d5fa1d8c89139eea85c6a94236dde", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/checkerframework/checker-qual/2.5.5/checker-qual-2.5.5-sources.jar"} , "name": "mvnorg_checkerframework_checker_qual", "actual": "@mvnorg_checkerframework_checker_qual//jar", "bind": "jar/mvnorg/checkerframework/checker_qual"},[m
[32m+[m[32m    {"artifact": "org.codehaus.jackson:jackson-core-asl:1.9.11", "lang": "java", "sha1": "e32303ef8bd18a5c9272780d49b81c95e05ddf43", "sha256": "5fb6924b888550a9b0e8420747a93cc4ad24e03e724dcf4934c30cc0c4882ffc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-core-asl/1.9.11/jackson-core-asl-1.9.11.jar", "source": {"sha1": "e61687a76d77cda609bab7479acbded1f7cceec4", "sha256": "b347c1a9f04c45cf374b5b2cf5df19a3e4fa255ba9de3a5928915340459098c7", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-core-asl/1.9.11/jackson-core-asl-1.9.11-sources.jar"} , "name": "mvnorg_codehaus_jackson_jackson_core_asl", "actual": "@mvnorg_codehaus_jackson_jackson_core_asl//jar", "bind": "jar/mvnorg/codehaus/jackson/jackson_core_asl"},[m
[32m+[m[32m    {"artifact": "org.codehaus.mojo:animal-sniffer-annotations:1.17", "lang": "java", "sha1": "f97ce6decaea32b36101e37979f8b647f00681fb", "sha256": "92654f493ecfec52082e76354f0ebf87648dc3d5cec2e3c3cdb947c016747a53", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17.jar", "source": {"sha1": "8fb5b5ad9c9723951b9fccaba5bb657fa6064868", "sha256": "2571474a676f775a8cdd15fb9b1da20c4c121ed7f42a5d93fca0e7b6e2015b40", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17-sources.jar"} , "name": "mvnorg_codehaus_mojo_animal_sniffer_annotations", "actual": "@mvnorg_codehaus_mojo_animal_sniffer_annotations//jar", "bind": "jar/mvnorg/codehaus/mojo/animal_sniffer_annotations"},[m
[32m+[m[32m    {"artifact": "org.hamcrest:hamcrest-core:1.3", "lang": "java", "sha1": "42a25dc3219429f0e5d060061f71acb49bf010a0", "sha256": "66fdef91e9739348df7a096aa384a5685f4e875584cce89386a7a47251c4d8e9", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar", "source": {"sha1": "1dc37250fbc78e23a65a67fbbaf71d2e9cbc3c0b", "sha256": "e223d2d8fbafd66057a8848cc94222d63c3cedd652cc48eddc0ab5c39c0f84df", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3-sources.jar"} , "name": "mvnorg_hamcrest_hamcrest_core", "actual": "@mvnorg_hamcrest_hamcrest_core//jar", "bind": "jar/mvnorg/hamcrest/hamcrest_core"},[m
[32m+[m[32m    {"artifact": "org.javassist:javassist:3.24.1-GA", "lang": "java", "sha1": "921b466d6a14a8edbe25923c973fd767fc71c045", "sha256": "5d57ea5b0ec8cb46143dfe521f888b208028be126f274cc4f852e641755f1553", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.1-GA/javassist-3.24.1-GA.jar", "source": {"sha1": "7c80ce6145aa19d7219dc6406286061701db5525", "sha256": "132da2795df6fa56a499348c1bee81cd50dd4b53a7f319c3fcca5b76a498cb8c", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.1-GA/javassist-3.24.1-GA-sources.jar"} , "name": "mvnorg_javassist_javassist", "actual": "@mvnorg_javassist_javassist//jar", "bind": "jar/mvnorg/javassist/javassist"},[m
[32m+[m[32m    {"artifact": "org.json:json:20180813", "lang": "java", "sha1": "8566b2b0391d9d4479ea225645c6ed47ef17fe41", "sha256": "518080049ba83181914419d11a25d9bc9833a2d729b6a6e7469fa52851356da8", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/json/json/20180813/json-20180813.jar", "source": {"sha1": "60753006d96d5fc85b61b0897f3326b5c4e1c4f0", "sha256": "374f8edf3553feb1b302b86c8c8ec2002b1196c4fdba6a48a7b80f3fe9c2fb90", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/json/json/20180813/json-20180813-sources.jar"} , "name": "mvnorg_json_json", "actual": "@mvnorg_json_json//jar", "bind": "jar/mvnorg/json/json"},[m
[32m+[m[32m    {"artifact": "org.jsoup:jsoup:1.11.3", "lang": "java", "sha1": "36da09a8f68484523fa2aaa100399d612b247d67", "sha256": "df2c71a4240ecbdae7cdcd1667bcf0d747e4e3dcefe8161e787adcff7e5f2fa0", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/jsoup/jsoup/1.11.3/jsoup-1.11.3.jar", "source": {"sha1": "871302b15d8cee9bfb393c4f1d0386b17646d8d1", "sha256": "8402a013b600a290b98e0283518ee22d9c080ea240ac8bc429bce9017de691cc", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/jsoup/jsoup/1.11.3/jsoup-1.11.3-sources.jar"} , "name": "mvnorg_jsoup_jsoup", "actual": "@mvnorg_jsoup_jsoup//jar", "bind": "jar/mvnorg/jsoup/jsoup"},[m
[32m+[m[32m    {"artifact": "org.mockito:mockito-core:2.23.4", "lang": "java", "sha1": "a35b6f8ffcfa786771eac7d7d903429e790fdf3f", "sha256": "d77e018b6bc211d78ddcec54bc508732c4677b9a9eb9103793be85441b20bc5d", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/mockito/mockito-core/2.23.4/mockito-core-2.23.4.jar", "source": {"sha1": "6878fee8002a77fc3d29d2407d9cb059e3792827", "sha256": "2e624439ee1de251c0e963a7183f47383eb67b29260d175ab6688675e05c9342", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/mockito/mockito-core/2.23.4/mockito-core-2.23.4-sources.jar"} , "name": "mvnorg_mockito_mockito_core", "actual": "@mvnorg_mockito_mockito_core//jar", "bind": "jar/mvnorg/mockito/mockito_core"},[m
[32m+[m[32m    {"artifact": "org.objenesis:objenesis:3.0.1", "lang": "java", "sha1": "11cfac598df9dc48bb9ed9357ed04212694b7808", "sha256": "7a8ff780b9ff48415d7c705f60030b0acaa616e7f823c98eede3b63508d4e984", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/objenesis/objenesis/3.0.1/objenesis-3.0.1.jar", "source": {"sha1": "4aaa3e228e1ae7c71ded703b8742c37c058057fd", "sha256": "675682fcfe074b27bca4761aeb412ba487a1eff0aa515cd13731fea8552cc3f8", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/objenesis/objenesis/3.0.1/objenesis-3.0.1-sources.jar"} , "name": "mvnorg_objenesis_objenesis", "actual": "@mvnorg_objenesis_objenesis//jar", "bind": "jar/mvnorg/objenesis/objenesis"},[m
[32m+[m[32m    {"artifact": "org.slf4j:slf4j-api:1.7.25", "lang": "java", "sha1": "da76ca59f6a57ee3102f8f9bd9cee742973efa8a", "sha256": "18c4a0095d5c1da6b817592e767bb23d29dd2f560ad74df75ff3961dbde25b79", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar", "source": {"sha1": "962153db4a9ea71b79d047dfd1b2a0d80d8f4739", "sha256": "c4bc93180a4f0aceec3b057a2514abe04a79f06c174bbed910a2afb227b79366", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25-sources.jar"} , "name": "mvnorg_slf4j_slf4j_api", "actual": "@mvnorg_slf4j_slf4j_api//jar", "bind": "jar/mvnorg/slf4j/slf4j_api"},[m
[32m+[m[32m    {"artifact": "org.slf4j:slf4j-simple:1.7.25", "lang": "java", "sha1": "8dacf9514f0c707cbbcdd6fd699e8940d42fb54e", "sha256": "0966e86fffa5be52d3d9e7b89dd674d98a03eed0a454fbaf7c1bd9493bd9d874", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/1.7.25/slf4j-simple-1.7.25.jar", "source": {"sha1": "af3cd3ad1ea4b08b27b54f12529b4bf343bc5ca1", "sha256": "2cfa254e77c6f41bdcd8500c61c0f6b9959de66835d2b598102d38c2a807f367", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/1.7.25/slf4j-simple-1.7.25-sources.jar"} , "name": "mvnorg_slf4j_slf4j_simple", "actual": "@mvnorg_slf4j_slf4j_simple//jar", "bind": "jar/mvnorg/slf4j/slf4j_simple"},[m
[32m+[m[32m    {"artifact": "org.threeten:threetenbp:1.3.3", "lang": "java", "sha1": "3ea31c96676ff12ab56be0b1af6fff61d1a4f1f2", "sha256": "7bbee842b0334f63627556d3c657aab82431f3a207c8dc4dcfc379d7d210a8c6", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/threeten/threetenbp/1.3.3/threetenbp-1.3.3.jar", "source": {"sha1": "dbca917b92624cc219df74ef5da110f451903511", "sha256": "d4d24712ed82d38f32d5584b3b9dc545264c5ff178c8222fcb084b4d49576272", "repository": "https://repo.maven.apache.org/maven2/", "url": "https://repo.maven.apache.org/maven2/org/threeten/threetenbp/1.3.3/threetenbp-1.3.3-sources.jar"} , "name": "mvnorg_threeten_threetenbp", "actual": "@mvnorg_threeten_threetenbp//jar", "bind": "jar/mvnorg/threeten/threetenbp"},[m
[32m+[m[32m    ][m
[32m+[m
[32m+[m[32mdef maven_dependencies(callback = jar_artifact_callback):[m
[32m+[m[32m    for hash in list_dependencies():[m
[32m+[m[32m        callback(hash)[m
[1mdiff --git a/tools/checkstyle/BUILD b/tools/checkstyle/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..c700991[m
[1m--- /dev/null[m
[1m+++ b/tools/checkstyle/BUILD[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mexports_files([[m
[32m+[m[32m    "config.xml",[m
[32m+[m[32m])[m
[1mdiff --git a/tools/checkstyle/check-for-missing-targets.sh b/tools/checkstyle/check-for-missing-targets.sh[m
[1mnew file mode 100755[m
[1mindex 0000000..a28b6d2[m
[1m--- /dev/null[m
[1m+++ b/tools/checkstyle/check-for-missing-targets.sh[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32m# This script verifies that all Java targets except those having assigned `checkstyle_ignore` tag[m
[32m+[m[32m# do have a accompanying Checkstyle target[m
[32m+[m
[32m+[m[32m# [1] Get all Java targets except those having assigned `checkstyle_ignore` tag[m
[32m+[m[32mbazel query 'kind(java_*, //...) - kind(java_proto_library, //...) - //third_party/... - attr("tags", "checkstyle_ignore", //...)' | sort >/tmp/all_java_targets[m
[32m+[m[32m# [2] Get all checkstyle targets' names, replace '-checkstyle' with nothing so it matches Java target name[m
[32m+[m[32mbazel query 'kind(checkstyle_test, //...)' | sed -e 's|-checkstyle||g' | sort >/tmp/checkstyle_covered_java_targets[m
[32m+[m
[32m+[m[32m# [3] Targets in [1] which are not in [2][m
[32m+[m[32mNON_COVERED_JAVA_TARGETS=$(comm -23 /tmp/all_java_targets /tmp/checkstyle_covered_java_targets)[m
[32m+[m
[32m+[m[32m# Having non-empty [3] is an error[m
[32m+[m[32mif [[ ! -z "$NON_COVERED_JAVA_TARGETS" ]]; then[m
[32m+[m[32m  echo "$(tput setaf 1)[!] These java targets do not have accompanying checkstyle targets:"$(tput sgr0)[m
[32m+[m[32m  echo ${NON_COVERED_JAVA_TARGETS}[m
[32m+[m[32m  exit 1[m
[32m+[m[32mfi[m
[1mdiff --git a/tools/checkstyle/config.xml b/tools/checkstyle/config.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..340e8f1[m
[1m--- /dev/null[m
[1m+++ b/tools/checkstyle/config.xml[m
[36m@@ -0,0 +1,232 @@[m
[32m+[m[32m<?xml version="1.0"?>[m
[32m+[m[32m<!DOCTYPE module PUBLIC[m
[32m+[m[32m        "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"[m
[32m+[m[32m        "https://checkstyle.org/dtds/configuration_1_3.dtd">[m
[32m+[m
[32m+[m[32m<!-- Imported from https://github.com/checkstyle/checkstyle/blob/master/src/main/resources/google_checks.xml -->[m
[32m+[m
[32m+[m[32m<module name = "Checker">[m
[32m+[m[32m    <property name="charset" value="UTF-8"/>[m
[32m+[m
[32m+[m[32m    <property name="fileExtensions" value="java, properties, xml"/>[m
[32m+[m[32m    <!-- Checks for whitespace                               -->[m
[32m+[m[32m    <!-- See http://checkstyle.sf.net/config_whitespace.html -->[m
[32m+[m[32m    <module name="FileTabCharacter">[m
[32m+[m[32m        <property name="eachLine" value="true"/>[m
[32m+[m[32m    </module>[m
[32m+[m
[32m+[m[32m    <module name="SuppressWarningsFilter" />[m
[32m+[m[32m    <module name="TreeWalker">[m
[32m+[m[32m        <module name="OuterTypeFilename"/>[m
[32m+[m[32m        <module name="IllegalTokenText">[m
[32m+[m[32m            <property name="tokens" value="STRING_LITERAL, CHAR_LITERAL"/>[m
[32m+[m[32m            <property name="format"[m
[32m+[m[32m                      value="\\u00(09|0(a|A)|0(c|C)|0(d|D)|22|27|5(C|c))|\\(0(10|11|12|14|15|42|47)|134)"/>[m
[32m+[m[32m            <property name="message"[m
[32m+[m[32m                      value="Consider using special escape sequence instead of octal value or Unicode escaped value."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="AvoidEscapedUnicodeCharacters">[m
[32m+[m[32m            <property name="allowEscapesForControlCharacters" value="true"/>[m
[32m+[m[32m            <property name="allowByTailComment" value="true"/>[m
[32m+[m[32m            <property name="allowNonPrintableEscapes" value="true"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="LineLength">[m
[32m+[m[32m            <property name="max" value="100"/>[m
[32m+[m[32m            <property name="ignorePattern" value="^package.*|^import.*|a href|href|http://|https://|ftp://"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="AvoidStarImport"/>[m
[32m+[m[32m        <module name="OneTopLevelClass"/>[m
[32m+[m[32m        <module name="NoLineWrap"/>[m
[32m+[m[32m        <module name="EmptyBlock">[m
[32m+[m[32m            <property name="option" value="TEXT"/>[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="LITERAL_TRY, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE, LITERAL_SWITCH"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="NeedBraces"/>[m
[32m+[m[32m        <module name="LeftCurly"/>[m
[32m+[m[32m        <module name="RightCurly">[m
[32m+[m[32m            <property name="id" value="RightCurlySame"/>[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="LITERAL_TRY, LITERAL_CATCH, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE,[m
[32m+[m[32m                    LITERAL_DO"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="RightCurly">[m
[32m+[m[32m            <property name="id" value="RightCurlyAlone"/>[m
[32m+[m[32m            <property name="option" value="alone"/>[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="CLASS_DEF, METHOD_DEF, CTOR_DEF, LITERAL_FOR, LITERAL_WHILE, STATIC_INIT,[m
[32m+[m[32m                    INSTANCE_INIT"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="WhitespaceAround">[m
[32m+[m[32m            <property name="allowEmptyConstructors" value="true"/>[m
[32m+[m[32m            <property name="allowEmptyMethods" value="true"/>[m
[32m+[m[32m            <property name="allowEmptyTypes" value="true"/>[m
[32m+[m[32m            <property name="allowEmptyLoops" value="true"/>[m
[32m+[m[32m            <message key="ws.notFollowed"[m
[32m+[m[32m                     value="WhitespaceAround: ''{0}'' is not followed by whitespace. Empty blocks may only be represented as '{}' when not part of a multi-block statement (4.1.3)"/>[m
[32m+[m[32m            <message key="ws.notPreceded"[m
[32m+[m[32m                     value="WhitespaceAround: ''{0}'' is not preceded with whitespace."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="OneStatementPerLine"/>[m
[32m+[m[32m        <module name="MultipleVariableDeclarations"/>[m
[32m+[m[32m        <module name="ArrayTypeStyle"/>[m
[32m+[m[32m        <module name="MissingSwitchDefault"/>[m
[32m+[m[32m        <module name="FallThrough"/>[m
[32m+[m[32m        <module name="UpperEll"/>[m
[32m+[m[32m        <module name="ModifierOrder"/>[m
[32m+[m[32m        <module name="EmptyLineSeparator">[m
[32m+[m[32m            <property name="allowNoEmptyLineBetweenFields" value="true"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SeparatorWrap">[m
[32m+[m[32m            <property name="id" value="SeparatorWrapDot"/>[m
[32m+[m[32m            <property name="tokens" value="DOT"/>[m
[32m+[m[32m            <property name="option" value="nl"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SeparatorWrap">[m
[32m+[m[32m            <property name="id" value="SeparatorWrapComma"/>[m
[32m+[m[32m            <property name="tokens" value="COMMA"/>[m
[32m+[m[32m            <property name="option" value="EOL"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SeparatorWrap">[m
[32m+[m[32m            <!-- ELLIPSIS is EOL until https://github.com/google/styleguide/issues/258 -->[m
[32m+[m[32m            <property name="id" value="SeparatorWrapEllipsis"/>[m
[32m+[m[32m            <property name="tokens" value="ELLIPSIS"/>[m
[32m+[m[32m            <property name="option" value="EOL"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SeparatorWrap">[m
[32m+[m[32m            <!-- ARRAY_DECLARATOR is EOL until https://github.com/google/styleguide/issues/259 -->[m
[32m+[m[32m            <property name="id" value="SeparatorWrapArrayDeclarator"/>[m
[32m+[m[32m            <property name="tokens" value="ARRAY_DECLARATOR"/>[m
[32m+[m[32m            <property name="option" value="EOL"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SeparatorWrap">[m
[32m+[m[32m            <property name="id" value="SeparatorWrapMethodRef"/>[m
[32m+[m[32m            <property name="tokens" value="METHOD_REF"/>[m
[32m+[m[32m            <property name="option" value="nl"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="TypeName">[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Type name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="MemberName">[m
[32m+[m[32m            <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9]*$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Member name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="ParameterName">[m
[32m+[m[32m            <property name="format" value="^[a-z]([a-z0-9][a-zA-Z0-9]*)?$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Parameter name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="LambdaParameterName">[m
[32m+[m[32m            <property name="format" value="^[a-z]([a-z0-9][a-zA-Z0-9]*)?$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Lambda parameter name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="CatchParameterName">[m
[32m+[m[32m            <property name="format" value="^[a-z]([a-z0-9][a-zA-Z0-9]*)?$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Catch parameter name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="LocalVariableName">[m
[32m+[m[32m            <property name="tokens" value="VARIABLE_DEF"/>[m
[32m+[m[32m            <property name="format" value="^[a-z]([a-z0-9][a-zA-Z0-9]*)?$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Local variable name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="ClassTypeParameterName">[m
[32m+[m[32m            <property name="format" value="(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Class type name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="MethodTypeParameterName">[m
[32m+[m[32m            <property name="format" value="(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Method type name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="InterfaceTypeParameterName">[m
[32m+[m[32m            <property name="format" value="(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Interface type name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="NoFinalizer"/>[m
[32m+[m[32m        <module name="GenericWhitespace">[m
[32m+[m[32m            <message key="ws.followed"[m
[32m+[m[32m                     value="GenericWhitespace ''{0}'' is followed by whitespace."/>[m
[32m+[m[32m            <message key="ws.preceded"[m
[32m+[m[32m                     value="GenericWhitespace ''{0}'' is preceded with whitespace."/>[m
[32m+[m[32m            <message key="ws.illegalFollow"[m
[32m+[m[32m                     value="GenericWhitespace ''{0}'' should followed by whitespace."/>[m
[32m+[m[32m            <message key="ws.notPreceded"[m
[32m+[m[32m                     value="GenericWhitespace ''{0}'' is not preceded with whitespace."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="Indentation">[m
[32m+[m[32m            <property name="basicOffset" value="2"/>[m
[32m+[m[32m            <property name="braceAdjustment" value="0"/>[m
[32m+[m[32m            <property name="caseIndent" value="2"/>[m
[32m+[m[32m            <property name="throwsIndent" value="4"/>[m
[32m+[m[32m            <property name="lineWrappingIndentation" value="4"/>[m
[32m+[m[32m            <property name="arrayInitIndent" value="2"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="AbbreviationAsWordInName">[m
[32m+[m[32m            <property name="ignoreFinal" value="false"/>[m
[32m+[m[32m            <property name="allowedAbbreviationLength" value="1"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="OverloadMethodsDeclarationOrder"/>[m
[32m+[m[32m        <module name="VariableDeclarationUsageDistance"/>[m
[32m+[m[32m        <module name="CustomImportOrder">[m
[32m+[m[32m            <property name="sortImportsInGroupAlphabetically" value="true"/>[m
[32m+[m[32m            <property name="separateLineBetweenGroups" value="true"/>[m
[32m+[m[32m            <property name="customImportOrderRules" value="STATIC###THIRD_PARTY_PACKAGE"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="MethodParamPad"/>[m
[32m+[m[32m        <module name="NoWhitespaceBefore">[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="COMMA, SEMI, POST_INC, POST_DEC, DOT, ELLIPSIS, METHOD_REF"/>[m
[32m+[m[32m            <property name="allowLineBreaks" value="true"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="ParenPad"/>[m
[32m+[m[32m        <module name="OperatorWrap">[m
[32m+[m[32m            <property name="option" value="NL"/>[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="BAND, BOR, BSR, BXOR, DIV, EQUAL, GE, GT, LAND, LE, LITERAL_INSTANCEOF, LOR,[m
[32m+[m[32m                    LT, MINUS, MOD, NOT_EQUAL, PLUS, QUESTION, SL, SR, STAR, METHOD_REF "/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="AnnotationLocation">[m
[32m+[m[32m            <property name="id" value="AnnotationLocationMostCases"/>[m
[32m+[m[32m            <property name="tokens"[m
[32m+[m[32m                      value="CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="AnnotationLocation">[m
[32m+[m[32m            <property name="id" value="AnnotationLocationVariables"/>[m
[32m+[m[32m            <property name="tokens" value="VARIABLE_DEF"/>[m
[32m+[m[32m            <property name="allowSamelineMultipleAnnotations" value="true"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="NonEmptyAtclauseDescription"/>[m
[32m+[m[32m        <module name="JavadocTagContinuationIndentation"/>[m
[32m+[m[32m        <module name="SummaryJavadoc">[m
[32m+[m[32m            <property name="forbiddenSummaryFragments"[m
[32m+[m[32m                      value="^@return the *|^This method returns |^A [{]@code [a-zA-Z0-9]+[}]( is a )"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="JavadocParagraph"/>[m
[32m+[m[32m        <module name="AtclauseOrder">[m
[32m+[m[32m            <property name="tagOrder" value="@param, @return, @throws, @deprecated"/>[m
[32m+[m[32m            <property name="target"[m
[32m+[m[32m                      value="CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF, VARIABLE_DEF"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="MethodName">[m
[32m+[m[32m            <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9_]*$"/>[m
[32m+[m[32m            <message key="name.invalidPattern"[m
[32m+[m[32m                     value="Method name ''{0}'' must match pattern ''{1}''."/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="SingleLineJavadoc">[m
[32m+[m[32m            <property name="ignoredTags" value="@link, @code"/>[m
[32m+[m[32m            <property name="ignoreInlineTags" value="false"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="EmptyCatchBlock">[m
[32m+[m[32m            <property name="exceptionVariableName" value="ignored"/>[m
[32m+[m[32m        </module>[m
[32m+[m[32m        <module name="CommentsIndentation"/>[m
[32m+[m[32m        <module name="SuppressWarningsHolder" />[m
[32m+[m[32m    </module>[m
[32m+[m[32m</module>[m
\ No newline at end of file[m
[1mdiff --git a/tools/get_android_sdk.sh b/tools/get_android_sdk.sh[m
[1mnew file mode 100755[m
[1mindex 0000000..23b4b8a[m
[1m--- /dev/null[m
[1m+++ b/tools/get_android_sdk.sh[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32m#!/bin/bash[m
[32m+[m
[32m+[m[32mRED=$(tput setaf 1)[m
[32m+[m[32mRESET=$(tput sgr0)[m
[32m+[m
[32m+[m[32mif [[ -z "$ANDROID_HOME" ]]; then[m
[32m+[m[32m  export ANDROID_HOME=$HOME/android_sdk/[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mDOWNLOAD_COMMAND=wget[m
[32m+[m[32mif [[ ! -x "$(command -v ${DOWNLOAD_COMMAND})" ]]; then[m
[32m+[m[32m  DOWNLOAD_COMMAND="curl -LO"[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mif [[ ! -x "$(command -v ${DOWNLOAD_COMMAND})" ]]; then[m
[32m+[m[32m  echo "$(tput setaf 1)No wget or curl found$(tput sgr0)"[m
[32m+[m[32m  exit 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mURL_BASE="https://dl.google.com/android/repository/"[m
[32m+[m
[32m+[m[32mplatform=$(uname)[m
[32m+[m[32mif [[ "$platform" == "Darwin" ]]; then[m
[32m+[m[32m  FILENAME="sdk-tools-darwin-4333796.zip"[m
[32m+[m[32m  PROFILE_FILE="$HOME/.bash_profile"[m
[32m+[m[32melif [[ "$platform" == "Linux" ]]; then[m
[32m+[m[32m  FILENAME="sdk-tools-linux-4333796.zip"[m
[32m+[m[32m  PROFILE_FILE="$HOME/.bashrc"[m
[32m+[m[32melse[m
[32m+[m[32m  echo "Android SDK does not have an archive for $platform"[m
[32m+[m[32m  exit 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mif [[ ! -d "$ANDROID_HOME" ]]; then[m
[32m+[m[32m  ${DOWNLOAD_COMMAND} ${URL_BASE}/${FILENAME}[m
[32m+[m[32m  unzip ${FILENAME} -d ${ANDROID_HOME}[m
[32m+[m[32m  echo y | ${ANDROID_HOME}/tools/bin/sdkmanager "platforms;android-27"[m
[32m+[m[32m  echo y | ${ANDROID_HOME}/tools/bin/sdkmanager "platform-tools"[m
[32m+[m[32m  echo y | ${ANDROID_HOME}/tools/bin/sdkmanager "build-tools;27.0.3"[m
[32m+[m[32m  echo y | ${ANDROID_HOME}/tools/bin/sdkmanager "extras;android;m2repository"[m
[32m+[m[32m  echo y | ${ANDROID_HOME}/tools/bin/sdkmanager "extras;google;m2repository"[m
[32m+[m[32m  echo "Removing $(rm -v ${FILENAME})"[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32mecho "Android SDK at $RED$ANDROID_HOME$RESET"[m
[32m+[m[32mecho "Run$RED 'export ANDROID_HOME=$ANDROID_HOME'$RESET before building"[m
[32m+[m[32mecho "Run$RED 'echo export ANDROID_HOME=$ANDROID_HOME >> $PROFILE_FILE'$RESET to persist the setting"[m
[1mdiff --git a/tools/startup/apt-deps b/tools/startup/apt-deps[m
[1mnew file mode 100755[m
[1mindex 0000000..102aefb[m
[1m--- /dev/null[m
[1m+++ b/tools/startup/apt-deps[m
[36m@@ -0,0 +1,41 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32mverb=$1[m
[32m+[m
[32m+[m[32mif [[ "$verb" = "generate" ]]; then[m
[32m+[m[32m    infile=$2[m
[32m+[m[32m    outfile=$3[m
[32m+[m
[32m+[m[32m    if [[ ! -f "$infile" ]] || [[ -z "$outfile" ]]; then[m
[32m+[m[32m      echo "Should supply input and output files: $0 $1 [input] [output]"[m
[32m+[m[32m      exit 1;[m
[32m+[m[32m    fi[m
[32m+[m
[32m+[m[32m    echo "Running apt-get update, installing wget"[m
[32m+[m[32m    apt-get update &> /dev/null[m
[32m+[m[32m    apt-get install -y wget &> /dev/null[m
[32m+[m[32m    echo "Generating ${outfile}"[m
[32m+[m[32m    apt-get -qq -y install --reinstall --print-uris $(cat ${infile}) | awk $'{ gsub(/\'/, "", $1); print $1}' >  ${outfile}[m
[32m+[m[32melif [[ "$verb" = "download" ]]; then[m
[32m+[m[32m    echo "Downloading debs from file ${infile}"[m
[32m+[m
[32m+[m[32m    infile=$2[m
[32m+[m
[32m+[m[32m    if [[ ! -f "$infile" ]]; then[m
[32m+[m[32m      echo "Should supply input file: $0 $1 [input]"[m
[32m+[m[32m      exit 1;[m
[32m+[m[32m    fi[m
[32m+[m
[32m+[m[32m    echo "Downloading to debs/"[m
[32m+[m[32m    mkdir -p debs/[m
[32m+[m[32m    wget --directory-prefix=debs/ --input-file=${infile}[m
[32m+[m[32melif [[ "$verb" = "install" ]]; then[m
[32m+[m[32m    echo "Installing debs from directory debs/"[m
[32m+[m
[32m+[m[32m    # TODO: --force-depends installs all packages[m
[32m+[m[32m    # regardless of their dependencies. Figure out a[m
[32m+[m[32m    # proper way to fetch packages so flag is not needed.[m
[32m+[m[32m    dpkg --force-depends -i debs/*.deb[m
[32m+[m[32melse[m
[32m+[m[32m  echo "Incorrect verb: '$verb'. Should be one of [generate|download|install]"[m
[32m+[m[32mfi[m
[1mdiff --git a/tools/startup/dotfiles/.terminal b/tools/startup/dotfiles/.terminal[m
[1mnew file mode 100644[m
[1mindex 0000000..68deaea[m
[1m--- /dev/null[m
[1m+++ b/tools/startup/dotfiles/.terminal[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32m# This file is run in .bashrc (when the terminal opens).[m
[32m+[m[32mexport PATH="$PATH:$HOME/bin:/media/$USER/data/opt/intellij/bin"[m
[32m+[m
[32m+[m[32mif [ -d /media/$USER/data/base ]; then[m
[32m+[m[32m  source /media/$USER/data/base/head/startup-os/tools/reviewer/aa/aa_tool.sh[m
[32m+[m[32mfi[m
[32m+[m
[1mdiff --git a/tools/startup/dotfiles/.vimrc b/tools/startup/dotfiles/.vimrc[m
[1mnew file mode 100644[m
[1mindex 0000000..cd52193[m
[1m--- /dev/null[m
[1m+++ b/tools/startup/dotfiles/.vimrc[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mset nocompatible[m
[1mdiff --git a/tools/startup/setup.sh b/tools/startup/setup.sh[m
[1mnew file mode 100644[m
[1mindex 0000000..9fb33ee[m
[1m--- /dev/null[m
[1m+++ b/tools/startup/setup.sh[m
[36m@@ -0,0 +1,127 @@[m
[32m+[m
[32m+[m[32m#!/bin/bash[m
[32m+[m
[32m+[m[32m# Setup script. Please connect to wifi before running (see TODO below).[m
[32m+[m[32m# Note: Because of the FIXME, you'll have to run it, run "source ~/.bashrc", and run it again.[m
[32m+[m
[32m+[m[32m# Make us the owners of the files in data[m
[32m+[m[32msudo chown -R $USER /media/ubuntu/data[m
[32m+[m[32mcd /media/$USER/data[m
[32m+[m
[32m+[m[32mif [ ! -d downloads ]; then[m
[32m+[m[32m  mkdir downloads[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Uninstall unneeded packages[m
[32m+[m[32msudo apt-get purge -y thunderbird*[m
[32m+[m[32msudo apt-get purge -y firefox*[m
[32m+[m[32msudo apt-get purge -y libreoffice*[m
[32m+[m[32msudo apt-get purge -y gnome-sudoku[m
[32m+[m[32msudo apt-get purge -y gnome-mines[m
[32m+[m[32msudo apt-get purge -y gnome-mahjongg[m
[32m+[m[32msudo apt-get purge -y gnome-calendar[m
[32m+[m[32msudo apt-get purge -y *gnome-todo*[m
[32m+[m[32msudo apt-get purge -y transmission*[m
[32m+[m[32msudo apt-get purge -y deja-dup[m
[32m+[m[32msudo apt-get purge -y aisleriot[m
[32m+[m[32msudo apt-get purge -y *mozc*[m
[32m+[m[32msudo apt-get purge -y *rhythmbox* gir1.2-rb-3.0:amd64[m
[32m+[m[32msudo apt-get purge -y ubuntu-web-launchers[m
[32m+[m
[32m+[m[32m# Copy wifi credentials[m
[32m+[m[32mmkdir -p wifis[m
[32m+[m[32msudo cp /etc/NetworkManager/system-connections/* wifis/[m
[32m+[m[32msudo cp wifis/* /etc/NetworkManager/system-connections/[m
[32m+[m[32mecho "Restarting system network service"[m
[32m+[m[32msudo systemctl restart NetworkManager[m
[32m+[m
[32m+[m[32mecho "Waiting for internet connection to settle"[m
[32m+[m[32msleep 10[m
[32m+[m
[32m+[m[32mecho "Checking for internet connection"[m
[32m+[m[32mhttp_code=$(curl -LI httpbin.org/get -o /dev/null -w '%{http_code}\n' -s)[m
[32m+[m[32mif [[ "$http_code" != "200" ]]; then[m
[32m+[m[32m    echo "Please ensure internet connection is available and re-run the script"[m
[32m+[m[32m    exit 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Download apt installs if needed[m
[32m+[m[32m# TODO: Figure out how to download packages from a predefined list, instead of "latest". This list will be generated from "latest" at some point in time.[m
[32m+[m[32mif [ ! -d downloads/apt ]; then[m
[32m+[m[32m  mkdir downloads/apt[m
[32m+[m[32m  curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > downloads/microsoft.gpg[m
[32m+[m[32m  sudo apt-get -dy update[m
[32m+[m[32m  sudo apt-get -fdy install git default-jdk pkg-config zip g++ zlib1g-dev unzip python python3 curl apt-transport-https[m
[32m+[m[32m  sudo apt-get -dy update[m
[32m+[m[32m  wget -O downloads/gconf2-common_3.2.6-4ubuntu1_all.deb http://archive.ubuntu.com/ubuntu/pool/universe/g/gconf/gconf2-common_3.2.6-4ubuntu1_all.deb[m
[32m+[m[32m  wget -O downloads/libgconf-2-4_3.2.6-4ubuntu1_amd64.deb http://archive.ubuntu.com/ubuntu/pool/universe/g/gconf/libgconf-2-4_3.2.6-4ubuntu1_amd64.deb[m
[32m+[m[32m  sudo apt-get install -fdy code[m
[32m+[m[32m  sudo apt-get -dy upgrade[m
[32m+[m[32m  # TODO: Figure out how to cache the "apt-get update" to the downloads folder.[m
[32m+[m[32m  cp /var/cache/apt/archives/*.deb downloads/apt[m
[32m+[m[32mfi[m
[32m+[m[32msudo cp downloads/apt/*.deb /var/cache/apt/archives/[m
[32m+[m[32msudo apt-get install -y git default-jdk pkg-config zip g++ zlib1g-dev unzip python python3 curl apt-transport-https[m
[32m+[m[32msudo dpkg -i downloads/gconf2-common_3.2.6-4ubuntu1_all.deb downloads/libgconf-2-4_3.2.6-4ubuntu1_amd64.deb[m
[32m+[m[32msudo install -o root -g root -m 644 downloads/microsoft.gpg /etc/apt/trusted.gpg.d/[m
[32m+[m[32msudo sh -c 'echo "deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main" > /etc/apt/sources.list.d/vscode.list'[m
[32m+[m[32msudo apt-get -y update[m
[32m+[m[32msudo apt-get install -y code[m
[32m+[m[32msudo apt-get -y upgrade[m
[32m+[m
[32m+[m[32m# Install Chrome[m
[32m+[m[32mif [ ! -f downloads/chrome.deb ]; then[m
[32m+[m[32m  wget -O downloads/chrome.deb https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb[m
[32m+[m[32mfi[m
[32m+[m[32msudo dpkg -i downloads/chrome.deb[m
[32m+[m
[32m+[m[32m# Install Bazel[m
[32m+[m[32mif [ ! -f downloads/bazel.0.21.0.sh ]; then[m
[32m+[m[32m  wget -O downloads/bazel.0.21.0.sh https://github.com/bazelbuild/bazel/releases/download/0.21.0/bazel-0.21.0-installer-linux-x86_64.sh[m
[32m+[m[32m  chmod +x downloads/bazel.0.21.0.sh[m
[32m+[m[32mfi[m
[32m+[m[32msudo bash downloads/bazel.0.21.0.sh --user[m
[32m+[m
[32m+[m[32m# Install IntelliJ[m
[32m+[m[32mif [ ! -f downloads/idea.2018.3.3.tar.gz ]; then[m
[32m+[m[32m  wget -O downloads/idea.2018.3.3.tar.gz https://download.jetbrains.com/idea/ideaIC-2018.3.3.tar.gz[m
[32m+[m[32m  rm -rf opt/idea[m
[32m+[m[32m  mkdir -p opt/idea[m
[32m+[m[32m  tar xfz downloads/idea.2018.3.3.tar.gz -C opt/idea --strip 1[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Set up desktop defaults[m
[32m+[m[32mgsettings set org.gnome.shell favorite-apps "['google-chrome.desktop', 'code.desktop', 'org.gnome.Nautilus.desktop', 'org.gnome.gedit.desktop', 'org.gnome.Terminal.desktop']"[m
[32m+[m[32mgsettings set org.gnome.desktop.interface show-battery-percentage true[m
[32m+[m[32mgsettings set org.gnome.desktop.interface enable-animations false[m
[32m+[m[32mgsettings set org.gnome.gedit.preferences.editor auto-save true[m
[32m+[m[32mgsettings set org.gnome.gedit.preferences.editor display-line-numbers true[m
[32m+[m[32mgsettings set org.gnome.gedit.preferences.editor insert-spaces true[m
[32m+[m[32mgsettings set org.gnome.gedit.preferences.editor tabs-size 2[m
[32m+[m[32mgsettings set org.gnome.nautilus.preferences show-hidden-files true[m
[32m+[m[32mgsettings set org.gtk.Settings.FileChooser show-hidden true[m
[32m+[m[32mrm -rf ~/Public[m
[32m+[m[32mrm ~/examples.desktop[m
[32m+[m[32mrm ~/Desktop/ubiquity.desktop[m[41m [m
[32m+[m[32msudo touch ~/Templates/"Empty file.txt"[m
[32m+[m
[32m+[m[32m# Set up .bashrc:[m
[32m+[m[32mecho "source /media/$USER/data/dotfiles/.terminal" >> ~/.bashrc[m
[32m+[m[32m# FIXME: Why does it not add to PATH:[m
[32m+[m[32msource ~/.bashrc[m
[32m+[m
[32m+[m[32m# Set up StartupOS:[m
[32m+[m[32mgit clone https://github.com/google/startup-os.git downloads/startup-os[m
[32m+[m[32mcd downloads/startup-os[m
[32m+[m[32mbazel run //tools/reviewer/aa:aa_tool -- init --base_path /media/$USER/data/base[m
[32m+[m[32mcd /media/$USER/data/base/head/startup-os[m
[32m+[m[32m./test.sh[m
[32m+[m[32m# FIXME: Why does it not add to PATH:[m
[32m+[m[32msource ~/.bashrc[m
[32m+[m[32m# TODO: Add aa startserver to be explicit about doing just that action.[m
[32m+[m[32maa[m
[32m+[m[32mecho "Please sign-in at https://web-login-startupos.firebaseapp.com and then check that ~/.aa_token exists"[m
[32m+[m[32mcd /media/$USER/data[m
[32m+[m[32m# TODO: Figure out where Chrome, vscode and Idea store configs, to avoid first-use windows.[m
[32m+[m[32m# TODO: Install Bazel plugin in vscode and Idea[m
[32m+[m[32m# TODO: Add bazel caches to data (at bazel_cache/downloads and bazel_cache/builds)[m
[1mdiff --git a/tools/startup/user/ofer/dotfiles/.gitconfig b/tools/startup/user/ofer/dotfiles/.gitconfig[m
[1mnew file mode 100644[m
[1mindex 0000000..d82a19a[m
[1m--- /dev/null[m
[1m+++ b/tools/startup/user/ofer/dotfiles/.gitconfig[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m[user][m
[32m+[m	[32memail = greenofer@gmail.com[m
[32m+[m	[32mname = Ofer Bartal[m
[1mdiff --git a/tools/storyteller/ArrowButton.java b/tools/storyteller/ArrowButton.java[m
[1mnew file mode 100644[m
[1mindex 0000000..0ecb1c6[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/ArrowButton.java[m
[36m@@ -0,0 +1,99 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport java.awt.Color;[m
[32m+[m[32mimport java.awt.Dimension;[m
[32m+[m[32mimport java.awt.Graphics;[m
[32m+[m[32mimport javax.swing.JButton;[m
[32m+[m[32mimport javax.swing.SwingConstants;[m
[32m+[m
[32m+[m[32m/* Arrow button that customizes UI style for storyteller project drop down.*/[m
[32m+[m[32mpublic class ArrowButton extends JButton implements SwingConstants {[m
[32m+[m[32m  private Color separatorColor;[m
[32m+[m[32m  private Color arrowColor;[m
[32m+[m
[32m+[m[32m  /**[m
[32m+[m[32m   * Creates an {@code ArrowButton} as part of a ComboBox.[m
[32m+[m[32m   *[m
[32m+[m[32m   * @param background the background color of the button[m
[32m+[m[32m   * @param separatorColor the color of the left separator[m
[32m+[m[32m   * @param arrowColor the color of the arrow[m
[32m+[m[32m   */[m
[32m+[m[32m  public ArrowButton(Color background, Color separatorColor, Color arrowColor) {[m
[32m+[m[32m    super();[m
[32m+[m[32m    setRequestFocusEnabled(false);[m
[32m+[m[32m    setBackground(background);[m
[32m+[m[32m    this.separatorColor = separatorColor;[m
[32m+[m[32m    this.arrowColor = arrowColor;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void paint(Graphics g) {[m
[32m+[m[32m    final Color origColor = g.getColor();[m
[32m+[m[32m    final boolean isPressed = getModel().isPressed();[m
[32m+[m[32m    int w;[m
[32m+[m[32m    int h;[m
[32m+[m
[32m+[m[32m    w = getSize().width;[m
[32m+[m[32m    h = getSize().height;[m
[32m+[m
[32m+[m[32m    g.setColor(getBackground());[m
[32m+[m[32m    g.fillRect(1, 1, w - 2, h - 2);[m
[32m+[m
[32m+[m[32m    g.setColor(separatorColor);[m
[32m+[m[32m    g.drawLine(0, 0, 0, h - 1);[m
[32m+[m
[32m+[m[32m    // Draw the arrow[m
[32m+[m[32m    int size = Math.min((h - 4) / 3, (w - 4) / 3);[m
[32m+[m[32m    size = Math.max(size, 2);[m
[32m+[m[32m    if (isPressed) {[m
[32m+[m[32m      g.translate(1, 1);[m
[32m+[m[32m    }[m
[32m+[m[32m    paintTriangle(g, (w - size) / 2, (h - size) / 2, size);[m
[32m+[m[32m    if (isPressed) {[m
[32m+[m[32m      g.translate(-1, -1);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    g.setColor(origColor);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Dimension getPreferredSize() {[m
[32m+[m[32m    return new Dimension(16, 16);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Dimension getMinimumSize() {[m
[32m+[m[32m    return new Dimension(5, 5);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Dimension getMaximumSize() {[m
[32m+[m[32m    return new Dimension(Integer.MAX_VALUE, Integer.MAX_VALUE);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /**[m
[32m+[m[32m   * Paints a triangle.[m
[32m+[m[32m   *[m
[32m+[m[32m   * @param g the {@code Graphics} to draw to[m
[32m+[m[32m   * @param x the x coordinate[m
[32m+[m[32m   * @param y the y coordinate[m
[32m+[m[32m   * @param size the size of the triangle to draw[m
[32m+[m[32m   */[m
[32m+[m[32m  public void paintTriangle(Graphics g, int x, int y, int size) {[m
[32m+[m[32m    final Color oldColor = g.getColor();[m
[32m+[m[32m    int mid;[m
[32m+[m
[32m+[m[32m    size = Math.max(size, 2);[m
[32m+[m[32m    mid = (size / 2) - 1;[m
[32m+[m
[32m+[m[32m    g.translate(x, y);[m
[32m+[m[32m    g.setColor(arrowColor);[m
[32m+[m
[32m+[m[32m    int j = 0;[m
[32m+[m
[32m+[m[32m    for (int i = size - 1; i >= 0; i--) {[m
[32m+[m[32m      g.drawLine(mid - i, j, mid + i, j);[m
[32m+[m[32m      j++;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    g.translate(-x, -y);[m
[32m+[m[32m    g.setColor(oldColor);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/BUILD b/tools/storyteller/BUILD[m
[1mnew file mode 100644[m
[1mindex 0000000..e5de467[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/BUILD[m
[36m@@ -0,0 +1,155 @@[m
[32m+[m[32mpackage(default_visibility = ["//visibility:public"])[m
[32m+[m
[32m+[m[32mload("//third_party:java_grpc_library.bzl", "java_grpc_library")[m
[32m+[m[32mload("@startup_os//tools/checkstyle:checkstyle.bzl", "checkstyle_test")[m
[32m+[m
[32m+[m[32mproto_library([m
[32m+[m[32m    name = "storyteller_proto",[m
[32m+[m[32m    srcs = ["data.proto"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_proto_library([m
[32m+[m[32m    name = "storyteller_java_proto",[m
[32m+[m[32m    deps = [":storyteller_proto"],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "storyteller",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "ArrowButton.java",[m
[32m+[m[32m        "StoryReader.java",[m
[32m+[m[32m        "StoryWriter.java",[m
[32m+[m[32m        "Storyteller.java",[m
[32m+[m[32m        "StorytellerConfig.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        ":invoicer",[m
[32m+[m[32m        ":storyteller_java_proto",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger:flogger_system_backend",[m
[32m+[m[32m        "//third_party/maven/com/google/guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_core",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_netty",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "//third_party/maven/org/slf4j:slf4j_simple",[m
[32m+[m[32m        "@startup_os//common",[m
[32m+[m[32m        "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m        "@startup_os//common/firestore",[m
[32m+[m[32m        "@startup_os//common/flags",[m
[32m+[m[32m        "@startup_os//tools/reviewer/local_server/service:auth_service",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "storyteller-checkstyle",[m
[32m+[m[32m    target = ":storyteller",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_library([m
[32m+[m[32m    name = "invoicer",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "Invoicer.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        ":storyteller_java_proto",[m
[32m+[m[32m        "//third_party/maven/com/google/guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "//third_party/maven/commons_logging",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_core",[m
[32m+[m[32m        "//third_party/maven/io/grpc:grpc_netty",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "//third_party/maven/org/apache/pdfbox",[m
[32m+[m[32m        "//third_party/maven/org/apache/pdfbox:fontbox",[m
[32m+[m[32m        "@startup_os//common",[m
[32m+[m[32m        "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m        "@startup_os//common/flags",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "invoicer-checkstyle",[m
[32m+[m[32m    target = ":invoicer",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "storyteller_tool",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "StorytellerTool.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    main_class = "tools.storyteller.StorytellerTool",[m
[32m+[m[32m    deps = [[m
[32m+[m[32m        ":storyteller",[m
[32m+[m[32m        ":storyteller_java_proto",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger",[m
[32m+[m[32m        "//third_party/maven/com/google/flogger:flogger_system_backend",[m
[32m+[m[32m        "//third_party/maven/com/google/guava",[m
[32m+[m[32m        "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m        "//third_party/maven/io/netty:netty_tcnative_boringssl_static",[m
[32m+[m[32m        "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m        "//third_party/maven/org/slf4j:slf4j_simple",[m
[32m+[m[32m        "@startup_os//common",[m
[32m+[m[32m        "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m        "@startup_os//common/flags",[m
[32m+[m[32m        "@startup_os//tools/reviewer/aa:aa_module",[m
[32m+[m[32m        "@startup_os//tools/reviewer/local_server/service:auth_service",[m
[32m+[m[32m    ],[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "storyteller_tool-checkstyle",[m
[32m+[m[32m    target = ":storyteller_tool",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mSTORYTELLER_UI_TOOL_DEPS = [[m
[32m+[m[32m    ":storyteller",[m
[32m+[m[32m    ":storyteller_java_proto",[m
[32m+[m[32m    "//third_party/maven/com/google/guava:guava",[m
[32m+[m[32m    "//third_party/maven/com/google/protobuf:protobuf_java",[m
[32m+[m[32m    "@startup_os//common",[m
[32m+[m[32m    "@startup_os//common/flags",[m
[32m+[m[32m    "@startup_os//tools/reviewer/aa:aa_module",[m
[32m+[m[32m    "//third_party/maven/javax/inject:javax_inject",[m
[32m+[m[32m    "@startup_os//common:dagger_with_annotation_processor",[m
[32m+[m[32m    "@startup_os//tools/reviewer/local_server/service:auth_service",[m
[32m+[m[32m    "//third_party/maven/io/grpc:grpc_core",[m
[32m+[m[32m    "//third_party/maven/io/grpc:grpc_netty",[m
[32m+[m[32m    "//third_party/maven/io/netty:netty_tcnative_boringssl_static",[m
[32m+[m[32m][m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "storyteller_time_and_screenshot_ui_tool",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "StorytellerUiTool.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    args = ["time_and_screenshot"],[m
[32m+[m[32m    main_class = "tools.storyteller.StorytellerUiTool",[m
[32m+[m[32m    resources = glob(["res/*"]),[m
[32m+[m[32m    deps = STORYTELLER_UI_TOOL_DEPS,[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "storyteller_time_and_screenshot_ui_tool-checkstyle",[m
[32m+[m[32m    target = ":storyteller_time_and_screenshot_ui_tool",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mjava_binary([m
[32m+[m[32m    name = "storyteller_screenshot_ui_tool",[m
[32m+[m[32m    srcs = [[m
[32m+[m[32m        "StorytellerUiTool.java",[m
[32m+[m[32m    ],[m
[32m+[m[32m    args = ["screenshot_only"],[m
[32m+[m[32m    main_class = "tools.storyteller.StorytellerUiTool",[m
[32m+[m[32m    resources = glob(["res/*"]),[m
[32m+[m[32m    deps = STORYTELLER_UI_TOOL_DEPS,[m
[32m+[m[32m)[m
[32m+[m
[32m+[m[32mcheckstyle_test([m
[32m+[m[32m    name = "storyteller_screenshot_ui_tool-checkstyle",[m
[32m+[m[32m    target = ":storyteller_screenshot_ui_tool",[m
[32m+[m[32m    config = "//tools/checkstyle:config.xml",[m
[32m+[m[32m)[m
\ No newline at end of file[m
[1mdiff --git a/tools/storyteller/Invoicer.java b/tools/storyteller/Invoicer.java[m
[1mnew file mode 100644[m
[1mindex 0000000..84a277f[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/Invoicer.java[m
[36m@@ -0,0 +1,370 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.base.Strings;[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport com.google.startupos.common.Time;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.Arrays;[m
[32m+[m[32mimport java.util.LinkedHashMap;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.Map;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.PDDocument;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.PDPage;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.PDPageContentStream;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.common.PDRectangle;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.font.PDFont;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.font.PDType1Font;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.graphics.color.PDColor;[m
[32m+[m[32mimport org.apache.pdfbox.pdmodel.graphics.color.PDDeviceRGB;[m
[32m+[m[32mimport tools.storyteller.Protos.InvoiceCreator;[m
[32m+[m[32mimport tools.storyteller.Protos.InvoiceItem;[m
[32m+[m[32mimport tools.storyteller.Protos.InvoiceItemList;[m
[32m+[m[32mimport tools.storyteller.Protos.InvoiceReceiver;[m
[32m+[m[32mimport tools.storyteller.Protos.Story;[m
[32m+[m
[32m+[m[32m/* Invoicer - a class that generates invoice PDFs.[m
[32m+[m[32m *[m
[32m+[m[32m * Usage:[m
[32m+[m[32m * Invoicer.saveInvoice(...)[m
[32m+[m[32m */[m
[32m+[m[32mpublic class Invoicer {[m
[32m+[m[32m  private static PDFont FONT = PDType1Font.HELVETICA;[m
[32m+[m[32m  private static PDFont BOLD_FONT = PDType1Font.HELVETICA_BOLD;[m
[32m+[m[32m  private static PDPage PAGE = new PDPage(PDRectangle.A4);[m
[32m+[m[32m  private static int MAX_X = (int) PAGE.getArtBox().getWidth();[m
[32m+[m[32m  private static int MAX_Y = (int) PAGE.getArtBox().getHeight();[m
[32m+[m[32m  private static int TOP = 30;[m
[32m+[m[32m  private static int LEFT = 40;[m
[32m+[m
[32m+[m[32m  private static int SMALL_SIZE = 10;[m
[32m+[m[32m  private static int NORMAL_SIZE = 11;[m
[32m+[m[32m  private static int LARGE_SIZE = 14;[m
[32m+[m[32m  private static boolean BOLD = true;[m
[32m+[m[32m  private static boolean NOT_BOLD = false;[m
[32m+[m[32m  private static PDColor DEFAULT_COLOR = null;[m
[32m+[m[32m  private static PDColor BLACK = getColor(0);[m
[32m+[m[32m  private static PDColor WHITE = getColor(255);[m
[32m+[m[32m  private static PDColor GRAY = getColor(150);[m
[32m+[m[32m  private static PDColor LIGHT_GRAY = getColor(220);[m
[32m+[m[32m  private static PDColor DARK_GRAY = getColor(120);[m
[32m+[m[32m  private static PDColor GREEN = getColor(77, 173, 86);[m
[32m+[m
[32m+[m[32m  private PDDocument document;[m
[32m+[m[32m  private PDPageContentStream content;[m
[32m+[m[32m  private PDColor defaultColor;[m
[32m+[m
[32m+[m[32m  private InvoiceCreator creator;[m
[32m+[m[32m  private InvoiceReceiver receiver;[m
[32m+[m[32m  private InvoiceItemList items;[m
[32m+[m[32m  private long invoiceNumber;[m
[32m+[m[32m  private long timeOfIssueMs;[m
[32m+[m
[32m+[m[32m  @Inject FileUtils fileUtils;[m
[32m+[m
[32m+[m[32m  private Invoicer([m
[32m+[m[32m      InvoiceCreator creator,[m
[32m+[m[32m      InvoiceReceiver receiver,[m
[32m+[m[32m      InvoiceItemList items,[m
[32m+[m[32m      long invoiceNumber,[m
[32m+[m[32m      long timeOfIssueMs) {[m
[32m+[m[32m    document = new PDDocument();[m
[32m+[m[32m    document.addPage(PAGE);[m
[32m+[m[32m    this.creator = creator;[m
[32m+[m[32m    this.receiver = receiver;[m
[32m+[m[32m    this.items = items;[m
[32m+[m[32m    this.invoiceNumber = invoiceNumber;[m
[32m+[m[32m    this.timeOfIssueMs = timeOfIssueMs;[m
[32m+[m[32m    defaultColor = BLACK;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void saveInvoice([m
[32m+[m[32m      String path,[m
[32m+[m[32m      InvoiceCreator creator,[m
[32m+[m[32m      InvoiceReceiver receiver,[m
[32m+[m[32m      ImmutableList<Story> stories,[m
[32m+[m[32m      long startTimeMs,[m
[32m+[m[32m      long endTimeMs,[m
[32m+[m[32m      long invoiceNumber,[m
[32m+[m[32m      long timeOfIssueMs)[m
[32m+[m[32m      throws IOException {[m
[32m+[m[32m    InvoiceItemList items =[m
[32m+[m[32m        getInvoiceItems(stories, startTimeMs, endTimeMs, creator.getHourlyRateUsd());[m
[32m+[m[32m    Invoicer invoicer = new Invoicer(creator, receiver, items, invoiceNumber, timeOfIssueMs);[m
[32m+[m[32m    invoicer.renderInvoice();[m
[32m+[m[32m    invoicer.saveInvoice(path);[m
[32m+[m[32m    invoicer.close();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void saveInvoice(String path) throws IOException {[m
[32m+[m[32m    fileUtils.mkdirs(path);[m
[32m+[m[32m    document.save(path);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void close() throws IOException {[m
[32m+[m[32m    document.close();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void renderInvoice() throws IOException {[m
[32m+[m[32m    content = new PDPageContentStream(document, PAGE);[m
[32m+[m[32m    addHeader();[m
[32m+[m[32m    addHorizontalLine(285, 2, GREEN);[m
[32m+[m[32m    addTable();[m
[32m+[m[32m    addFooter();[m
[32m+[m[32m    content.close();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void addHeader() throws IOException {[m
[32m+[m[32m    int lineLength = 16;[m
[32m+[m[32m    addRect(0, 0, MAX_X, 103);[m
[32m+[m[32m    setDefaultColor(WHITE);[m
[32m+[m[32m    write("INVOICE", LEFT, TOP + 25, NOT_BOLD, 40, DEFAULT_COLOR);[m
[32m+[m
[32m+[m[32m    List<String> texts =[m
[32m+[m[32m        new ArrayList<>(Arrays.asList(creator.getName(), creator.getEmail(), creator.getWebsite()));[m
[32m+[m[32m    texts.removeIf(str -> Strings.nullToEmpty(str).trim().isEmpty());[m
[32m+[m[32m    write(ImmutableList.copyOf(texts), LEFT + 270, TOP);[m
[32m+[m
[32m+[m[32m    texts =[m
[32m+[m[32m        new ArrayList<>([m
[32m+[m[32m            Arrays.asList([m
[32m+[m[32m                creator.getPhoneNumber(),[m
[32m+[m[32m                creator.getStreetAndNumber(),[m
[32m+[m[32m                creator.getCityStateCountry(),[m
[32m+[m[32m                creator.getZipCode()));[m
[32m+[m[32m    texts.removeIf(str -> Strings.nullToEmpty(str).trim().isEmpty());[m
[32m+[m[32m    write(ImmutableList.copyOf(texts), LEFT + 430, TOP);[m
[32m+[m
[32m+[m[32m    setDefaultColor(BLACK);[m
[32m+[m
[32m+[m[32m    int billedToY = TOP + 115;[m
[32m+[m[32m    int dateOfIssueY = billedToY + 40;[m
[32m+[m[32m    final int invoicePeriodY = dateOfIssueY + 40;[m
[32m+[m[32m    write("Billed To", LEFT, billedToY, BOLD, SMALL_SIZE, GRAY);[m
[32m+[m[32m    write("Invoice Number", LEFT + 200, billedToY, BOLD, SMALL_SIZE, GRAY);[m
[32m+[m[32m    write("Date Of Issue", LEFT + 200, dateOfIssueY, BOLD, SMALL_SIZE, GRAY);[m
[32m+[m[32m    write("Invoice period", LEFT + 200, invoicePeriodY, BOLD, SMALL_SIZE, GRAY);[m
[32m+[m[32m    write("Invoice total", MAX_X - LEFT, billedToY, BOLD, SMALL_SIZE, GRAY, true);[m
[32m+[m
[32m+[m[32m    texts =[m
[32m+[m[32m        new ArrayList<>([m
[32m+[m[32m            Arrays.asList([m
[32m+[m[32m                receiver.getName(), receiver.getStreetAndNumber(), receiver.getCityStateCountry()));[m
[32m+[m[32m    texts.removeIf(str -> Strings.nullToEmpty(str).trim().isEmpty());[m
[32m+[m[32m    write(ImmutableList.copyOf(texts), LEFT + 2, TOP + 135, NOT_BOLD, SMALL_SIZE, BLACK, false);[m
[32m+[m[32m    write([m
[32m+[m[32m        String.valueOf(invoiceNumber), LEFT + 200 + 2, billedToY + 20, NOT_BOLD, SMALL_SIZE, BLACK);[m
[32m+[m[32m    write(getDate(timeOfIssueMs), LEFT + 200 + 2, dateOfIssueY + 20, NOT_BOLD, SMALL_SIZE, BLACK);[m
[32m+[m[32m    write([m
[32m+[m[32m        getDate(items.getStartTimeMs()) + " - " + getDate(items.getEndTimeMs()),[m
[32m+[m[32m        LEFT + 200 + 2,[m
[32m+[m[32m        invoicePeriodY + 20,[m
[32m+[m[32m        NOT_BOLD,[m
[32m+[m[32m        SMALL_SIZE,[m
[32m+[m[32m        BLACK);[m
[32m+[m
[32m+[m[32m    write("$" + items.getTotal(), MAX_X - LEFT, TOP + 150, NOT_BOLD, 32, GREEN, true);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  String getDate(long timeMs) {[m
[32m+[m[32m    return Time.format("d MMM y", timeMs);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void write(ImmutableList<String> texts, int x, int y) throws IOException {[m
[32m+[m[32m    write(texts, x, y, NOT_BOLD, NORMAL_SIZE, DEFAULT_COLOR, false);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void write(String text, int x, int y, boolean bold, int fontSize, PDColor color)[m
[32m+[m[32m      throws IOException {[m
[32m+[m[32m    write(ImmutableList.of(text), x, y, bold, fontSize, color, false);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void write([m
[32m+[m[32m      String text, int x, int y, boolean bold, int fontSize, PDColor color, boolean rightAlign)[m
[32m+[m[32m      throws IOException {[m
[32m+[m[32m    write(ImmutableList.of(text), x, y, bold, fontSize, color, rightAlign);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void write([m
[32m+[m[32m      ImmutableList<String> texts,[m
[32m+[m[32m      int x,[m
[32m+[m[32m      int y,[m
[32m+[m[32m      boolean bold,[m
[32m+[m[32m      int fontSize,[m
[32m+[m[32m      PDColor color,[m
[32m+[m[32m      boolean rightAlign)[m
[32m+[m[32m      throws IOException {[m
[32m+[m[32m    final PDColor currentDefaultColor = defaultColor;[m
[32m+[m[32m    PDFont font = bold ? BOLD_FONT : FONT;[m
[32m+[m[32m    if (color != null) {[m
[32m+[m[32m      setDefaultColor(color);[m
[32m+[m[32m    }[m
[32m+[m[32m    content.beginText();[m
[32m+[m[32m    content.setFont(font, fontSize);[m
[32m+[m[32m    content.newLineAtOffset(x, MAX_Y - y);[m
[32m+[m[32m    for (String text : texts) {[m
[32m+[m[32m      if (rightAlign) {[m
[32m+[m[32m        final float text_width = (font.getStringWidth(text) / 1000.0f) * fontSize;[m
[32m+[m[32m        content.moveTextPositionByAmount(-text_width, 0);[m
[32m+[m[32m        content.showText(text);[m
[32m+[m[32m        content.moveTextPositionByAmount(text_width, 0);[m
[32m+[m[32m      } else {[m
[32m+[m[32m        content.showText(text);[m
[32m+[m[32m      }[m
[32m+[m[32m      content.newLineAtOffset(0, -18);[m
[32m+[m[32m    }[m
[32m+[m[32m    content.endText();[m
[32m+[m[32m    setDefaultColor(currentDefaultColor);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void addRect(int x, int y, int width, int height) throws IOException {[m
[32m+[m[32m    final PDColor currentDefaultColor = defaultColor;[m
[32m+[m[32m    setDefaultColor(GREEN);[m
[32m+[m[32m    content.addRect(x, MAX_Y - y - height, width, height);[m
[32m+[m[32m    content.fill();[m
[32m+[m[32m    content.setNonStrokingColor(BLACK);[m
[32m+[m[32m    setDefaultColor(currentDefaultColor);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addHorizontalLine(int y, double width, PDColor color) throws IOException {[m
[32m+[m[32m    content.setLineWidth((float) width);[m
[32m+[m[32m    content.setStrokingColor(color);[m
[32m+[m[32m    content.moveTo(LEFT - 3, MAX_Y - y);[m
[32m+[m[32m    content.lineTo(MAX_X - LEFT + 3, MAX_Y - y);[m
[32m+[m[32m    content.stroke();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void addTable() throws IOException {[m
[32m+[m[32m    final int col1x = LEFT;[m
[32m+[m[32m    final int col2x = LEFT + 300;[m
[32m+[m[32m    final int col3x = LEFT + 415;[m
[32m+[m[32m    final int col4x = LEFT + 513;[m
[32m+[m[32m    final int summaryX = LEFT + 440;[m
[32m+[m[32m    int top = TOP + 280;[m
[32m+[m[32m    // Add table headers[m
[32m+[m[32m    write("Description", col1x, top, BOLD, NORMAL_SIZE, GREEN);[m
[32m+[m[32m    write("Time", col2x, top, BOLD, NORMAL_SIZE, GREEN, true);[m
[32m+[m[32m    write("Hourly rate", col3x, top, BOLD, NORMAL_SIZE, GREEN, true);[m
[32m+[m[32m    write("Amount", col4x, top, BOLD, NORMAL_SIZE, GREEN, true);[m
[32m+[m
[32m+[m[32m    // Add table[m
[32m+[m[32m    int posY = top + 25;[m
[32m+[m[32m    for (InvoiceItem item : items.getItemList()) {[m
[32m+[m[32m      write(item.getTitle(), col1x, posY, NOT_BOLD, NORMAL_SIZE, BLACK);[m
[32m+[m[32m      write(item.getDescription(), col1x, posY + 15, NOT_BOLD, 8, DARK_GRAY);[m
[32m+[m[32m      write([m
[32m+[m[32m          Time.getHourMinuteDurationString(item.getTimeWorkedMs()),[m
[32m+[m[32m          col2x,[m
[32m+[m[32m          posY,[m
[32m+[m[32m          NOT_BOLD,[m
[32m+[m[32m          NORMAL_SIZE,[m
[32m+[m[32m          BLACK,[m
[32m+[m[32m          true);[m
[32m+[m[32m      write("$" + item.getHourlyRate(), col3x, posY, NOT_BOLD, NORMAL_SIZE, BLACK, true);[m
[32m+[m[32m      write([m
[32m+[m[32m          String.format("$%.2f", item.getDollarAmount()),[m
[32m+[m[32m          col4x,[m
[32m+[m[32m          posY,[m
[32m+[m[32m          NOT_BOLD,[m
[32m+[m[32m          NORMAL_SIZE,[m
[32m+[m[32m          BLACK,[m
[32m+[m[32m          true);[m
[32m+[m[32m      addHorizontalLine(posY + 25, 0.6, LIGHT_GRAY);[m
[32m+[m[32m      posY += 45;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Add table summary[m
[32m+[m[32m    double roundUp = roundToCent(items.getTotal() - items.getSubtotal());[m
[32m+[m[32m    ImmutableList summaryLabels =[m
[32m+[m[32m        ImmutableList.of("Subtotal", "Rounding up", "Total", "", "Amount Due (USD)");[m
[32m+[m[32m    ImmutableList summaryValues =[m
[32m+[m[32m        ImmutableList.of([m
[32m+[m[32m            "$" + roundToCent(items.getSubtotal()),[m
[32m+[m[32m            "$" + roundUp,[m
[32m+[m[32m            "$" + roundToCent(items.getTotal()),[m
[32m+[m[32m            "",[m
[32m+[m[32m            "$" + roundToCent(items.getTotal()));[m
[32m+[m[32m    if (roundUp == 0) {[m
[32m+[m[32m      summaryLabels = ImmutableList.of("Total", "", "Amount Due (USD)");[m
[32m+[m[32m      summaryValues = ImmutableList.of("$" + items.getTotal(), "", "$" + items.getTotal());[m
[32m+[m[32m    }[m
[32m+[m[32m    posY += 30;[m
[32m+[m[32m    write(summaryLabels, summaryX, posY, BOLD, NORMAL_SIZE, GREEN, true);[m
[32m+[m[32m    write(summaryValues, col4x, posY, NOT_BOLD, NORMAL_SIZE, BLACK, true);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void addFooter() throws IOException {[m
[32m+[m[32m    String text = creator.getTagline();[m
[32m+[m[32m    if (!Strings.isNullOrEmpty(text)) {[m
[32m+[m[32m      int fontSize = 14;[m
[32m+[m[32m      final float text_width = (BOLD_FONT.getStringWidth(text) / 1000.0f) * fontSize;[m
[32m+[m[32m      write(text, (int) ((MAX_X + text_width) / 2), MAX_Y - 40, BOLD, fontSize, GRAY, true);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void setDefaultColor(PDColor color) throws IOException {[m
[32m+[m[32m    defaultColor = color;[m
[32m+[m[32m    content.setNonStrokingColor(color);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  static PDColor getColor(int r, int g, int b) {[m
[32m+[m[32m    float[] components = new float[] {r / 255f, g / 255f, b / 255f};[m
[32m+[m[32m    return new PDColor(components, PDDeviceRGB.INSTANCE);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  static PDColor getColor(int grayscale) {[m
[32m+[m[32m    float[] components = new float[] {grayscale / 255f, grayscale / 255f, grayscale / 255f};[m
[32m+[m[32m    return new PDColor(components, PDDeviceRGB.INSTANCE);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static InvoiceItemList getInvoiceItems([m
[32m+[m[32m      ImmutableList<Story> stories, long startTimeMs, long endTimeMs, double hourlyRate) {[m
[32m+[m[32m    InvoiceItemList.Builder result = InvoiceItemList.newBuilder();[m
[32m+[m[32m    result.setStartTimeMs(startTimeMs);[m
[32m+[m[32m    result.setEndTimeMs(endTimeMs);[m
[32m+[m
[32m+[m[32m    // Sum time worked per project[m
[32m+[m[32m    Map<String, Long> map = new LinkedHashMap<>();[m
[32m+[m[32m    for (Story story : stories) {[m
[32m+[m[32m      String project = story.getProject();[m
[32m+[m[32m      long previousTimeMs = map.containsKey(project) ? map.get(project) : 0;[m
[32m+[m[32m      long timeDeltaMs = story.getEndTimeMs() - story.getStartTimeMs();[m
[32m+[m[32m      map.put(project, previousTimeMs + timeDeltaMs);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Create invoice items[m
[32m+[m[32m    double subtotal = 0;[m
[32m+[m[32m    for (Map.Entry<String, Long> item : map.entrySet()) {[m
[32m+[m[32m      // TODO: Wrap guava Strings so we can use both[m
[32m+[m[32m      String project = com.google.startupos.common.Strings.capitalize(item.getKey()) + " project";[m
[32m+[m[32m      double perMinuteRate = hourlyRate / 60;[m
[32m+[m[32m      double timeWorkedMinutes = item.getValue() / (1000 * 60);[m
[32m+[m[32m      double dollarAmount = timeWorkedMinutes * perMinuteRate;[m
[32m+[m[32m      dollarAmount = roundToCent(dollarAmount);[m
[32m+[m[32m      subtotal += dollarAmount;[m
[32m+[m[32m      result.addItem([m
[32m+[m[32m          InvoiceItem.newBuilder()[m
[32m+[m[32m              .setTitle(project)[m
[32m+[m[32m              .setDescription("Software design, development and testing")[m
[32m+[m[32m              .setTimeWorkedMs(item.getValue())[m
[32m+[m[32m              .setHourlyRate(hourlyRate)[m
[32m+[m[32m              .setDollarAmount(dollarAmount)[m
[32m+[m[32m              .build());[m
[32m+[m[32m    }[m
[32m+[m[32m    double total = roundToDollar(subtotal);[m
[32m+[m[32m    result.setSubtotal(subtotal);[m
[32m+[m[32m    result.setTotal(total);[m
[32m+[m[32m    return result.build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  static double roundToDollar(double value) {[m
[32m+[m[32m    return Math.ceil(value * 1) / 1.0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  static double roundToCent(double value) {[m
[32m+[m[32m    return Math.ceil(value * 100) / 100.0;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/StoryReader.java b/tools/storyteller/StoryReader.java[m
[1mnew file mode 100644[m
[1mindex 0000000..7622df2[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/StoryReader.java[m
[36m@@ -0,0 +1,117 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.protobuf.ByteString;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport java.io.File;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Files;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.stream.Collectors;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m[32mimport tools.storyteller.Protos.Screenshot;[m
[32m+[m[32mimport tools.storyteller.Protos.Story;[m
[32m+[m[32mimport tools.storyteller.Protos.StoryList;[m
[32m+[m
[32m+[m[32m/* Storyteller reader that reads story files into a Story proto. */[m
[32m+[m[32m@Singleton[m
[32m+[m[32mpublic class StoryReader {[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  // Maximum size for a document in Firestore is 1,048,576 bytes.[m
[32m+[m[32m  // We reserve 10,240 bytes for other fields.[m
[32m+[m[32m  private static final int MAX_SCREENSHOT_SIZE_BYTES = 1038336;[m
[32m+[m
[32m+[m[32m  private FileUtils fileUtils;[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  public StoryReader(FileUtils fileUtils) {[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  ImmutableList<Story> getUnsharedStories(String absPath) {[m
[32m+[m[32m    return getStories(absPath, StoriesState.UNSHARED);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  ImmutableList<Story> getSharedStories(String absPath) {[m
[32m+[m[32m    return getStories(absPath, StoriesState.SHARED);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private ImmutableList<Story> getStories(String absPath, StoriesState state) {[m
[32m+[m[32m    StoryList.Builder storiesBuilder = StoryList.newBuilder();[m
[32m+[m[32m    List<String> absFilenames = new ArrayList<>();[m
[32m+[m[32m    if (state == StoriesState.UNSHARED) {[m
[32m+[m[32m      String storiesAbsPath = fileUtils.joinPaths(absPath, StorytellerConfig.STORIES_FILENAME);[m
[32m+[m[32m      if (fileUtils.fileExists(storiesAbsPath)) {[m
[32m+[m[32m        absFilenames.add(storiesAbsPath);[m
[32m+[m[32m      }[m
[32m+[m[32m    } else {[m
[32m+[m[32m      absFilenames = getAbsFilenamesFromFolderByExtension(absPath, "prototxt");[m
[32m+[m[32m    }[m
[32m+[m[32m    if (absFilenames.isEmpty()) {[m
[32m+[m[32m      return ImmutableList.of();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      absFilenames.forEach([m
[32m+[m[32m          path ->[m
[32m+[m[32m              storiesBuilder.addAllStory([m
[32m+[m[32m                  ((StoryList) fileUtils.readPrototxtUnchecked(path, StoryList.newBuilder()))[m
[32m+[m[32m                      .getStoryList()));[m
[32m+[m[32m      return ImmutableList.copyOf(storiesBuilder.build().getStoryList());[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public ImmutableList<Screenshot> getScreenshots(String absPath) {[m
[32m+[m[32m    ImmutableList.Builder<Screenshot> result = ImmutableList.builder();[m
[32m+[m[32m    for (String absFilename : getAbsFilenamesFromFolderByExtension(absPath, "jpg")) {[m
[32m+[m[32m      result.add(getScreenshot(absFilename));[m
[32m+[m[32m    }[m
[32m+[m[32m    return result.build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private Screenshot getScreenshot(String absFilename) {[m
[32m+[m[32m    Screenshot.Builder screenBuilder = Screenshot.newBuilder();[m
[32m+[m[32m    File file = fileUtils.getFile(absFilename);[m
[32m+[m[32m    long fileSize = file.length();[m
[32m+[m[32m    if (fileSize < MAX_SCREENSHOT_SIZE_BYTES) {[m
[32m+[m[32m      try {[m
[32m+[m[32m        screenBuilder[m
[32m+[m[32m            .setFilename(Paths.get(absFilename).getFileName().toString())[m
[32m+[m[32m            .setScreenshot(ByteString.copyFrom(Files.readAllBytes(file.toPath())));[m
[32m+[m[32m      } catch (IOException e) {[m
[32m+[m[32m        throw new RuntimeException(e);[m
[32m+[m[32m      }[m
[32m+[m[32m    } else {[m
[32m+[m[32m      log.atSevere().log([m
[32m+[m[32m          "Screenshot size is %d bytes, %d bytes larger than maximum size. Path: %s",[m
[32m+[m[32m          fileSize, fileSize - MAX_SCREENSHOT_SIZE_BYTES, absFilename);[m
[32m+[m[32m    }[m
[32m+[m[32m    return screenBuilder.build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private ImmutableList<String> getAbsFilenamesFromFolderByExtension([m
[32m+[m[32m      String absPath, String extension) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      return ImmutableList.copyOf([m
[32m+[m[32m          fileUtils[m
[32m+[m[32m              .listContents(absPath)[m
[32m+[m[32m              .stream()[m
[32m+[m[32m              .filter(file -> file.endsWith("." + extension))[m
[32m+[m[32m              .sorted()[m
[32m+[m[32m              .map(filename -> fileUtils.joinPaths(absPath, filename))[m
[32m+[m[32m              .collect(Collectors.toList()));[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException([m
[32m+[m[32m          String.format([m
[32m+[m[32m              "Can't read the files with %s extension properly by path: %s", extension, absPath));[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private enum StoriesState {[m
[32m+[m[32m    SHARED,[m
[32m+[m[32m    UNSHARED[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/StoryWriter.java b/tools/storyteller/StoryWriter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..b277ca9[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/StoryWriter.java[m
[36m@@ -0,0 +1,151 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.local_server.service.AuthService;[m
[32m+[m[32mimport java.awt.AWTException;[m
[32m+[m[32mimport java.awt.Rectangle;[m
[32m+[m[32mimport java.awt.Robot;[m
[32m+[m[32mimport java.awt.Toolkit;[m
[32m+[m[32mimport java.awt.image.BufferedImage;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m[32mimport java.text.DateFormat;[m
[32m+[m[32mimport java.text.SimpleDateFormat;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.Date;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.UUID;[m
[32m+[m[32mimport javax.imageio.ImageIO;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m[32mimport tools.storyteller.Protos.Config;[m
[32m+[m[32mimport tools.storyteller.Protos.Story;[m
[32m+[m[32mimport tools.storyteller.Protos.StoryItem;[m
[32m+[m[32mimport tools.storyteller.Protos.StoryList;[m
[32m+[m
[32m+[m[32m/* Storyteller writer that writes story files. */[m
[32m+[m[32m@Singleton[m
[32m+[m[32mpublic class StoryWriter {[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  private static final DateFormat DATE_FORMATTER = new SimpleDateFormat("yyyy-MM-dd_HH:mm:ss_z");[m
[32m+[m
[32m+[m[32m  private final Config config;[m
[32m+[m[32m  private final FileUtils fileUtils;[m
[32m+[m[32m  // User's email[m
[32m+[m[32m  private final String author;[m
[32m+[m[32m  private Story.Builder currentStoryBuilder;[m
[32m+[m[32m  private List<Story> allStories;[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  public StoryWriter([m
[32m+[m[32m      StorytellerConfig storytellerConfig,[m
[32m+[m[32m      FileUtils fileUtils,[m
[32m+[m[32m      StoryReader reader,[m
[32m+[m[32m      AuthService authService) {[m
[32m+[m[32m    this.config = storytellerConfig.getConfig();[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m    this.allStories = new ArrayList<>(reader.getUnsharedStories(getAbsUnsharedStoriesFolderPath()));[m
[32m+[m[32m    author = authService.getUserEmail();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void startStory(String project) {[m
[32m+[m[32m    currentStoryBuilder = Story.newBuilder();[m
[32m+[m[32m    currentStoryBuilder[m
[32m+[m[32m        .setId(generateId())[m
[32m+[m[32m        .setStartTimeMs(getCurrentTimestamp())[m
[32m+[m[32m        .setProject(project)[m
[32m+[m[32m        .setAuthor(author);[m
[32m+[m[32m    allStories.add(currentStoryBuilder.build());[m
[32m+[m[32m    saveStories();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void updateStory(String project) {[m
[32m+[m[32m    if (currentStoryBuilder == null) {[m
[32m+[m[32m      throw new IllegalStateException("'currentStoryBuilder' is not initialized");[m
[32m+[m[32m    }[m
[32m+[m[32m    updateCurrentStory(project);[m
[32m+[m[32m    saveStories();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void endStory(String project) {[m
[32m+[m[32m    if (currentStoryBuilder == null) {[m
[32m+[m[32m      throw new IllegalStateException("'currentStoryBuilder' is not initialized");[m
[32m+[m[32m    }[m
[32m+[m[32m    updateCurrentStory(project);[m
[32m+[m[32m    saveStories();[m
[32m+[m[32m    currentStoryBuilder = Story.newBuilder();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void saveStoryItem(String project, String story) {[m
[32m+[m[32m    // Replace empty with one space, so that the prototxt will have the entry[m
[32m+[m[32m    story = story.isEmpty() ? " " : story;[m
[32m+[m[32m    String filename = saveScreenshot();[m
[32m+[m[32m    StoryItem storyItem =[m
[32m+[m[32m        StoryItem.newBuilder()[m
[32m+[m[32m            .setId(generateId())[m
[32m+[m[32m            .setTimeMs(getCurrentTimestamp())[m
[32m+[m[32m            .setOneliner(story)[m
[32m+[m[32m            .setScreenshotFilename(filename)[m
[32m+[m[32m            .build();[m
[32m+[m[32m    currentStoryBuilder.setProject(project).setEndTimeMs(getCurrentTimestamp()).addItem(storyItem);[m
[32m+[m[32m    allStories.set(allStories.size() - 1, currentStoryBuilder.build());[m
[32m+[m[32m    saveStories();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Returns filename of a saved screenshot[m
[32m+[m[32m  String saveScreenshot() {[m
[32m+[m[32m    fileUtils.mkdirs(getAbsUnsharedStoriesFolderPath());[m
[32m+[m[32m    Rectangle rectangle = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());[m
[32m+[m[32m    String filename = getCurrentTimeString() + ".jpg";[m
[32m+[m[32m    try {[m
[32m+[m[32m      Robot robot = new Robot();[m
[32m+[m[32m      BufferedImage screenshot = robot.createScreenCapture(rectangle);[m
[32m+[m[32m      ImageIO.write([m
[32m+[m[32m          screenshot, "jpg", Paths.get(getAbsUnsharedStoriesFolderPath(), filename).toFile());[m
[32m+[m[32m    } catch (AWTException | IOException e) {[m
[32m+[m[32m      log.atSevere().withCause(e).log("Error in saving screenshot");[m
[32m+[m[32m    }[m
[32m+[m[32m    return filename;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  void saveSharedStories(StoryList stories) throws IOException {[m
[32m+[m[32m    final String absPath = Storyteller.getSharedStoriesAbsPath(config);[m
[32m+[m[32m    fileUtils.copyDirectoryToDirectory([m
[32m+[m[32m        getAbsUnsharedStoriesFolderPath(), absPath, StorytellerConfig.STORIES_FILENAME);[m
[32m+[m[32m    fileUtils.writePrototxt([m
[32m+[m[32m        stories, fileUtils.joinPaths(absPath, getCurrentTimeString() + ".prototxt"));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void updateCurrentStory(String project) {[m
[32m+[m[32m    currentStoryBuilder.setEndTimeMs(getCurrentTimestamp()).setProject(project);[m
[32m+[m[32m    allStories.set(allStories.size() - 1, currentStoryBuilder.build());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void saveStories() {[m
[32m+[m[32m    fileUtils.writePrototxtUnchecked([m
[32m+[m[32m        StoryList.newBuilder().addAllStory(allStories).build(),[m
[32m+[m[32m        fileUtils.joinPaths(getAbsUnsharedStoriesFolderPath(), StorytellerConfig.STORIES_FILENAME));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private long getCurrentTimestamp() {[m
[32m+[m[32m    return System.currentTimeMillis();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String getCurrentTimeString() {[m
[32m+[m[32m    return DATE_FORMATTER.format(new Date(System.currentTimeMillis()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String getAbsUnsharedStoriesFolderPath() {[m
[32m+[m[32m    return Storyteller.getUnsharedStoriesAbsPath(config);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Returns the first element of UUID.[m
[32m+[m[32m   * UUID represents a 128-bit long value that is unique.[m
[32m+[m[32m   * It is represented in 32 Hexadecimal characters separated by 4 dashes.[m
[32m+[m[32m   */[m
[32m+[m[32m  private String generateId() {[m
[32m+[m[32m    return getCurrentTimestamp() + "_" + UUID.randomUUID().toString().split("-")[0];[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/Storyteller.java b/tools/storyteller/Storyteller.java[m
[1mnew file mode 100644[m
[1mindex 0000000..8bc36ac[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/Storyteller.java[m
[36m@@ -0,0 +1,251 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.collect.Iterables;[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport com.google.startupos.common.StringBuilder;[m
[32m+[m[32mimport com.google.startupos.common.Strings;[m
[32m+[m[32mimport com.google.startupos.common.Time;[m
[32m+[m[32mimport com.google.startupos.common.firestore.FirestoreProtoClient;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.local_server.service.AuthService;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.nio.file.Paths;[m
[32m+[m[32mimport java.time.Instant;[m
[32m+[m[32mimport java.time.LocalDateTime;[m
[32m+[m[32mimport java.time.YearMonth;[m
[32m+[m[32mimport java.time.ZoneId;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport tools.storyteller.Protos.Config;[m
[32m+[m[32mimport tools.storyteller.Protos.Screenshot;[m
[32m+[m[32mimport tools.storyteller.Protos.Story;[m
[32m+[m[32mimport tools.storyteller.Protos.StoryItem;[m
[32m+[m[32mimport tools.storyteller.Protos.StoryList;[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * Storyteller logic.[m
[32m+[m[32m *[m
[32m+[m[32m * For an introduction to Storyteller, see StorytellerTool.[m
[32m+[m[32m */[m
[32m+[m[32mpublic class Storyteller {[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  // Output a RUNNING file every X minutes.[m
[32m+[m[32m  private static final int UPDATE_RUNNING_STATUS_MINUTES = 5;[m
[32m+[m[32m  // Number of most recent shared stories to output[m
[32m+[m[32m  private static final int RECENT_SHARED_STORIES_COUNT = 10;[m
[32m+[m
[32m+[m[32m  private static final String FIRESTORE_SCREENSHOT_COLLECTION =[m
[32m+[m[32m      "storyteller/data/user/%s/screenshot";[m
[32m+[m[32m  private static final String FIRESTORE_STORIES_COLLECTION = "storyteller/data/user/%s/story";[m
[32m+[m
[32m+[m[32m  // User's email[m
[32m+[m[32m  private final String author;[m
[32m+[m[32m  private Config config;[m
[32m+[m[32m  private int screenshotFrequency;[m
[32m+[m[32m  private StoryReader reader;[m
[32m+[m[32m  private StoryWriter writer;[m
[32m+[m[32m  private FileUtils fileUtils;[m
[32m+[m[32m  private FirestoreProtoClient firestoreClient;[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  public Storyteller([m
[32m+[m[32m      StorytellerConfig storytellerConfig,[m
[32m+[m[32m      StoryReader reader,[m
[32m+[m[32m      StoryWriter writer,[m
[32m+[m[32m      FileUtils fileUtils,[m
[32m+[m[32m      AuthService authService) {[m
[32m+[m[32m    config = storytellerConfig.getConfig();[m
[32m+[m[32m    this.reader = reader;[m
[32m+[m[32m    this.writer = writer;[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m    screenshotFrequency = getScreenshotFrequency();[m
[32m+[m[32m    firestoreClient = new FirestoreProtoClient(authService.getProjectId(), authService.getToken());[m
[32m+[m[32m    author = authService.getUserEmail();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /*[m
[32m+[m[32m   * Run storyteller forever.[m
[32m+[m[32m   *[m
[32m+[m[32m   * This means writing periodic RUNNING files and screenshots.[m
[32m+[m[32m   */[m
[32m+[m[32m  public void runForever() throws Exception {[m
[32m+[m[32m    int passedMinutes = 0;[m
[32m+[m[32m    System.out.println();[m
[32m+[m[32m    while (true) {[m
[32m+[m[32m      Thread.sleep(1000 * 60);[m
[32m+[m[32m      passedMinutes += 1;[m
[32m+[m[32m      periodicUpdate(passedMinutes, "", "");[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Periodic update should be called every minute.*/[m
[32m+[m[32m  public void periodicUpdate(int passedMinutes, String project, String story) {[m
[32m+[m[32m    // Print '.' every minute, 'R' every 10 minutes and 'H' every hour.[m
[32m+[m[32m    if (passedMinutes % 60 == 0) {[m
[32m+[m[32m      System.out.print("H");[m
[32m+[m[32m    } else if (passedMinutes % screenshotFrequency == 0) {[m
[32m+[m[32m      System.out.print("S");[m
[32m+[m[32m      writer.saveStoryItem(project, story);[m
[32m+[m[32m    } else if (passedMinutes % UPDATE_RUNNING_STATUS_MINUTES == 0) {[m
[32m+[m[32m      System.out.print("R");[m
[32m+[m[32m      writer.updateStory(project);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      System.out.print(".");[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static String getSharedStoriesAbsPath(Config config) {[m
[32m+[m[32m    return Paths.get(config.getStoriesPath(), "shared").toString();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String getSharedStoriesAbsPath() {[m
[32m+[m[32m    return getSharedStoriesAbsPath(config);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static String getUnsharedStoriesAbsPath(Config config) {[m
[32m+[m[32m    return Paths.get(config.getStoriesPath(), "unshared").toString();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String getUnsharedStoriesAbsPath() {[m
[32m+[m[32m    return getUnsharedStoriesAbsPath(config);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /*[m
[32m+[m[32m   * Share storyteller stories with everyone.[m
[32m+[m[32m   *[m
[32m+[m[32m   * This method shares stories to Firebase and moves them to the shared folder.[m
[32m+[m[32m   */[m
[32m+[m[32m  public void share() {[m
[32m+[m[32m    StoryList storyList =[m
[32m+[m[32m        StoryList.newBuilder()[m
[32m+[m[32m            .addAllStory(reader.getUnsharedStories(getUnsharedStoriesAbsPath()))[m
[32m+[m[32m            .build();[m
[32m+[m[32m    firestoreClient.addProtoDocumentToCollection([m
[32m+[m[32m        String.format(FIRESTORE_STORIES_COLLECTION, author), storyList);[m
[32m+[m
[32m+[m[32m    for (Screenshot screenshot : reader.getScreenshots(getUnsharedStoriesAbsPath())) {[m
[32m+[m[32m      firestoreClient.addProtoDocumentToCollection([m
[32m+[m[32m          String.format(FIRESTORE_SCREENSHOT_COLLECTION, author), screenshot);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    try {[m
[32m+[m[32m      writer.saveSharedStories(StoryList.newBuilder().addAllStory(getUnsharedStories()).build());[m
[32m+[m[32m      System.out.println(storyList.getStoryCount() + " stories shared");[m
[32m+[m[32m      fileUtils.clearDirectory(getUnsharedStoriesAbsPath());[m
[32m+[m[32m      System.out.println("Folder with unshared stories is cleared.");[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      throw new RuntimeException(e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String storiesToString(ImmutableList<Story> stories) {[m
[32m+[m[32m    StringBuilder sb = new StringBuilder();[m
[32m+[m[32m    for (Story story : stories) {[m
[32m+[m[32m      sb.appendln([m
[32m+[m[32m          "A story about '%s' from %s (%s):",[m
[32m+[m[32m          story.getProject(),[m
[32m+[m[32m          Time.getDateString(story.getStartTimeMs()),[m
[32m+[m[32m          Time.getHourMinuteDurationString(story.getEndTimeMs() - story.getStartTimeMs()));[m
[32m+[m[32m      for (StoryItem item : story.getItemList()) {[m
[32m+[m[32m        sb.appendln([m
[32m+[m[32m            "%s: %s",[m
[32m+[m[32m            Time.getHourMinuteString(item.getTimeMs()),[m
[32m+[m[32m            Strings.capitalize(item.getOneliner().replace("_", " ")));[m
[32m+[m[32m      }[m
[32m+[m[32m      sb.appendln();[m
[32m+[m[32m    }[m
[32m+[m[32m    return sb.toString();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Prints a summary of the unshared and recently shared stories. */[m
[32m+[m[32m  public void list() {[m
[32m+[m[32m    StringBuilder sb = new StringBuilder();[m
[32m+[m[32m    sb.appendln();[m
[32m+[m[32m    sb.appendln("*** Recent stories: ***");[m
[32m+[m[32m    sb.appendln("=======================");[m
[32m+[m
[32m+[m[32m    if (fileUtils.folderExists(getSharedStoriesAbsPath())) {[m
[32m+[m[32m      ImmutableList<Story> stories = reader.getSharedStories(getSharedStoriesAbsPath());[m
[32m+[m[32m      sb.appendln([m
[32m+[m[32m          storiesToString([m
[32m+[m[32m              stories.subList([m
[32m+[m[32m                  Math.max(stories.size() - RECENT_SHARED_STORIES_COUNT, 0), stories.size())));[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    sb.appendln("*** Unshared stories: ***");[m
[32m+[m[32m    sb.appendln("=========================");[m
[32m+[m[32m    sb.appendln(storiesToString(reader.getUnsharedStories(getUnsharedStoriesAbsPath())));[m
[32m+[m[32m    System.out.print(sb);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Saves an invoice. */[m
[32m+[m[32m  public void invoice() throws Exception {[m
[32m+[m[32m    ImmutableList<Story> stories = reader.getSharedStories(getSharedStoriesAbsPath());[m
[32m+[m[32m    Instant timeOfIssue = Instant.now();[m
[32m+[m[32m    long invoiceNumber = timeOfIssue.getEpochSecond();[m
[32m+[m[32m    YearMonth lastMonth = getLastMonth(timeOfIssue);[m
[32m+[m[32m    long startTime = Time.getMillis(lastMonth.atDay(1));[m
[32m+[m[32m    // For same reason, Time.format formats endTimeForFilter on the next day,[m
[32m+[m[32m    //     so we separate the exact time as endTimeForFilter and the[m
[32m+[m[32m    //     not-exact-but-formats-correctly as endTime[m
[32m+[m[32m    long endTimeForFilter = Time.getMillis(lastMonth.atEndOfMonth().plusDays(1)) - 1;[m
[32m+[m[32m    long endTime = Time.getMillis(lastMonth.atEndOfMonth());[m
[32m+[m
[32m+[m[32m    // Filter stories in time range according to their start time[m
[32m+[m[32m    stories =[m
[32m+[m[32m        ImmutableList.copyOf([m
[32m+[m[32m            Iterables.filter([m
[32m+[m[32m                stories,[m
[32m+[m[32m                story ->[m
[32m+[m[32m                    startTime < story.getStartTimeMs()[m
[32m+[m[32m                        && story.getStartTimeMs() <= endTimeForFilter));[m
[32m+[m
[32m+[m[32m    Invoicer.saveInvoice([m
[32m+[m[32m        Paths.get(config.getInvoicesPath(), invoiceNumber + ".pdf").toString(),[m
[32m+[m[32m        config.getInvoiceCreator(),[m
[32m+[m[32m        config.getInvoiceReceiver(),[m
[32m+[m[32m        stories,[m
[32m+[m[32m        startTime,[m
[32m+[m[32m        endTime,[m
[32m+[m[32m        invoiceNumber,[m
[32m+[m[32m        timeOfIssue.toEpochMilli());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  YearMonth getLastMonth(Instant instant) {[m
[32m+[m[32m    LocalDateTime time = LocalDateTime.ofInstant(instant, ZoneId.of("UTC"));[m
[32m+[m[32m    YearMonth yearMonth = YearMonth.of(time.getYear(), time.getMonth());[m
[32m+[m[32m    return yearMonth.minusMonths(1);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void startup(String project) {[m
[32m+[m[32m    writer.startStory(project);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void shutdown(String project) {[m
[32m+[m[32m    writer.endStory(project);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void saveScreenshot() {[m
[32m+[m[32m    writer.saveScreenshot();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public ImmutableList<Story> getUnsharedStories() {[m
[32m+[m[32m    return reader.getUnsharedStories(getUnsharedStoriesAbsPath());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private int getScreenshotFrequency() {[m
[32m+[m[32m    switch (config.getScreenshotFrequency()) {[m
[32m+[m[32m      case EVERY_10_MINUTES:[m
[32m+[m[32m        return 10;[m
[32m+[m[32m      case EVERY_15_MINUTES:[m
[32m+[m[32m        return 15;[m
[32m+[m[32m      case EVERY_20_MINUTES:[m
[32m+[m[32m        return 20;[m
[32m+[m[32m      case UNRECOGNIZED:[m
[32m+[m[32m      default:[m
[32m+[m[32m        throw new IllegalStateException([m
[32m+[m[32m            "Unknown screenshot frequency " + config.getScreenshotFrequency());[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/StorytellerConfig.java b/tools/storyteller/StorytellerConfig.java[m
[1mnew file mode 100644[m
[1mindex 0000000..9dbb9e1[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/StorytellerConfig.java[m
[36m@@ -0,0 +1,43 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.startupos.common.FileUtils;[m
[32m+[m[32mimport java.util.Arrays;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Named;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m[32mimport tools.storyteller.Protos.Config;[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * Config for Storyteller[m
[32m+[m[32m */[m
[32m+[m[32m@Singleton[m
[32m+[m[32mpublic class StorytellerConfig {[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  private static final String CONFIG_FILE = "~/.storyteller";[m
[32m+[m[32m  static final String STORIES_FILENAME = "stories.prototxt";[m
[32m+[m
[32m+[m[32m  private FileUtils fileUtils;[m
[32m+[m[32m  private String storytellerPath;[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  public StorytellerConfig(FileUtils fileUtils, @Named("Base path") String basePath) {[m
[32m+[m[32m    this.fileUtils = fileUtils;[m
[32m+[m[32m    this.storytellerPath = fileUtils.joinPaths(basePath, "local", "storyteller");[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Config getConfig() {[m
[32m+[m[32m    Config.Builder config =[m
[32m+[m[32m        Config.newBuilder()[m
[32m+[m[32m            .setStoriesPath(storytellerPath)[m
[32m+[m[32m            .setInvoicesPath(storytellerPath)[m
[32m+[m[32m            .addAllProjects([m
[32m+[m[32m                Arrays.asList("Front-end", "Backend", "Fixing issue", "Code review", "Production"));[m
[32m+[m[32m    if (!fileUtils.fileExists(CONFIG_FILE)) {[m
[32m+[m[32m      log.atFine().log("No config found in %s", CONFIG_FILE);[m
[32m+[m[32m      return config.build();[m
[32m+[m[32m    }[m
[32m+[m[32m    return (Config) fileUtils.readPrototxtUnchecked(CONFIG_FILE, config);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/StorytellerTool.java b/tools/storyteller/StorytellerTool.java[m
[1mnew file mode 100644[m
[1mindex 0000000..beb096f[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/StorytellerTool.java[m
[36m@@ -0,0 +1,87 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.flogger.FluentLogger;[m
[32m+[m[32mimport com.google.startupos.common.CommonModule;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flags;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.aa.AaModule;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.local_server.service.AuthService;[m
[32m+[m[32mimport dagger.Component;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m * A way to tell the story of what you're up to.[m
[32m+[m[32m *[m
[32m+[m[32m * Storyteller is a team communication tool. Its purpose is to help you tell people what you're[m
[32m+[m[32m * working on, how you're working on it, the problems you encountered on the way that you bravely[m
[32m+[m[32m * and creatively solved, as well as funny, sad and amazing things that happened along the way.[m
[32m+[m[32m * You can do this by running it, taking screenshots (AKA "desktop selfies"), and later choosing[m
[32m+[m[32m * which to share.[m
[32m+[m[32m *[m
[32m+[m[32m * How Storyteller works:[m
[32m+[m[32m * - Storyteller is a small desktop app. It has 2 modes:[m
[32m+[m[32m *   - Time tracking and screenshot[m
[32m+[m[32m *   - Screenshot only[m
[32m+[m[32m * - All of storyteller's output files are stored in a folder, configurable using stories_path.[m
[32m+[m[32m * - You can review all output files (screenshots, stories, time tracking if enabled).[m
[32m+[m[32m * - When you're done, you run 'storyteller_tool share' to upload the files and share them. Stories[m
[32m+[m[32m *   are shared with your whole team. This way, everyone can know what you're up to,[m
[32m+[m[32m *   ask you questions, offer help, quench their curiosity, etc.[m
[32m+[m[32m *[m
[32m+[m[32m * - Note: If you work hourly, the time tracking part can be used to create invoice pdfs. Note that[m
[32m+[m[32m *     some countries may have additional requirements such as digital signatures, which we don't[m
[32m+[m[32m *     currently support.[m
[32m+[m[32m *[m
[32m+[m[32m * Configuration:[m
[32m+[m[32m * Edit and copy example_config.txt to ~/.storyteller[m
[32m+[m[32m *[m
[32m+[m[32m * Usage:[m
[32m+[m[32m * To build:[m
[32m+[m[32m * bazel build //tools/storyteller:storyteller_tool;[m
[32m+[m[32m * To list stories:[m
[32m+[m[32m * bazel-bin/tools/storyteller/storyteller_tool list[m
[32m+[m[32m * To share stories:[m
[32m+[m[32m * bazel-bin/tools/storyteller/storyteller_tool share[m
[32m+[m[32m * To run desktop app in screenshot-only mode:[m
[32m+[m[32m * bazel run //tools/storyteller:storyteller_screenshot_ui_tool[m
[32m+[m[32m * To run desktop app in time-and-screenshot mode:[m
[32m+[m[32m * bazel run //tools/storyteller:storyteller_time_and_screenshot_ui_tool[m
[32m+[m[32m */[m
[32m+[m[32mpublic class StorytellerTool {[m
[32m+[m
[32m+[m[32m  private static final FluentLogger log = FluentLogger.forEnclosingClass();[m
[32m+[m[32m  private static final String HELP = "help";[m
[32m+[m[32m  private static final String LIST = "list";[m
[32m+[m[32m  private static final String SHARE = "share";[m
[32m+[m[32m  private static final String INVOICE = "invoice";[m
[32m+[m[32m  private static final ImmutableList<String> COMMANDS =[m
[32m+[m[32m      ImmutableList.of(HELP, LIST, SHARE, INVOICE);[m
[32m+[m
[32m+[m[32m  @Singleton[m
[32m+[m[32m  @Component(modules = {CommonModule.class, AaModule.class})[m
[32m+[m[32m  interface StorytellerToolComponent {[m
[32m+[m[32m    Storyteller getStoryteller();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void main(String[] args) throws Exception {[m
[32m+[m[32m    String[] leftoverArgs =[m
[32m+[m[32m        Flags.parse(args, StorytellerTool.class.getPackage(), AuthService.class.getPackage());[m
[32m+[m[32m    Storyteller storyteller =[m
[32m+[m[32m        DaggerStorytellerTool_StorytellerToolComponent.create().getStoryteller();[m
[32m+[m
[32m+[m[32m    String option = leftoverArgs.length > 0 ? leftoverArgs[0] : null;[m
[32m+[m
[32m+[m[32m    if (HELP.equals(option)) {[m
[32m+[m[32m      System.out.println("Commands are: " + String.join(", ", COMMANDS));[m
[32m+[m[32m    } else if (LIST.equals(option)) {[m
[32m+[m[32m      storyteller.list();[m
[32m+[m[32m    } else if (SHARE.equals(option)) {[m
[32m+[m[32m      storyteller.share();[m
[32m+[m[32m    } else if (INVOICE.equals(option)) {[m
[32m+[m[32m      storyteller.invoice();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      System.out.println("Unknown command. Commands are: " + String.join(", ", COMMANDS));[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/StorytellerUiTool.java b/tools/storyteller/StorytellerUiTool.java[m
[1mnew file mode 100644[m
[1mindex 0000000..faf1a88[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/StorytellerUiTool.java[m
[36m@@ -0,0 +1,440 @@[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32mimport static java.time.temporal.ChronoUnit.MILLIS;[m
[32m+[m
[32m+[m[32mimport com.google.common.collect.ImmutableList;[m
[32m+[m[32mimport com.google.common.io.Resources;[m
[32m+[m[32mimport com.google.protobuf.InvalidProtocolBufferException;[m
[32m+[m[32mimport com.google.startupos.common.CommonModule;[m
[32m+[m[32mimport com.google.startupos.common.flags.Flags;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.aa.AaModule;[m
[32m+[m[32mimport com.google.startupos.tools.reviewer.local_server.service.AuthService;[m
[32m+[m[32mimport dagger.Component;[m
[32m+[m[32mimport java.awt.Color;[m
[32m+[m[32mimport java.awt.Dimension;[m
[32m+[m[32mimport java.awt.EventQueue;[m
[32m+[m[32mimport java.awt.Font;[m
[32m+[m[32mimport java.awt.GraphicsDevice;[m
[32m+[m[32mimport java.awt.GraphicsEnvironment;[m
[32m+[m[32mimport java.awt.Insets;[m
[32m+[m[32mimport java.awt.Rectangle;[m
[32m+[m[32mimport java.awt.event.WindowAdapter;[m
[32m+[m[32mimport java.awt.event.WindowEvent;[m
[32m+[m[32mimport java.time.Duration;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.prefs.Preferences;[m
[32m+[m[32mimport javax.inject.Inject;[m
[32m+[m[32mimport javax.inject.Singleton;[m
[32m+[m[32mimport javax.swing.DefaultComboBoxModel;[m
[32m+[m[32mimport javax.swing.ImageIcon;[m
[32m+[m[32mimport javax.swing.JButton;[m
[32m+[m[32mimport javax.swing.JComboBox;[m
[32m+[m[32mimport javax.swing.JFrame;[m
[32m+[m[32mimport javax.swing.JLabel;[m
[32m+[m[32mimport javax.swing.JTextField;[m
[32m+[m[32mimport javax.swing.JToggleButton;[m
[32m+[m[32mimport javax.swing.SwingConstants;[m
[32m+[m[32mimport javax.swing.Timer;[m
[32m+[m[32mimport javax.swing.UIManager;[m
[32m+[m[32mimport javax.swing.border.EmptyBorder;[m
[32m+[m[32mimport javax.swing.border.LineBorder;[m
[32m+[m[32mimport javax.swing.plaf.ColorUIResource;[m
[32m+[m[32mimport javax.swing.plaf.basic.BasicComboBoxUI;[m
[32m+[m[32mimport tools.storyteller.Protos.Config;[m
[32m+[m[32mimport tools.storyteller.Protos.Story;[m
[32m+[m[32mimport tools.storyteller.Protos.UiDefaults;[m
[32m+[m
[32m+[m[32m/* UI tool for Storyteller */[m
[32m+[m[32mpublic class StorytellerUiTool {[m
[32m+[m[32m  private static final int DEFAULT_WIDTH = 300;[m
[32m+[m[32m  private static final int DEFAULT_HEIGHT = 440;[m
[32m+[m[32m  private static final int LEFT = 20;[m
[32m+[m[32m  private static final int WIDTH = DEFAULT_WIDTH - 2 * LEFT;[m
[32m+[m[32m  private static final String HTML_TEMPLATE =[m
[32m+[m[32m      "<font face=\"%s\" size=\"%d\" color=\"%s\">%s</font>";[m
[32m+[m[32m  // Font sizes[m
[32m+[m[32m  private static final int SMALL_TEXT = 14;[m
[32m+[m[32m  private static final int NORMAL_TEXT = 20;[m
[32m+[m[32m  // Heights[m
[32m+[m[32m  private static final int TOP_HEIGHT = 30;[m
[32m+[m[32m  private static final int SCREENSHOT_HEIGHT = 110;[m
[32m+[m[32m  private static final int INPUTS_HEIGHT = 175;[m
[32m+[m[32m  private static final int STATS_HEIGHT = 310;[m
[32m+[m[32m  // Colors[m
[32m+[m[32m  private static final Color DARK_GRAY = new Color(0x585858);[m
[32m+[m[32m  private static final Color LIGHT_GRAY = new Color(0x808080);[m
[32m+[m[32m  private static final Color DARK_BLUE = new Color(0x2869A5);[m
[32m+[m[32m  private static final Color LIGHT_BLUE = new Color(0xF4F6F8);[m
[32m+[m
[32m+[m[32m  // Debug mode means things related to clock happen faster[m
[32m+[m[32m  private static final boolean DEBUG_MODE = true;[m
[32m+[m
[32m+[m[32m  // Input args[m
[32m+[m[32m  private static final String TIME_AND_SCREENSHOT_ARG = "time_and_screenshot";[m
[32m+[m[32m  private static final String SCREENSHOT_ONLY_ARG = "screenshot_only";[m
[32m+[m
[32m+[m[32m  private Preferences preferences;[m
[32m+[m[32m  private JFrame frame;[m
[32m+[m[32m  private JToggleButton toggleButton;[m
[32m+[m[32m  private JLabel timeLabel;[m
[32m+[m[32m  private Storyteller storyteller;[m
[32m+[m[32m  private ImmutableList<Story> unsharedStories;[m
[32m+[m[32m  private Timer timer;[m
[32m+[m[32m  private long timerStartTime;[m
[32m+[m[32m  // Time accumulated by the timer in this run. Restarting the tool resets this[m
[32m+[m[32m  private long accumulatedTimerTime;[m
[32m+[m[32m  private long unsharedStoriesTime;[m
[32m+[m[32m  private UiDefaults.Builder uiDefaults;[m
[32m+[m[32m  private JComboBox projectDropDown;[m
[32m+[m[32m  private JTextField storyTextArea;[m
[32m+[m[32m  private Mode mode;[m
[32m+[m[32m  private Config config;[m
[32m+[m
[32m+[m[32m  enum Mode {[m
[32m+[m[32m    TIME_AND_SCREENSHOT,[m
[32m+[m[32m    SCREENSHOT_ONLY[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Singleton[m
[32m+[m[32m  @Component(modules = {CommonModule.class, AaModule.class})[m
[32m+[m[32m  interface StorytellerUiToolComponent {[m
[32m+[m[32m    StorytellerUiTool getStoryTellerUiTool();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void main(String[] args) {[m
[32m+[m[32m    Flags.parse(args, AuthService.class.getPackage());[m
[32m+[m[32m    checkInputArgs(args);[m
[32m+[m
[32m+[m[32m    StorytellerUiTool uiTool =[m
[32m+[m[32m        DaggerStorytellerUiTool_StorytellerUiToolComponent.create().getStoryTellerUiTool();[m
[32m+[m
[32m+[m[32m    EventQueue.invokeLater([m
[32m+[m[32m        () -> {[m
[32m+[m[32m          uiTool.mode = getMode(args[0]);[m
[32m+[m[32m          uiTool.init();[m
[32m+[m[32m        });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Inject[m
[32m+[m[32m  StorytellerUiTool(Storyteller storyteller, StorytellerConfig storytellerConfig) {[m
[32m+[m[32m    this.storyteller = storyteller;[m
[32m+[m[32m    this.config = storytellerConfig.getConfig();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void init() {[m
[32m+[m[32m    unsharedStories = storyteller.getUnsharedStories();[m
[32m+[m[32m    for (Story story : unsharedStories) {[m
[32m+[m[32m      unsharedStoriesTime += story.getEndTimeMs() - story.getStartTimeMs();[m
[32m+[m[32m    }[m
[32m+[m[32m    UIManager.put("ToggleButton.select", Color.WHITE);[m
[32m+[m[32m    UIManager.put("JTextField.background", new ColorUIResource(Color.red));[m
[32m+[m[32m    UIManager.put("ComboBox.selectionBackground", new ColorUIResource(LIGHT_BLUE));[m
[32m+[m[32m    UIManager.put("ComboBox.selectionForeground", new ColorUIResource(Color.black));[m
[32m+[m[32m    UIManager.put("ComboBox.buttonBackground", new ColorUIResource(LIGHT_BLUE));[m
[32m+[m[32m    UIManager.put("ComboBox.buttonShadow", new ColorUIResource(Color.white));[m
[32m+[m[32m    UIManager.put("ComboBox.buttonDarkShadow", new ColorUIResource(Color.white));[m
[32m+[m
[32m+[m[32m    initDefaults();[m
[32m+[m[32m    initTimer();[m
[32m+[m[32m    initFrame();[m
[32m+[m[32m    addScreenshotButton();[m
[32m+[m[32m    addProjectDropDown();[m
[32m+[m[32m    addStoryText();[m
[32m+[m[32m    if (mode.equals(Mode.TIME_AND_SCREENSHOT)) {[m
[32m+[m[32m      addToggleButton();[m
[32m+[m[32m      addTimeLabel();[m
[32m+[m[32m      addBottomTimeSummaries();[m
[32m+[m[32m    }[m
[32m+[m[32m    frame.setVisible(true);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void initDefaults() {[m
[32m+[m[32m    preferences = Preferences.userRoot().node("/tools/storyteller");[m
[32m+[m[32m    try {[m
[32m+[m[32m      uiDefaults =[m
[32m+[m[32m          UiDefaults.parseFrom(preferences.getByteArray("defaults", new byte[0])).toBuilder();[m
[32m+[m[32m    } catch (InvalidProtocolBufferException e) {[m
[32m+[m[32m      GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();[m
[32m+[m[32m      GraphicsDevice defaultScreen = ge.getDefaultScreenDevice();[m
[32m+[m[32m      Rectangle rect = defaultScreen.getDefaultConfiguration().getBounds();[m
[32m+[m[32m      int defaultLeft = (int) rect.getMaxX() - DEFAULT_WIDTH;[m
[32m+[m[32m      int defaultTop = (int) rect.getMaxY() - DEFAULT_HEIGHT;[m
[32m+[m[32m      uiDefaults = UiDefaults.newBuilder().setLeft(defaultLeft).setTop(defaultTop);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Init timer. This does not start the timer. */[m
[32m+[m[32m  private void initTimer() {[m
[32m+[m[32m    final int timerPeriodicity = DEBUG_MODE ? 1000 : 1000 * 60;[m
[32m+[m[32m    timer =[m
[32m+[m[32m        new Timer([m
[32m+[m[32m            timerPeriodicity,[m
[32m+[m[32m            event -> {[m
[32m+[m[32m              long millisPassed =[m
[32m+[m[32m                  System.currentTimeMillis() - timerStartTime + accumulatedTimerTime;[m
[32m+[m[32m              if (DEBUG_MODE) {[m
[32m+[m[32m                millisPassed *= 60;[m
[32m+[m[32m              }[m
[32m+[m[32m              int minutesPassed = (int) (millisPassed / (1000 * 60));[m
[32m+[m[32m              timeLabel.setText(getTimeHtml(millisPassed));[m
[32m+[m[32m              storyteller.periodicUpdate([m
[32m+[m[32m                  minutesPassed,[m
[32m+[m[32m                  projectDropDown.getSelectedItem().toString(),[m
[32m+[m[32m                  storyTextArea.getText());[m
[32m+[m[32m            });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void initFrame() {[m
[32m+[m[32m    frame = new JFrame();[m
[32m+[m
[32m+[m[32m    frame.setLayout(null);[m
[32m+[m[32m    frame.setResizable(false);[m
[32m+[m[32m    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);[m
[32m+[m[32m    // TODO: Fix drift - every time the tool is run, it starts slightly higher.[m
[32m+[m[32m    frame.setLocation(uiDefaults.getLeft(), uiDefaults.getTop());[m
[32m+[m[32m    frame[m
[32m+[m[32m        .getContentPane()[m
[32m+[m[32m        .setPreferredSize([m
[32m+[m[32m            new Dimension([m
[32m+[m[32m                DEFAULT_WIDTH,[m
[32m+[m[32m                mode.equals(Mode.SCREENSHOT_ONLY) ? DEFAULT_HEIGHT - 230 : DEFAULT_HEIGHT));[m
[32m+[m[32m    frame.pack();[m
[32m+[m[32m    frame.setTitle("Storyteller");[m
[32m+[m[32m    frame.getContentPane().setBackground(Color.WHITE);[m
[32m+[m[32m    frame.addWindowListener([m
[32m+[m[32m        new WindowAdapter() {[m
[32m+[m[32m          public void windowClosing(WindowEvent e) {[m
[32m+[m[32m            onClose();[m
[32m+[m[32m            System.exit(0);[m
[32m+[m[32m          }[m
[32m+[m[32m        });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addToggleButton() {[m
[32m+[m[32m    final ImageIcon onIcon = getIcon("pause.png", "Pause");[m
[32m+[m[32m    final ImageIcon offIcon = getIcon("play.png", "Play");[m
[32m+[m
[32m+[m[32m    toggleButton = new JToggleButton();[m
[32m+[m[32m    toggleButton.setIcon(offIcon);[m
[32m+[m[32m    toggleButton.setBounds(DEFAULT_WIDTH - LEFT - 96, TOP_HEIGHT + 12, 96, 36);[m
[32m+[m[32m    toggleButton.setBackground(Color.WHITE);[m
[32m+[m
[32m+[m[32m    toggleButton.setPreferredSize([m
[32m+[m[32m        new Dimension(onIcon.getIconWidth() + 8, onIcon.getIconHeight() + 8));[m
[32m+[m[32m    toggleButton.setMargin(new Insets(1, 1, 1, 1));[m
[32m+[m[32m    if (!"Aqua".equals(UIManager.getLookAndFeel().getID())) {[m
[32m+[m[32m      // Remove border, except on Mac where it paints the toggle state[m
[32m+[m[32m      toggleButton.setBorder([m
[32m+[m[32m          new EmptyBorder(toggleButton.getBorder().getBorderInsets(toggleButton)));[m
[32m+[m[32m    }[m
[32m+[m[32m    toggleButton.setBorder(new LineBorder(LIGHT_GRAY, 1, true));[m
[32m+[m
[32m+[m[32m    toggleButton.setFocusable(false);[m
[32m+[m[32m    toggleButton.addItemListener([m
[32m+[m[32m        event -> {[m
[32m+[m[32m          if (toggleButton.isSelected()) {[m
[32m+[m[32m            toggleButton.setIcon(onIcon);[m
[32m+[m[32m            storyteller.startup(projectDropDown.getSelectedItem().toString());[m
[32m+[m[32m            timer.start();[m
[32m+[m[32m            timerStartTime = System.currentTimeMillis();[m
[32m+[m[32m            timeLabel.setText(getTimeHtml(accumulatedTimerTime));[m
[32m+[m[32m            updateProjectMruAndDropDown();[m
[32m+[m[32m          } else {[m
[32m+[m[32m            toggleButton.setIcon(offIcon);[m
[32m+[m[32m            storyteller.shutdown(projectDropDown.getSelectedItem().toString());[m
[32m+[m[32m            timer.stop();[m
[32m+[m[32m            accumulatedTimerTime += System.currentTimeMillis() - timerStartTime;[m
[32m+[m[32m          }[m
[32m+[m[32m        });[m
[32m+[m[32m    frame.add(toggleButton);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Html for time labels, in the form of "3h 15m" where the numbers are big.*/[m
[32m+[m[32m  private String getTimeHtml(long millis) {[m
[32m+[m[32m    Duration duration = Duration.of(millis, MILLIS);[m
[32m+[m[32m    long hours = duration.toHours();[m
[32m+[m[32m    long minutes = duration.minusHours(hours).toMinutes();[m
[32m+[m[32m    String darkBlue = colorToString(DARK_BLUE);[m
[32m+[m[32m    String darkGray = colorToString(DARK_GRAY);[m
[32m+[m
[32m+[m[32m    String html = "<html><center>";[m
[32m+[m[32m    if (hours > 0) {[m
[32m+[m[32m      html += String.format(HTML_TEMPLATE, "arial", 12, darkBlue, hours);[m
[32m+[m[32m      html += String.format(HTML_TEMPLATE, "arial", 6, darkGray, "h");[m
[32m+[m[32m    }[m
[32m+[m[32m    html += String.format(HTML_TEMPLATE, "arial", 12, darkBlue, minutes);[m
[32m+[m[32m    html += String.format(HTML_TEMPLATE, "arial", 6, darkGray, "m");[m
[32m+[m[32m    return html;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addTimeLabel() {[m
[32m+[m[32m    timeLabel = addLabel(getTimeHtml(0), LEFT, TOP_HEIGHT, WIDTH, 60, 20);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void updateProjectMruAndDropDown() {[m
[32m+[m[32m    String project = (String) projectDropDown.getSelectedItem();[m
[32m+[m[32m    // Put 'project' on top of MRU[m
[32m+[m[32m    ArrayList<String> projects = new ArrayList<>(uiDefaults.getProjectList());[m
[32m+[m[32m    projects.remove(project);[m
[32m+[m[32m    projects.add(0, project);[m
[32m+[m[32m    uiDefaults.clearProject();[m
[32m+[m[32m    uiDefaults.addAllProject(projects);[m
[32m+[m[32m    projectDropDown.setModel(new DefaultComboBoxModel<String>(getProjects()));[m
[32m+[m[32m    projectDropDown.setSelectedItem(project);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addScreenshotButton() {[m
[32m+[m[32m    JButton button = new JButton("Take Screenshot");[m
[32m+[m[32m    button.setLocation(LEFT, SCREENSHOT_HEIGHT);[m
[32m+[m[32m    if (mode.equals(Mode.SCREENSHOT_ONLY)) {[m
[32m+[m[32m      button.setLocation(LEFT, SCREENSHOT_HEIGHT - 90);[m
[32m+[m[32m    }[m
[32m+[m[32m    button.setSize(WIDTH, 40);[m
[32m+[m[32m    button.setFont(new Font("Arial", Font.PLAIN, 18));[m
[32m+[m[32m    button.setFocusable(false);[m
[32m+[m[32m    button.setBackground(LIGHT_BLUE);[m
[32m+[m[32m    button.setForeground(DARK_BLUE);[m
[32m+[m[32m    button.setBorder(new LineBorder(LIGHT_GRAY, 1, true));[m
[32m+[m[32m    button.addActionListener([m
[32m+[m[32m        event -> {[m
[32m+[m[32m          String project = projectDropDown.getSelectedItem().toString();[m
[32m+[m[32m          if (!isTimerOn() && mode.equals(Mode.TIME_AND_SCREENSHOT)) {[m
[32m+[m[32m            storyteller.startup(project);[m
[32m+[m[32m          }[m
[32m+[m[32m          storyteller.saveScreenshot();[m
[32m+[m[32m          if (!isTimerOn() && mode.equals(Mode.TIME_AND_SCREENSHOT)) {[m
[32m+[m[32m            storyteller.shutdown(project);[m
[32m+[m[32m          }[m
[32m+[m[32m          System.out.println("Screenshot saved");[m
[32m+[m[32m        });[m
[32m+[m[32m    frame.add(button);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private JLabel addLabel(String text, int left, int top, int width, int height, int fontSize) {[m
[32m+[m[32m    JLabel label = new JLabel(text);[m
[32m+[m[32m    label.setLocation(left, top);[m
[32m+[m[32m    label.setSize(width, height);[m
[32m+[m[32m    label.setFont(new Font("Arial", Font.PLAIN, fontSize));[m
[32m+[m[32m    label.setForeground(DARK_GRAY);[m
[32m+[m[32m    frame.add(label);[m
[32m+[m[32m    return label;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addProjectDropDown() {[m
[32m+[m[32m    if (mode.equals(Mode.SCREENSHOT_ONLY)) {[m
[32m+[m[32m      addLabel("Project:", LEFT, INPUTS_HEIGHT - 100, WIDTH, SMALL_TEXT, SMALL_TEXT);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      addLabel("Project:", LEFT, INPUTS_HEIGHT, WIDTH, SMALL_TEXT, SMALL_TEXT);[m
[32m+[m[32m    }[m
[32m+[m[32m    projectDropDown = new JComboBox(getProjects());[m
[32m+[m[32m    projectDropDown.setLocation(LEFT, INPUTS_HEIGHT + 20);[m
[32m+[m[32m    if (mode.equals(Mode.SCREENSHOT_ONLY)) {[m
[32m+[m[32m      projectDropDown.setLocation(LEFT, INPUTS_HEIGHT - 80);[m
[32m+[m[32m    }[m
[32m+[m[32m    projectDropDown.setSize(WIDTH, 30);[m
[32m+[m[32m    projectDropDown.setUI(new DropDownArrowUI());[m
[32m+[m[32m    projectDropDown.setBorder(new LineBorder(LIGHT_GRAY, 1, true));[m
[32m+[m[32m    frame.add(projectDropDown);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addStoryText() {[m
[32m+[m[32m    int height = INPUTS_HEIGHT + 60;[m
[32m+[m[32m    if (mode.equals(Mode.SCREENSHOT_ONLY)) {[m
[32m+[m[32m      height = INPUTS_HEIGHT - 40;[m
[32m+[m[32m    }[m
[32m+[m[32m    addLabel("Story:", LEFT, height, WIDTH, SMALL_TEXT, SMALL_TEXT);[m
[32m+[m[32m    storyTextArea = new JTextField(20);[m
[32m+[m[32m    storyTextArea.setLocation(LEFT, height + 20);[m
[32m+[m[32m    storyTextArea.setSize(WIDTH, 30);[m
[32m+[m[32m    storyTextArea.setBackground(LIGHT_BLUE);[m
[32m+[m[32m    frame.add(storyTextArea);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void addBottomTimeSummaries() {[m
[32m+[m[32m    int height = STATS_HEIGHT;[m
[32m+[m[32m    addLabel("Unshared", LEFT, height, WIDTH, 30, SMALL_TEXT);[m
[32m+[m[32m    addLabel("Today (shared)", LEFT, height + 40, WIDTH, 30, SMALL_TEXT);[m
[32m+[m[32m    addLabel("This week (shared)", LEFT, height + 80, WIDTH, 30, SMALL_TEXT);[m
[32m+[m[32m    int left = DEFAULT_WIDTH - LEFT - WIDTH;[m
[32m+[m[32m    JLabel unsharedLabel = addLabel("TBD", left, height, WIDTH, 30, NORMAL_TEXT);[m
[32m+[m[32m    unsharedLabel.setHorizontalAlignment(SwingConstants.RIGHT);[m
[32m+[m[32m    JLabel todayLabel = addLabel("TBD", left, height + 40, WIDTH, 30, NORMAL_TEXT);[m
[32m+[m[32m    todayLabel.setHorizontalAlignment(SwingConstants.RIGHT);[m
[32m+[m[32m    JLabel thisWeekLabel = addLabel("TBD", left, height + 80, WIDTH, 30, NORMAL_TEXT);[m
[32m+[m[32m    thisWeekLabel.setHorizontalAlignment(SwingConstants.RIGHT);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  /* Get projects list, placing the MRU projects on top. */[m
[32m+[m[32m  private String[] getProjects() {[m
[32m+[m[32m    ImmutableList.Builder<String> result = new ImmutableList.Builder<>();[m
[32m+[m[32m    for (String project : uiDefaults.getProjectList()) {[m
[32m+[m[32m      if (config.getProjectsList().contains(project)) {[m
[32m+[m[32m        result.add(project);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    for (String project : config.getProjectsList()) {[m
[32m+[m[32m      // No contains in builder.. :([m
[32m+[m[32m      if (!result.build().contains(project)) {[m
[32m+[m[32m        result.add(project);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    return result.build().toArray(new String[0]);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void onClose() {[m
[32m+[m[32m    uiDefaults = uiDefaults.setLeft(frame.getX()).setTop(frame.getY());[m
[32m+[m[32m    preferences.putByteArray("defaults", uiDefaults.build().toByteArray());[m
[32m+[m[32m    if (isTimerOn()) {[m
[32m+[m[32m      storyteller.shutdown(projectDropDown.getSelectedItem().toString());[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private boolean isTimerOn() {[m
[32m+[m[32m    return mode.equals(Mode.TIME_AND_SCREENSHOT) && toggleButton.isSelected();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private ImageIcon getIcon(String filename, String description) {[m
[32m+[m[32m    return new ImageIcon(Resources.getResource("tools/storyteller/res/" + filename), description);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private class DropDownArrowUI extends BasicComboBoxUI {[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected JButton createArrowButton() {[m
[32m+[m[32m      return new ArrowButton(LIGHT_BLUE, LIGHT_GRAY, DARK_BLUE);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String colorToString(Color colour) {[m
[32m+[m[32m    return "#" + String.format("%06x", colour.getRGB() & 0xffffff);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static Mode getMode(String arg) {[m
[32m+[m[32m    switch (arg) {[m
[32m+[m[32m      case TIME_AND_SCREENSHOT_ARG:[m
[32m+[m[32m        return Mode.TIME_AND_SCREENSHOT;[m
[32m+[m[32m      case SCREENSHOT_ONLY_ARG:[m
[32m+[m[32m        return Mode.SCREENSHOT_ONLY;[m
[32m+[m[32m      default:[m
[32m+[m[32m        throw new IllegalArgumentException([m
[32m+[m[32m            "Input arg is incorrect. "[m
[32m+[m[32m                + "Expected: "[m
[32m+[m[32m                + TIME_AND_SCREENSHOT_ARG[m
[32m+[m[32m                + " or "[m
[32m+[m[32m                + SCREENSHOT_ONLY_ARG);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void checkInputArgs(String[] args) {[m
[32m+[m[32m    if (args.length == 0) {[m
[32m+[m[32m      throw new IllegalArgumentException([m
[32m+[m[32m          "Running mode not specified ("[m
[32m+[m[32m              + TIME_AND_SCREENSHOT_ARG[m
[32m+[m[32m              + " or "[m
[32m+[m[32m              + SCREENSHOT_ONLY_ARG[m
[32m+[m[32m              + ")");[m
[32m+[m[32m    } else if (args.length > 1) {[m
[32m+[m[32m      throw new IllegalArgumentException("Input args contain more then one argument.");[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[1mdiff --git a/tools/storyteller/data.proto b/tools/storyteller/data.proto[m
[1mnew file mode 100644[m
[1mindex 0000000..417e9cd[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/data.proto[m
[36m@@ -0,0 +1,120 @@[m
[32m+[m[32msyntax = "proto3";[m
[32m+[m[32mpackage tools.storyteller;[m
[32m+[m
[32m+[m[32moption java_package = "tools.storyteller";[m
[32m+[m[32moption java_outer_classname = "Protos";[m
[32m+[m
[32m+[m[32m/* Storyteller protos. */[m
[32m+[m[32mmessage Config {[m
[32m+[m[32m  enum Frequency {[m
[32m+[m[32m    EVERY_10_MINUTES = 0; // This is the default (=0)[m
[32m+[m[32m    EVERY_15_MINUTES = 1;[m
[32m+[m[32m    EVERY_20_MINUTES = 2;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  Frequency screenshot_frequency = 1;[m
[32m+[m[32m  string stories_path = 2;[m
[32m+[m[32m  string invoices_path = 3;[m
[32m+[m[32m  InvoiceCreator invoice_creator = 4;[m
[32m+[m[32m  InvoiceReceiver invoice_receiver = 5;[m
[32m+[m[32m  repeated string projects = 6;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Defaults used in the Storyteller UI tool. */[m
[32m+[m[32mmessage UiDefaults {[m
[32m+[m[32m  // Most recently used projects, used to reorder projects drop down[m
[32m+[m[32m  repeated string project = 1;[m
[32m+[m[32m  int32 left = 2;[m
[32m+[m[32m  int32 top = 3;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// Local file used to store status such as current project.[m
[32m+[m[32mmessage StatusData { string project = 1; }[m
[32m+[m
[32m+[m[32m// Local file used to store and edit the screenshot metadata before sharing.[m
[32m+[m[32mmessage ScreenshotMetadata {[m
[32m+[m[32m  string project = 1;[m
[32m+[m[32m  string oneliner = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage FileData {[m
[32m+[m[32m  enum Type {[m
[32m+[m[32m    UNKNOWN = 0;[m
[32m+[m[32m    START = 1;[m
[32m+[m[32m    RUNNING = 2;[m
[32m+[m[32m    SCREENSHOT = 3;[m
[32m+[m[32m    SCREENSHOT_METADATA = 4;[m
[32m+[m[32m    END = 5;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  Type type = 1;[m
[32m+[m[32m  int64 timeMs = 2;[m
[32m+[m[32m  string filename = 3;[m
[32m+[m[32m  oneof oneof_content {[m
[32m+[m[32m    bytes image_bytes = 4;[m
[32m+[m[32m    ScreenshotMetadata screenshot_metadata = 5;[m
[32m+[m[32m    StatusData status_data = 6;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Screenshot {[m
[32m+[m[32m  string filename = 1;[m
[32m+[m[32m  bytes screenshot = 2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage StoryItem {[m
[32m+[m[32m  reserved 2;[m
[32m+[m[32m  int64 timeMs = 1;[m
[32m+[m[32m  string oneliner = 3;[m
[32m+[m[32m  string note = 4;[m
[32m+[m[32m  string screenshot_filename = 5;[m
[32m+[m[32m  string id = 6;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage Story {[m
[32m+[m[32m  int64 startTimeMs = 1;[m
[32m+[m[32m  int64 endTimeMs = 2;[m
[32m+[m[32m  string project = 3;[m
[32m+[m[32m  repeated StoryItem item = 4;[m
[32m+[m[32m  string id = 5;[m
[32m+[m[32m  string author = 6;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage StoryList { repeated Story story = 1; }[m
[32m+[m
[32m+[m[32mmessage InvoiceItem {[m
[32m+[m[32m  string title = 1;[m
[32m+[m[32m  string description = 2;[m
[32m+[m[32m  int64 time_worked_ms = 3;[m
[32m+[m[32m  // The hourly rate in USD[m
[32m+[m[32m  double hourly_rate = 4;[m
[32m+[m[32m  double dollarAmount = 5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceItemList {[m
[32m+[m[32m  repeated InvoiceItem item = 1;[m
[32m+[m[32m  int64 startTimeMs = 2;[m
[32m+[m[32m  int64 endTimeMs = 3;[m
[32m+[m[32m  double subtotal = 4;[m
[32m+[m[32m  // Total is the subtotal after rounding up.[m
[32m+[m[32m  double total = 5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceCreator {[m
[32m+[m[32m  string name = 1;[m
[32m+[m[32m  string phone_number = 2;[m
[32m+[m[32m  string email = 3;[m
[32m+[m[32m  string website = 4;[m
[32m+[m[32m  string street_and_number = 5;[m
[32m+[m[32m  string city_state_country = 6;[m
[32m+[m[32m  string zip_code = 7;[m
[32m+[m[32m  // Optional tagline at the bottom[m
[32m+[m[32m  string tagline = 8;[m
[32m+[m[32m  double hourly_rate_usd = 9;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmessage InvoiceReceiver {[m
[32m+[m[32m  string name = 1;[m
[32m+[m[32m  string street_and_number = 2;[m
[32m+[m[32m  string city_state_country = 3;[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/tools/storyteller/example_config.prototxt b/tools/storyteller/example_config.prototxt[m
[1mnew file mode 100644[m
[1mindex 0000000..070e62e[m
[1m--- /dev/null[m
[1m+++ b/tools/storyteller/example_config.prototxt[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32minvoice_creator {[m
[32m+[m[32m  name: "<your name>"[m
[32m+[m[32m  phone_number: "<your phone>"[m
[32m+[m[32m  email: "<your email>"[m
[32m+[m[32m  street_and_number: "<street and number>"[m
[32m+[m[32m  city_state_country: "<city state and country>"[m
[32m+[m[32m  zip_code: "<zip code>"[m
[32m+[m[32m  tagline: "<invoice tagline>"[m
[32m+[m[32m  hourly_rate_usd: <rate>[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32minvoice_receiver {[m
[32m+[m[32m  name: "<company name>"[m
[32m+[m[32m  street_and_number: "<street and number>"[m
[32m+[m[32m  city_state_country: "<city state and country>"[m
[32m+[m[32m}[m
[1mdiff --git a/tools/storyteller/res/pause.png b/tools/storyteller/res/pause.png[m
[1mnew file mode 100644[m
[1mindex 0000000..df41744[m
Binary files /dev/null and b/tools/storyteller/res/pause.png differ
[1mdiff --git a/tools/storyteller/res/play.png b/tools/storyteller/res/play.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5c09469[m
Binary files /dev/null and b/tools/storyteller/res/play.png differ
[1mdiff --git a/tools/update_deps.sh b/tools/update_deps.sh[m
[1mnew file mode 100755[m
[1mindex 0000000..638784a[m
[1m--- /dev/null[m
[1m+++ b/tools/update_deps.sh[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32m# Script for updating Maven deps after modifying or deleting a dependency in dependencies.yaml.[m
[32m+[m[32m# Usage: tools/deps/update_maven_deps.sh[m
[32m+[m[32m# TODO: Rename workspace.bzl to package-lock.bzl[m
[32m+[m[32m# TODO: Think of how to use StartupOS's update_deps.sh.[m
[32m+[m[32mbazel run @startup_os//tools:bazel_deps -- generate -r $(pwd) -s third_party/maven/workspace.bzl -d dependencies.yaml[m
[32m+[m
[32m+[m[32m# Fix formatting for BUILD files[m
[32m+[m[32mbazel run @startup_os//tools/formatter -- --path $(pwd)/third_party --build &>/dev/null[m
\ No newline at end of file[m
